// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"encoding/json"
	tfTypes "github.com/airbytehq/terraform-provider-airbyte/internal/provider/types"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/models/operations"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

func (r *DestinationHubspotResourceModel) RefreshFromSharedDestinationResponse(ctx context.Context, resp *shared.DestinationResponse) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		configurationPriorData := r.Configuration
		r.Configuration = &tfTypes.DestinationHubspot{}
		r.Configuration.AdditionalProperties = configurationPriorData.AdditionalProperties
		r.Configuration.Credentials = configurationPriorData.Credentials
		r.Configuration.ObjectStorageConfig = configurationPriorData.ObjectStorageConfig
		r.CreatedAt = types.Int64Value(resp.CreatedAt)
		r.DefinitionID = types.StringValue(resp.DefinitionID)
		r.DestinationID = types.StringValue(resp.DestinationID)
		r.DestinationType = types.StringValue(resp.DestinationType)
		r.Name = types.StringValue(resp.Name)
		if resp.ResourceAllocation == nil {
			r.ResourceAllocation = nil
		} else {
			r.ResourceAllocation = &tfTypes.ScopedResourceRequirements{}
			if resp.ResourceAllocation.Default == nil {
				r.ResourceAllocation.Default = nil
			} else {
				r.ResourceAllocation.Default = &tfTypes.ResourceRequirements{}
				r.ResourceAllocation.Default.CPULimit = types.StringPointerValue(resp.ResourceAllocation.Default.CPULimit)
				r.ResourceAllocation.Default.CPURequest = types.StringPointerValue(resp.ResourceAllocation.Default.CPURequest)
				r.ResourceAllocation.Default.EphemeralStorageLimit = types.StringPointerValue(resp.ResourceAllocation.Default.EphemeralStorageLimit)
				r.ResourceAllocation.Default.EphemeralStorageRequest = types.StringPointerValue(resp.ResourceAllocation.Default.EphemeralStorageRequest)
				r.ResourceAllocation.Default.MemoryLimit = types.StringPointerValue(resp.ResourceAllocation.Default.MemoryLimit)
				r.ResourceAllocation.Default.MemoryRequest = types.StringPointerValue(resp.ResourceAllocation.Default.MemoryRequest)
			}
			r.ResourceAllocation.JobSpecific = []tfTypes.JobTypeResourceLimit{}

			for _, jobSpecificItem := range resp.ResourceAllocation.JobSpecific {
				var jobSpecific tfTypes.JobTypeResourceLimit

				jobSpecific.JobType = types.StringValue(string(jobSpecificItem.JobType))
				jobSpecific.ResourceRequirements = &tfTypes.ResourceRequirements{}
				jobSpecific.ResourceRequirements.CPULimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.CPULimit)
				jobSpecific.ResourceRequirements.CPURequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.CPURequest)
				jobSpecific.ResourceRequirements.EphemeralStorageLimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.EphemeralStorageLimit)
				jobSpecific.ResourceRequirements.EphemeralStorageRequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.EphemeralStorageRequest)
				jobSpecific.ResourceRequirements.MemoryLimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.MemoryLimit)
				jobSpecific.ResourceRequirements.MemoryRequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.MemoryRequest)

				r.ResourceAllocation.JobSpecific = append(r.ResourceAllocation.JobSpecific, jobSpecific)
			}
		}
		r.WorkspaceID = types.StringValue(resp.WorkspaceID)
	}

	return diags
}

func (r *DestinationHubspotResourceModel) ToOperationsDeleteDestinationHubspotRequest(ctx context.Context) (*operations.DeleteDestinationHubspotRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var destinationID string
	destinationID = r.DestinationID.ValueString()

	out := operations.DeleteDestinationHubspotRequest{
		DestinationID: destinationID,
	}

	return &out, diags
}

func (r *DestinationHubspotResourceModel) ToOperationsGetDestinationHubspotRequest(ctx context.Context) (*operations.GetDestinationHubspotRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var destinationID string
	destinationID = r.DestinationID.ValueString()

	out := operations.GetDestinationHubspotRequest{
		DestinationID: destinationID,
	}

	return &out, diags
}

func (r *DestinationHubspotResourceModel) ToOperationsPutDestinationHubspotRequest(ctx context.Context) (*operations.PutDestinationHubspotRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var destinationID string
	destinationID = r.DestinationID.ValueString()

	destinationHubspotPutRequest, destinationHubspotPutRequestDiags := r.ToSharedDestinationHubspotPutRequest(ctx)
	diags.Append(destinationHubspotPutRequestDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := operations.PutDestinationHubspotRequest{
		DestinationID:                destinationID,
		DestinationHubspotPutRequest: *destinationHubspotPutRequest,
	}

	return &out, diags
}

func (r *DestinationHubspotResourceModel) ToSharedDestinationHubspotCreateRequest(ctx context.Context) (*shared.DestinationHubspotCreateRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var name string
	name = r.Name.ValueString()

	definitionID := new(string)
	if !r.DefinitionID.IsUnknown() && !r.DefinitionID.IsNull() {
		*definitionID = r.DefinitionID.ValueString()
	} else {
		definitionID = nil
	}
	var workspaceID string
	workspaceID = r.WorkspaceID.ValueString()

	var credentials shared.DestinationHubspotCredentials
	var destinationHubspotOAuth *shared.DestinationHubspotOAuth
	if r.Configuration.Credentials.OAuth != nil {
		var clientID string
		clientID = r.Configuration.Credentials.OAuth.ClientID.ValueString()

		var clientSecret string
		clientSecret = r.Configuration.Credentials.OAuth.ClientSecret.ValueString()

		var refreshToken string
		refreshToken = r.Configuration.Credentials.OAuth.RefreshToken.ValueString()

		typeVar := new(shared.Type)
		if !r.Configuration.Credentials.OAuth.Type.IsUnknown() && !r.Configuration.Credentials.OAuth.Type.IsNull() {
			*typeVar = shared.Type(r.Configuration.Credentials.OAuth.Type.ValueString())
		} else {
			typeVar = nil
		}
		var additionalProperties map[string]any
		if !r.Configuration.Credentials.OAuth.AdditionalProperties.IsUnknown() && !r.Configuration.Credentials.OAuth.AdditionalProperties.IsNull() {
			_ = json.Unmarshal([]byte(r.Configuration.Credentials.OAuth.AdditionalProperties.ValueString()), &additionalProperties)
		}
		destinationHubspotOAuth = &shared.DestinationHubspotOAuth{
			ClientID:             clientID,
			ClientSecret:         clientSecret,
			RefreshToken:         refreshToken,
			Type:                 typeVar,
			AdditionalProperties: additionalProperties,
		}
	}
	if destinationHubspotOAuth != nil {
		credentials = shared.DestinationHubspotCredentials{
			DestinationHubspotOAuth: destinationHubspotOAuth,
		}
	}
	var objectStorageConfig *shared.ObjectStorageConfiguration
	if r.Configuration.ObjectStorageConfig != nil {
		var destinationHubspotNone *shared.DestinationHubspotNone
		if r.Configuration.ObjectStorageConfig.None != nil {
			storageType := new(shared.DestinationHubspotStorageType)
			if !r.Configuration.ObjectStorageConfig.None.StorageType.IsUnknown() && !r.Configuration.ObjectStorageConfig.None.StorageType.IsNull() {
				*storageType = shared.DestinationHubspotStorageType(r.Configuration.ObjectStorageConfig.None.StorageType.ValueString())
			} else {
				storageType = nil
			}
			var additionalProperties1 map[string]any
			if !r.Configuration.ObjectStorageConfig.None.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.None.AdditionalProperties.IsNull() {
				_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.None.AdditionalProperties.ValueString()), &additionalProperties1)
			}
			destinationHubspotNone = &shared.DestinationHubspotNone{
				StorageType:          storageType,
				AdditionalProperties: additionalProperties1,
			}
		}
		if destinationHubspotNone != nil {
			objectStorageConfig = &shared.ObjectStorageConfiguration{
				DestinationHubspotNone: destinationHubspotNone,
			}
		}
		var destinationHubspotS3 *shared.DestinationHubspotS3
		if r.Configuration.ObjectStorageConfig.S3 != nil {
			accessKeyID := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.AccessKeyID.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.AccessKeyID.IsNull() {
				*accessKeyID = r.Configuration.ObjectStorageConfig.S3.AccessKeyID.ValueString()
			} else {
				accessKeyID = nil
			}
			var bucketPath string
			bucketPath = r.Configuration.ObjectStorageConfig.S3.BucketPath.ValueString()

			var compression *shared.DestinationHubspotCompression
			if r.Configuration.ObjectStorageConfig.S3.Compression != nil {
				var destinationHubspotNoCompression *shared.DestinationHubspotNoCompression
				if r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression != nil {
					compressionType := new(shared.DestinationHubspotCompressionType)
					if !r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.CompressionType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.CompressionType.IsNull() {
						*compressionType = shared.DestinationHubspotCompressionType(r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.CompressionType.ValueString())
					} else {
						compressionType = nil
					}
					var additionalProperties2 map[string]any
					if !r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.AdditionalProperties.IsNull() {
						_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.AdditionalProperties.ValueString()), &additionalProperties2)
					}
					destinationHubspotNoCompression = &shared.DestinationHubspotNoCompression{
						CompressionType:      compressionType,
						AdditionalProperties: additionalProperties2,
					}
				}
				if destinationHubspotNoCompression != nil {
					compression = &shared.DestinationHubspotCompression{
						DestinationHubspotNoCompression: destinationHubspotNoCompression,
					}
				}
				var destinationHubspotGZIP *shared.DestinationHubspotGZIP
				if r.Configuration.ObjectStorageConfig.S3.Compression.Gzip != nil {
					compressionType1 := new(shared.DestinationHubspotSchemasCompressionType)
					if !r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.CompressionType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.CompressionType.IsNull() {
						*compressionType1 = shared.DestinationHubspotSchemasCompressionType(r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.CompressionType.ValueString())
					} else {
						compressionType1 = nil
					}
					var additionalProperties3 map[string]any
					if !r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.AdditionalProperties.IsNull() {
						_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.AdditionalProperties.ValueString()), &additionalProperties3)
					}
					destinationHubspotGZIP = &shared.DestinationHubspotGZIP{
						CompressionType:      compressionType1,
						AdditionalProperties: additionalProperties3,
					}
				}
				if destinationHubspotGZIP != nil {
					compression = &shared.DestinationHubspotCompression{
						DestinationHubspotGZIP: destinationHubspotGZIP,
					}
				}
			}
			fileNameFormat := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.FileNameFormat.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.FileNameFormat.IsNull() {
				*fileNameFormat = r.Configuration.ObjectStorageConfig.S3.FileNameFormat.ValueString()
			} else {
				fileNameFormat = nil
			}
			var format shared.DestinationHubspotOutputFormat
			var destinationHubspotCSVCommaSeparatedValues *shared.DestinationHubspotCSVCommaSeparatedValues
			if r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues != nil {
				flattening := new(shared.DestinationHubspotFlattening)
				if !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.Flattening.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.Flattening.IsNull() {
					*flattening = shared.DestinationHubspotFlattening(r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.Flattening.ValueString())
				} else {
					flattening = nil
				}
				formatType := new(shared.DestinationHubspotFormatType)
				if !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.FormatType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.FormatType.IsNull() {
					*formatType = shared.DestinationHubspotFormatType(r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.FormatType.ValueString())
				} else {
					formatType = nil
				}
				var additionalProperties4 map[string]any
				if !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.AdditionalProperties.IsNull() {
					_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.AdditionalProperties.ValueString()), &additionalProperties4)
				}
				destinationHubspotCSVCommaSeparatedValues = &shared.DestinationHubspotCSVCommaSeparatedValues{
					Flattening:           flattening,
					FormatType:           formatType,
					AdditionalProperties: additionalProperties4,
				}
			}
			if destinationHubspotCSVCommaSeparatedValues != nil {
				format = shared.DestinationHubspotOutputFormat{
					DestinationHubspotCSVCommaSeparatedValues: destinationHubspotCSVCommaSeparatedValues,
				}
			}
			var destinationHubspotJSONLinesNewlineDelimitedJSON *shared.DestinationHubspotJSONLinesNewlineDelimitedJSON
			if r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON != nil {
				flattening1 := new(shared.DestinationHubspotSchemasFlattening)
				if !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.Flattening.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.Flattening.IsNull() {
					*flattening1 = shared.DestinationHubspotSchemasFlattening(r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.Flattening.ValueString())
				} else {
					flattening1 = nil
				}
				formatType1 := new(shared.DestinationHubspotSchemasFormatType)
				if !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.FormatType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.FormatType.IsNull() {
					*formatType1 = shared.DestinationHubspotSchemasFormatType(r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.FormatType.ValueString())
				} else {
					formatType1 = nil
				}
				var additionalProperties5 map[string]any
				if !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.AdditionalProperties.IsNull() {
					_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.AdditionalProperties.ValueString()), &additionalProperties5)
				}
				destinationHubspotJSONLinesNewlineDelimitedJSON = &shared.DestinationHubspotJSONLinesNewlineDelimitedJSON{
					Flattening:           flattening1,
					FormatType:           formatType1,
					AdditionalProperties: additionalProperties5,
				}
			}
			if destinationHubspotJSONLinesNewlineDelimitedJSON != nil {
				format = shared.DestinationHubspotOutputFormat{
					DestinationHubspotJSONLinesNewlineDelimitedJSON: destinationHubspotJSONLinesNewlineDelimitedJSON,
				}
			}
			pathFormat := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.PathFormat.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.PathFormat.IsNull() {
				*pathFormat = r.Configuration.ObjectStorageConfig.S3.PathFormat.ValueString()
			} else {
				pathFormat = nil
			}
			roleArn := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.RoleArn.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.RoleArn.IsNull() {
				*roleArn = r.Configuration.ObjectStorageConfig.S3.RoleArn.ValueString()
			} else {
				roleArn = nil
			}
			var s3BucketName string
			s3BucketName = r.Configuration.ObjectStorageConfig.S3.S3BucketName.ValueString()

			s3BucketRegion := new(shared.DestinationHubspotS3BucketRegion)
			if !r.Configuration.ObjectStorageConfig.S3.S3BucketRegion.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.S3BucketRegion.IsNull() {
				*s3BucketRegion = shared.DestinationHubspotS3BucketRegion(r.Configuration.ObjectStorageConfig.S3.S3BucketRegion.ValueString())
			} else {
				s3BucketRegion = nil
			}
			s3Endpoint := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.S3Endpoint.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.S3Endpoint.IsNull() {
				*s3Endpoint = r.Configuration.ObjectStorageConfig.S3.S3Endpoint.ValueString()
			} else {
				s3Endpoint = nil
			}
			secretAccessKey := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.SecretAccessKey.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.SecretAccessKey.IsNull() {
				*secretAccessKey = r.Configuration.ObjectStorageConfig.S3.SecretAccessKey.ValueString()
			} else {
				secretAccessKey = nil
			}
			storageType1 := new(shared.DestinationHubspotSchemasStorageType)
			if !r.Configuration.ObjectStorageConfig.S3.StorageType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.StorageType.IsNull() {
				*storageType1 = shared.DestinationHubspotSchemasStorageType(r.Configuration.ObjectStorageConfig.S3.StorageType.ValueString())
			} else {
				storageType1 = nil
			}
			var additionalProperties6 map[string]any
			if !r.Configuration.ObjectStorageConfig.S3.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.AdditionalProperties.IsNull() {
				_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.AdditionalProperties.ValueString()), &additionalProperties6)
			}
			destinationHubspotS3 = &shared.DestinationHubspotS3{
				AccessKeyID:          accessKeyID,
				BucketPath:           bucketPath,
				Compression:          compression,
				FileNameFormat:       fileNameFormat,
				Format:               format,
				PathFormat:           pathFormat,
				RoleArn:              roleArn,
				S3BucketName:         s3BucketName,
				S3BucketRegion:       s3BucketRegion,
				S3Endpoint:           s3Endpoint,
				SecretAccessKey:      secretAccessKey,
				StorageType:          storageType1,
				AdditionalProperties: additionalProperties6,
			}
		}
		if destinationHubspotS3 != nil {
			objectStorageConfig = &shared.ObjectStorageConfiguration{
				DestinationHubspotS3: destinationHubspotS3,
			}
		}
	}
	var additionalProperties7 map[string]any
	if !r.Configuration.AdditionalProperties.IsUnknown() && !r.Configuration.AdditionalProperties.IsNull() {
		_ = json.Unmarshal([]byte(r.Configuration.AdditionalProperties.ValueString()), &additionalProperties7)
	}
	configuration := shared.DestinationHubspot{
		Credentials:          credentials,
		ObjectStorageConfig:  objectStorageConfig,
		AdditionalProperties: additionalProperties7,
	}
	out := shared.DestinationHubspotCreateRequest{
		Name:          name,
		DefinitionID:  definitionID,
		WorkspaceID:   workspaceID,
		Configuration: configuration,
	}

	return &out, diags
}

func (r *DestinationHubspotResourceModel) ToSharedDestinationHubspotPutRequest(ctx context.Context) (*shared.DestinationHubspotPutRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var name string
	name = r.Name.ValueString()

	var workspaceID string
	workspaceID = r.WorkspaceID.ValueString()

	var credentials *shared.DestinationHubspotUpdateCredentials
	var destinationHubspotUpdateOAuth *shared.DestinationHubspotUpdateOAuth
	if r.Configuration.Credentials.OAuth != nil {
		clientID := new(string)
		if !r.Configuration.Credentials.OAuth.ClientID.IsUnknown() && !r.Configuration.Credentials.OAuth.ClientID.IsNull() {
			*clientID = r.Configuration.Credentials.OAuth.ClientID.ValueString()
		} else {
			clientID = nil
		}
		clientSecret := new(string)
		if !r.Configuration.Credentials.OAuth.ClientSecret.IsUnknown() && !r.Configuration.Credentials.OAuth.ClientSecret.IsNull() {
			*clientSecret = r.Configuration.Credentials.OAuth.ClientSecret.ValueString()
		} else {
			clientSecret = nil
		}
		refreshToken := new(string)
		if !r.Configuration.Credentials.OAuth.RefreshToken.IsUnknown() && !r.Configuration.Credentials.OAuth.RefreshToken.IsNull() {
			*refreshToken = r.Configuration.Credentials.OAuth.RefreshToken.ValueString()
		} else {
			refreshToken = nil
		}
		typeVar := new(shared.DestinationHubspotUpdateType)
		if !r.Configuration.Credentials.OAuth.Type.IsUnknown() && !r.Configuration.Credentials.OAuth.Type.IsNull() {
			*typeVar = shared.DestinationHubspotUpdateType(r.Configuration.Credentials.OAuth.Type.ValueString())
		} else {
			typeVar = nil
		}
		var additionalProperties map[string]any
		if !r.Configuration.Credentials.OAuth.AdditionalProperties.IsUnknown() && !r.Configuration.Credentials.OAuth.AdditionalProperties.IsNull() {
			_ = json.Unmarshal([]byte(r.Configuration.Credentials.OAuth.AdditionalProperties.ValueString()), &additionalProperties)
		}
		destinationHubspotUpdateOAuth = &shared.DestinationHubspotUpdateOAuth{
			ClientID:             clientID,
			ClientSecret:         clientSecret,
			RefreshToken:         refreshToken,
			Type:                 typeVar,
			AdditionalProperties: additionalProperties,
		}
	}
	if destinationHubspotUpdateOAuth != nil {
		credentials = &shared.DestinationHubspotUpdateCredentials{
			DestinationHubspotUpdateOAuth: destinationHubspotUpdateOAuth,
		}
	}
	var objectStorageConfig *shared.DestinationHubspotUpdateObjectStorageConfiguration
	if r.Configuration.ObjectStorageConfig != nil {
		var destinationHubspotUpdateNone *shared.DestinationHubspotUpdateNone
		if r.Configuration.ObjectStorageConfig.None != nil {
			storageType := new(shared.DestinationHubspotUpdateStorageType)
			if !r.Configuration.ObjectStorageConfig.None.StorageType.IsUnknown() && !r.Configuration.ObjectStorageConfig.None.StorageType.IsNull() {
				*storageType = shared.DestinationHubspotUpdateStorageType(r.Configuration.ObjectStorageConfig.None.StorageType.ValueString())
			} else {
				storageType = nil
			}
			var additionalProperties1 map[string]any
			if !r.Configuration.ObjectStorageConfig.None.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.None.AdditionalProperties.IsNull() {
				_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.None.AdditionalProperties.ValueString()), &additionalProperties1)
			}
			destinationHubspotUpdateNone = &shared.DestinationHubspotUpdateNone{
				StorageType:          storageType,
				AdditionalProperties: additionalProperties1,
			}
		}
		if destinationHubspotUpdateNone != nil {
			objectStorageConfig = &shared.DestinationHubspotUpdateObjectStorageConfiguration{
				DestinationHubspotUpdateNone: destinationHubspotUpdateNone,
			}
		}
		var destinationHubspotUpdateS3 *shared.DestinationHubspotUpdateS3
		if r.Configuration.ObjectStorageConfig.S3 != nil {
			accessKeyID := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.AccessKeyID.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.AccessKeyID.IsNull() {
				*accessKeyID = r.Configuration.ObjectStorageConfig.S3.AccessKeyID.ValueString()
			} else {
				accessKeyID = nil
			}
			bucketPath := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.BucketPath.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.BucketPath.IsNull() {
				*bucketPath = r.Configuration.ObjectStorageConfig.S3.BucketPath.ValueString()
			} else {
				bucketPath = nil
			}
			var compression *shared.DestinationHubspotUpdateCompression
			if r.Configuration.ObjectStorageConfig.S3.Compression != nil {
				var destinationHubspotUpdateNoCompression *shared.DestinationHubspotUpdateNoCompression
				if r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression != nil {
					compressionType := new(shared.DestinationHubspotUpdateCompressionType)
					if !r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.CompressionType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.CompressionType.IsNull() {
						*compressionType = shared.DestinationHubspotUpdateCompressionType(r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.CompressionType.ValueString())
					} else {
						compressionType = nil
					}
					var additionalProperties2 map[string]any
					if !r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.AdditionalProperties.IsNull() {
						_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.Compression.NoCompression.AdditionalProperties.ValueString()), &additionalProperties2)
					}
					destinationHubspotUpdateNoCompression = &shared.DestinationHubspotUpdateNoCompression{
						CompressionType:      compressionType,
						AdditionalProperties: additionalProperties2,
					}
				}
				if destinationHubspotUpdateNoCompression != nil {
					compression = &shared.DestinationHubspotUpdateCompression{
						DestinationHubspotUpdateNoCompression: destinationHubspotUpdateNoCompression,
					}
				}
				var destinationHubspotUpdateGZIP *shared.DestinationHubspotUpdateGZIP
				if r.Configuration.ObjectStorageConfig.S3.Compression.Gzip != nil {
					compressionType1 := new(shared.DestinationHubspotUpdateSchemasCompressionType)
					if !r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.CompressionType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.CompressionType.IsNull() {
						*compressionType1 = shared.DestinationHubspotUpdateSchemasCompressionType(r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.CompressionType.ValueString())
					} else {
						compressionType1 = nil
					}
					var additionalProperties3 map[string]any
					if !r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.AdditionalProperties.IsNull() {
						_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.Compression.Gzip.AdditionalProperties.ValueString()), &additionalProperties3)
					}
					destinationHubspotUpdateGZIP = &shared.DestinationHubspotUpdateGZIP{
						CompressionType:      compressionType1,
						AdditionalProperties: additionalProperties3,
					}
				}
				if destinationHubspotUpdateGZIP != nil {
					compression = &shared.DestinationHubspotUpdateCompression{
						DestinationHubspotUpdateGZIP: destinationHubspotUpdateGZIP,
					}
				}
			}
			fileNameFormat := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.FileNameFormat.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.FileNameFormat.IsNull() {
				*fileNameFormat = r.Configuration.ObjectStorageConfig.S3.FileNameFormat.ValueString()
			} else {
				fileNameFormat = nil
			}
			var format *shared.DestinationHubspotUpdateOutputFormat
			var destinationHubspotUpdateCSVCommaSeparatedValues *shared.DestinationHubspotUpdateCSVCommaSeparatedValues
			if r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues != nil {
				flattening := new(shared.DestinationHubspotUpdateFlattening)
				if !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.Flattening.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.Flattening.IsNull() {
					*flattening = shared.DestinationHubspotUpdateFlattening(r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.Flattening.ValueString())
				} else {
					flattening = nil
				}
				formatType := new(shared.DestinationHubspotUpdateFormatType)
				if !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.FormatType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.FormatType.IsNull() {
					*formatType = shared.DestinationHubspotUpdateFormatType(r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.FormatType.ValueString())
				} else {
					formatType = nil
				}
				var additionalProperties4 map[string]any
				if !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.AdditionalProperties.IsNull() {
					_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.Format.CSVCommaSeparatedValues.AdditionalProperties.ValueString()), &additionalProperties4)
				}
				destinationHubspotUpdateCSVCommaSeparatedValues = &shared.DestinationHubspotUpdateCSVCommaSeparatedValues{
					Flattening:           flattening,
					FormatType:           formatType,
					AdditionalProperties: additionalProperties4,
				}
			}
			if destinationHubspotUpdateCSVCommaSeparatedValues != nil {
				format = &shared.DestinationHubspotUpdateOutputFormat{
					DestinationHubspotUpdateCSVCommaSeparatedValues: destinationHubspotUpdateCSVCommaSeparatedValues,
				}
			}
			var destinationHubspotUpdateJSONLinesNewlineDelimitedJSON *shared.DestinationHubspotUpdateJSONLinesNewlineDelimitedJSON
			if r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON != nil {
				flattening1 := new(shared.DestinationHubspotUpdateSchemasFlattening)
				if !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.Flattening.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.Flattening.IsNull() {
					*flattening1 = shared.DestinationHubspotUpdateSchemasFlattening(r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.Flattening.ValueString())
				} else {
					flattening1 = nil
				}
				formatType1 := new(shared.DestinationHubspotUpdateSchemasFormatType)
				if !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.FormatType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.FormatType.IsNull() {
					*formatType1 = shared.DestinationHubspotUpdateSchemasFormatType(r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.FormatType.ValueString())
				} else {
					formatType1 = nil
				}
				var additionalProperties5 map[string]any
				if !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.AdditionalProperties.IsNull() {
					_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.Format.JSONLinesNewlineDelimitedJSON.AdditionalProperties.ValueString()), &additionalProperties5)
				}
				destinationHubspotUpdateJSONLinesNewlineDelimitedJSON = &shared.DestinationHubspotUpdateJSONLinesNewlineDelimitedJSON{
					Flattening:           flattening1,
					FormatType:           formatType1,
					AdditionalProperties: additionalProperties5,
				}
			}
			if destinationHubspotUpdateJSONLinesNewlineDelimitedJSON != nil {
				format = &shared.DestinationHubspotUpdateOutputFormat{
					DestinationHubspotUpdateJSONLinesNewlineDelimitedJSON: destinationHubspotUpdateJSONLinesNewlineDelimitedJSON,
				}
			}
			pathFormat := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.PathFormat.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.PathFormat.IsNull() {
				*pathFormat = r.Configuration.ObjectStorageConfig.S3.PathFormat.ValueString()
			} else {
				pathFormat = nil
			}
			roleArn := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.RoleArn.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.RoleArn.IsNull() {
				*roleArn = r.Configuration.ObjectStorageConfig.S3.RoleArn.ValueString()
			} else {
				roleArn = nil
			}
			s3BucketName := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.S3BucketName.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.S3BucketName.IsNull() {
				*s3BucketName = r.Configuration.ObjectStorageConfig.S3.S3BucketName.ValueString()
			} else {
				s3BucketName = nil
			}
			s3BucketRegion := new(shared.DestinationHubspotUpdateS3BucketRegion)
			if !r.Configuration.ObjectStorageConfig.S3.S3BucketRegion.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.S3BucketRegion.IsNull() {
				*s3BucketRegion = shared.DestinationHubspotUpdateS3BucketRegion(r.Configuration.ObjectStorageConfig.S3.S3BucketRegion.ValueString())
			} else {
				s3BucketRegion = nil
			}
			s3Endpoint := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.S3Endpoint.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.S3Endpoint.IsNull() {
				*s3Endpoint = r.Configuration.ObjectStorageConfig.S3.S3Endpoint.ValueString()
			} else {
				s3Endpoint = nil
			}
			secretAccessKey := new(string)
			if !r.Configuration.ObjectStorageConfig.S3.SecretAccessKey.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.SecretAccessKey.IsNull() {
				*secretAccessKey = r.Configuration.ObjectStorageConfig.S3.SecretAccessKey.ValueString()
			} else {
				secretAccessKey = nil
			}
			storageType1 := new(shared.DestinationHubspotUpdateSchemasStorageType)
			if !r.Configuration.ObjectStorageConfig.S3.StorageType.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.StorageType.IsNull() {
				*storageType1 = shared.DestinationHubspotUpdateSchemasStorageType(r.Configuration.ObjectStorageConfig.S3.StorageType.ValueString())
			} else {
				storageType1 = nil
			}
			var additionalProperties6 map[string]any
			if !r.Configuration.ObjectStorageConfig.S3.AdditionalProperties.IsUnknown() && !r.Configuration.ObjectStorageConfig.S3.AdditionalProperties.IsNull() {
				_ = json.Unmarshal([]byte(r.Configuration.ObjectStorageConfig.S3.AdditionalProperties.ValueString()), &additionalProperties6)
			}
			destinationHubspotUpdateS3 = &shared.DestinationHubspotUpdateS3{
				AccessKeyID:          accessKeyID,
				BucketPath:           bucketPath,
				Compression:          compression,
				FileNameFormat:       fileNameFormat,
				Format:               format,
				PathFormat:           pathFormat,
				RoleArn:              roleArn,
				S3BucketName:         s3BucketName,
				S3BucketRegion:       s3BucketRegion,
				S3Endpoint:           s3Endpoint,
				SecretAccessKey:      secretAccessKey,
				StorageType:          storageType1,
				AdditionalProperties: additionalProperties6,
			}
		}
		if destinationHubspotUpdateS3 != nil {
			objectStorageConfig = &shared.DestinationHubspotUpdateObjectStorageConfiguration{
				DestinationHubspotUpdateS3: destinationHubspotUpdateS3,
			}
		}
	}
	var additionalProperties7 map[string]any
	if !r.Configuration.AdditionalProperties.IsUnknown() && !r.Configuration.AdditionalProperties.IsNull() {
		_ = json.Unmarshal([]byte(r.Configuration.AdditionalProperties.ValueString()), &additionalProperties7)
	}
	configuration := shared.DestinationHubspotUpdate{
		Credentials:          credentials,
		ObjectStorageConfig:  objectStorageConfig,
		AdditionalProperties: additionalProperties7,
	}
	out := shared.DestinationHubspotPutRequest{
		Name:          name,
		WorkspaceID:   workspaceID,
		Configuration: configuration,
	}

	return &out, diags
}
