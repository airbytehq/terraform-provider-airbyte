// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package provider

import (
	"encoding/json"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/pkg/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

func (r *SourceMongodbResourceModel) ToCreateSDKType() *shared.SourceMongodbCreateRequest {
	authSource := new(string)
	if !r.Configuration.AuthSource.IsUnknown() && !r.Configuration.AuthSource.IsNull() {
		*authSource = r.Configuration.AuthSource.ValueString()
	} else {
		authSource = nil
	}
	database := r.Configuration.Database.ValueString()
	var instanceType *shared.SourceMongodbMongoDbInstanceType
	if r.Configuration.InstanceType != nil {
		var sourceMongodbStandaloneMongoDbInstance *shared.SourceMongodbStandaloneMongoDbInstance
		if r.Configuration.InstanceType.StandaloneMongoDbInstance != nil {
			host := r.Configuration.InstanceType.StandaloneMongoDbInstance.Host.ValueString()
			port := new(int64)
			if !r.Configuration.InstanceType.StandaloneMongoDbInstance.Port.IsUnknown() && !r.Configuration.InstanceType.StandaloneMongoDbInstance.Port.IsNull() {
				*port = r.Configuration.InstanceType.StandaloneMongoDbInstance.Port.ValueInt64()
			} else {
				port = nil
			}
			sourceMongodbStandaloneMongoDbInstance = &shared.SourceMongodbStandaloneMongoDbInstance{
				Host: host,
				Port: port,
			}
		}
		if sourceMongodbStandaloneMongoDbInstance != nil {
			instanceType = &shared.SourceMongodbMongoDbInstanceType{
				StandaloneMongoDbInstance: sourceMongodbStandaloneMongoDbInstance,
			}
		}
		var sourceMongodbReplicaSet *shared.SourceMongodbReplicaSet
		if r.Configuration.InstanceType.ReplicaSet != nil {
			replicaSet := new(string)
			if !r.Configuration.InstanceType.ReplicaSet.ReplicaSet.IsUnknown() && !r.Configuration.InstanceType.ReplicaSet.ReplicaSet.IsNull() {
				*replicaSet = r.Configuration.InstanceType.ReplicaSet.ReplicaSet.ValueString()
			} else {
				replicaSet = nil
			}
			serverAddresses := r.Configuration.InstanceType.ReplicaSet.ServerAddresses.ValueString()
			sourceMongodbReplicaSet = &shared.SourceMongodbReplicaSet{
				ReplicaSet:      replicaSet,
				ServerAddresses: serverAddresses,
			}
		}
		if sourceMongodbReplicaSet != nil {
			instanceType = &shared.SourceMongodbMongoDbInstanceType{
				ReplicaSet: sourceMongodbReplicaSet,
			}
		}
		var sourceMongodbMongoDBAtlas *shared.SourceMongodbMongoDBAtlas
		if r.Configuration.InstanceType.MongoDBAtlas != nil {
			var additionalProperties interface{}
			if !r.Configuration.InstanceType.MongoDBAtlas.AdditionalProperties.IsUnknown() && !r.Configuration.InstanceType.MongoDBAtlas.AdditionalProperties.IsNull() {
				_ = json.Unmarshal([]byte(r.Configuration.InstanceType.MongoDBAtlas.AdditionalProperties.ValueString()), &additionalProperties)
			}
			clusterURL := r.Configuration.InstanceType.MongoDBAtlas.ClusterURL.ValueString()
			sourceMongodbMongoDBAtlas = &shared.SourceMongodbMongoDBAtlas{
				AdditionalProperties: additionalProperties,
				ClusterURL:           clusterURL,
			}
		}
		if sourceMongodbMongoDBAtlas != nil {
			instanceType = &shared.SourceMongodbMongoDbInstanceType{
				MongoDBAtlas: sourceMongodbMongoDBAtlas,
			}
		}
	}
	password := new(string)
	if !r.Configuration.Password.IsUnknown() && !r.Configuration.Password.IsNull() {
		*password = r.Configuration.Password.ValueString()
	} else {
		password = nil
	}
	user := new(string)
	if !r.Configuration.User.IsUnknown() && !r.Configuration.User.IsNull() {
		*user = r.Configuration.User.ValueString()
	} else {
		user = nil
	}
	configuration := shared.SourceMongodb{
		AuthSource:   authSource,
		Database:     database,
		InstanceType: instanceType,
		Password:     password,
		User:         user,
	}
	name := r.Name.ValueString()
	secretID := new(string)
	if !r.SecretID.IsUnknown() && !r.SecretID.IsNull() {
		*secretID = r.SecretID.ValueString()
	} else {
		secretID = nil
	}
	workspaceID := r.WorkspaceID.ValueString()
	out := shared.SourceMongodbCreateRequest{
		Configuration: configuration,
		Name:          name,
		SecretID:      secretID,
		WorkspaceID:   workspaceID,
	}
	return &out
}

func (r *SourceMongodbResourceModel) ToGetSDKType() *shared.SourceMongodbCreateRequest {
	out := r.ToCreateSDKType()
	return out
}

func (r *SourceMongodbResourceModel) ToUpdateSDKType() *shared.SourceMongodbPutRequest {
	authSource := new(string)
	if !r.Configuration.AuthSource.IsUnknown() && !r.Configuration.AuthSource.IsNull() {
		*authSource = r.Configuration.AuthSource.ValueString()
	} else {
		authSource = nil
	}
	database := r.Configuration.Database.ValueString()
	var instanceType *shared.SourceMongodbUpdateMongoDbInstanceType
	if r.Configuration.InstanceType != nil {
		var sourceMongodbUpdateStandaloneMongoDbInstance *shared.SourceMongodbUpdateStandaloneMongoDbInstance
		if r.Configuration.InstanceType.StandaloneMongoDbInstance != nil {
			host := r.Configuration.InstanceType.StandaloneMongoDbInstance.Host.ValueString()
			port := new(int64)
			if !r.Configuration.InstanceType.StandaloneMongoDbInstance.Port.IsUnknown() && !r.Configuration.InstanceType.StandaloneMongoDbInstance.Port.IsNull() {
				*port = r.Configuration.InstanceType.StandaloneMongoDbInstance.Port.ValueInt64()
			} else {
				port = nil
			}
			sourceMongodbUpdateStandaloneMongoDbInstance = &shared.SourceMongodbUpdateStandaloneMongoDbInstance{
				Host: host,
				Port: port,
			}
		}
		if sourceMongodbUpdateStandaloneMongoDbInstance != nil {
			instanceType = &shared.SourceMongodbUpdateMongoDbInstanceType{
				StandaloneMongoDbInstance: sourceMongodbUpdateStandaloneMongoDbInstance,
			}
		}
		var sourceMongodbUpdateReplicaSet *shared.SourceMongodbUpdateReplicaSet
		if r.Configuration.InstanceType.ReplicaSet != nil {
			replicaSet := new(string)
			if !r.Configuration.InstanceType.ReplicaSet.ReplicaSet.IsUnknown() && !r.Configuration.InstanceType.ReplicaSet.ReplicaSet.IsNull() {
				*replicaSet = r.Configuration.InstanceType.ReplicaSet.ReplicaSet.ValueString()
			} else {
				replicaSet = nil
			}
			serverAddresses := r.Configuration.InstanceType.ReplicaSet.ServerAddresses.ValueString()
			sourceMongodbUpdateReplicaSet = &shared.SourceMongodbUpdateReplicaSet{
				ReplicaSet:      replicaSet,
				ServerAddresses: serverAddresses,
			}
		}
		if sourceMongodbUpdateReplicaSet != nil {
			instanceType = &shared.SourceMongodbUpdateMongoDbInstanceType{
				ReplicaSet: sourceMongodbUpdateReplicaSet,
			}
		}
		var sourceMongodbUpdateMongoDBAtlas *shared.SourceMongodbUpdateMongoDBAtlas
		if r.Configuration.InstanceType.MongoDBAtlas != nil {
			var additionalProperties interface{}
			if !r.Configuration.InstanceType.MongoDBAtlas.AdditionalProperties.IsUnknown() && !r.Configuration.InstanceType.MongoDBAtlas.AdditionalProperties.IsNull() {
				_ = json.Unmarshal([]byte(r.Configuration.InstanceType.MongoDBAtlas.AdditionalProperties.ValueString()), &additionalProperties)
			}
			clusterURL := r.Configuration.InstanceType.MongoDBAtlas.ClusterURL.ValueString()
			sourceMongodbUpdateMongoDBAtlas = &shared.SourceMongodbUpdateMongoDBAtlas{
				AdditionalProperties: additionalProperties,
				ClusterURL:           clusterURL,
			}
		}
		if sourceMongodbUpdateMongoDBAtlas != nil {
			instanceType = &shared.SourceMongodbUpdateMongoDbInstanceType{
				MongoDBAtlas: sourceMongodbUpdateMongoDBAtlas,
			}
		}
	}
	password := new(string)
	if !r.Configuration.Password.IsUnknown() && !r.Configuration.Password.IsNull() {
		*password = r.Configuration.Password.ValueString()
	} else {
		password = nil
	}
	user := new(string)
	if !r.Configuration.User.IsUnknown() && !r.Configuration.User.IsNull() {
		*user = r.Configuration.User.ValueString()
	} else {
		user = nil
	}
	configuration := shared.SourceMongodbUpdate{
		AuthSource:   authSource,
		Database:     database,
		InstanceType: instanceType,
		Password:     password,
		User:         user,
	}
	name := r.Name.ValueString()
	workspaceID := r.WorkspaceID.ValueString()
	out := shared.SourceMongodbPutRequest{
		Configuration: configuration,
		Name:          name,
		WorkspaceID:   workspaceID,
	}
	return &out
}

func (r *SourceMongodbResourceModel) ToDeleteSDKType() *shared.SourceMongodbCreateRequest {
	out := r.ToCreateSDKType()
	return out
}

func (r *SourceMongodbResourceModel) RefreshFromGetResponse(resp *shared.SourceResponse) {
	r.Name = types.StringValue(resp.Name)
	r.SourceID = types.StringValue(resp.SourceID)
	r.SourceType = types.StringValue(resp.SourceType)
	r.WorkspaceID = types.StringValue(resp.WorkspaceID)
}

func (r *SourceMongodbResourceModel) RefreshFromCreateResponse(resp *shared.SourceResponse) {
	r.RefreshFromGetResponse(resp)
}
