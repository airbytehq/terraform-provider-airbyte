// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	tfTypes "github.com/airbytehq/terraform-provider-airbyte/internal/provider/types"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/models/operations"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"time"
)

func (r *SourceFacebookMarketingResourceModel) RefreshFromSharedSourceResponse(ctx context.Context, resp *shared.SourceResponse) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		configurationPriorData := r.Configuration
		r.Configuration = &tfTypes.SourceFacebookMarketing{}
		r.Configuration.AccessToken = configurationPriorData.AccessToken
		r.Configuration.AccountIds = configurationPriorData.AccountIds
		r.Configuration.ActionBreakdownsAllowEmpty = configurationPriorData.ActionBreakdownsAllowEmpty
		r.Configuration.AdStatuses = configurationPriorData.AdStatuses
		r.Configuration.AdsetStatuses = configurationPriorData.AdsetStatuses
		r.Configuration.CampaignStatuses = configurationPriorData.CampaignStatuses
		r.Configuration.ClientID = configurationPriorData.ClientID
		r.Configuration.ClientSecret = configurationPriorData.ClientSecret
		r.Configuration.Credentials = configurationPriorData.Credentials
		r.Configuration.CustomInsights = configurationPriorData.CustomInsights
		r.Configuration.DefaultAdsInsightsActionBreakdowns = configurationPriorData.DefaultAdsInsightsActionBreakdowns
		r.Configuration.EndDate = configurationPriorData.EndDate
		r.Configuration.FetchThumbnailImages = configurationPriorData.FetchThumbnailImages
		r.Configuration.InsightsJobTimeout = configurationPriorData.InsightsJobTimeout
		r.Configuration.InsightsLookbackWindow = configurationPriorData.InsightsLookbackWindow
		r.Configuration.PageSize = configurationPriorData.PageSize
		r.Configuration.StartDate = configurationPriorData.StartDate
		r.CreatedAt = types.Int64Value(resp.CreatedAt)
		r.DefinitionID = types.StringValue(resp.DefinitionID)
		r.Name = types.StringValue(resp.Name)
		if resp.ResourceAllocation == nil {
			r.ResourceAllocation = nil
		} else {
			r.ResourceAllocation = &tfTypes.ScopedResourceRequirements{}
			if resp.ResourceAllocation.Default == nil {
				r.ResourceAllocation.Default = nil
			} else {
				r.ResourceAllocation.Default = &tfTypes.ResourceRequirements{}
				r.ResourceAllocation.Default.CPULimit = types.StringPointerValue(resp.ResourceAllocation.Default.CPULimit)
				r.ResourceAllocation.Default.CPURequest = types.StringPointerValue(resp.ResourceAllocation.Default.CPURequest)
				r.ResourceAllocation.Default.EphemeralStorageLimit = types.StringPointerValue(resp.ResourceAllocation.Default.EphemeralStorageLimit)
				r.ResourceAllocation.Default.EphemeralStorageRequest = types.StringPointerValue(resp.ResourceAllocation.Default.EphemeralStorageRequest)
				r.ResourceAllocation.Default.MemoryLimit = types.StringPointerValue(resp.ResourceAllocation.Default.MemoryLimit)
				r.ResourceAllocation.Default.MemoryRequest = types.StringPointerValue(resp.ResourceAllocation.Default.MemoryRequest)
			}
			r.ResourceAllocation.JobSpecific = []tfTypes.JobTypeResourceLimit{}

			for _, jobSpecificItem := range resp.ResourceAllocation.JobSpecific {
				var jobSpecific tfTypes.JobTypeResourceLimit

				jobSpecific.JobType = types.StringValue(string(jobSpecificItem.JobType))
				jobSpecific.ResourceRequirements = &tfTypes.ResourceRequirements{}
				jobSpecific.ResourceRequirements.CPULimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.CPULimit)
				jobSpecific.ResourceRequirements.CPURequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.CPURequest)
				jobSpecific.ResourceRequirements.EphemeralStorageLimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.EphemeralStorageLimit)
				jobSpecific.ResourceRequirements.EphemeralStorageRequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.EphemeralStorageRequest)
				jobSpecific.ResourceRequirements.MemoryLimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.MemoryLimit)
				jobSpecific.ResourceRequirements.MemoryRequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.MemoryRequest)

				r.ResourceAllocation.JobSpecific = append(r.ResourceAllocation.JobSpecific, jobSpecific)
			}
		}
		r.SourceID = types.StringValue(resp.SourceID)
		r.SourceType = types.StringValue(resp.SourceType)
		r.WorkspaceID = types.StringValue(resp.WorkspaceID)
	}

	return diags
}

func (r *SourceFacebookMarketingResourceModel) ToOperationsDeleteSourceFacebookMarketingRequest(ctx context.Context) (*operations.DeleteSourceFacebookMarketingRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var sourceID string
	sourceID = r.SourceID.ValueString()

	out := operations.DeleteSourceFacebookMarketingRequest{
		SourceID: sourceID,
	}

	return &out, diags
}

func (r *SourceFacebookMarketingResourceModel) ToOperationsGetSourceFacebookMarketingRequest(ctx context.Context) (*operations.GetSourceFacebookMarketingRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var sourceID string
	sourceID = r.SourceID.ValueString()

	out := operations.GetSourceFacebookMarketingRequest{
		SourceID: sourceID,
	}

	return &out, diags
}

func (r *SourceFacebookMarketingResourceModel) ToOperationsPutSourceFacebookMarketingRequest(ctx context.Context) (*operations.PutSourceFacebookMarketingRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var sourceID string
	sourceID = r.SourceID.ValueString()

	sourceFacebookMarketingPutRequest, sourceFacebookMarketingPutRequestDiags := r.ToSharedSourceFacebookMarketingPutRequest(ctx)
	diags.Append(sourceFacebookMarketingPutRequestDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := operations.PutSourceFacebookMarketingRequest{
		SourceID:                          sourceID,
		SourceFacebookMarketingPutRequest: *sourceFacebookMarketingPutRequest,
	}

	return &out, diags
}

func (r *SourceFacebookMarketingResourceModel) ToSharedSourceFacebookMarketingCreateRequest(ctx context.Context) (*shared.SourceFacebookMarketingCreateRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var name string
	name = r.Name.ValueString()

	definitionID := new(string)
	if !r.DefinitionID.IsUnknown() && !r.DefinitionID.IsNull() {
		*definitionID = r.DefinitionID.ValueString()
	} else {
		definitionID = nil
	}
	var workspaceID string
	workspaceID = r.WorkspaceID.ValueString()

	accessToken := new(string)
	if !r.Configuration.AccessToken.IsUnknown() && !r.Configuration.AccessToken.IsNull() {
		*accessToken = r.Configuration.AccessToken.ValueString()
	} else {
		accessToken = nil
	}
	accountIds := make([]string, 0, len(r.Configuration.AccountIds))
	for accountIdsIndex := range r.Configuration.AccountIds {
		accountIds = append(accountIds, r.Configuration.AccountIds[accountIdsIndex].ValueString())
	}
	actionBreakdownsAllowEmpty := new(bool)
	if !r.Configuration.ActionBreakdownsAllowEmpty.IsUnknown() && !r.Configuration.ActionBreakdownsAllowEmpty.IsNull() {
		*actionBreakdownsAllowEmpty = r.Configuration.ActionBreakdownsAllowEmpty.ValueBool()
	} else {
		actionBreakdownsAllowEmpty = nil
	}
	adStatuses := make([]shared.ValidAdStatuses, 0, len(r.Configuration.AdStatuses))
	for _, adStatusesItem := range r.Configuration.AdStatuses {
		adStatuses = append(adStatuses, shared.ValidAdStatuses(adStatusesItem.ValueString()))
	}
	adsetStatuses := make([]shared.ValidAdSetStatuses, 0, len(r.Configuration.AdsetStatuses))
	for _, adsetStatusesItem := range r.Configuration.AdsetStatuses {
		adsetStatuses = append(adsetStatuses, shared.ValidAdSetStatuses(adsetStatusesItem.ValueString()))
	}
	campaignStatuses := make([]shared.ValidCampaignStatuses, 0, len(r.Configuration.CampaignStatuses))
	for _, campaignStatusesItem := range r.Configuration.CampaignStatuses {
		campaignStatuses = append(campaignStatuses, shared.ValidCampaignStatuses(campaignStatusesItem.ValueString()))
	}
	clientID := new(string)
	if !r.Configuration.ClientID.IsUnknown() && !r.Configuration.ClientID.IsNull() {
		*clientID = r.Configuration.ClientID.ValueString()
	} else {
		clientID = nil
	}
	clientSecret := new(string)
	if !r.Configuration.ClientSecret.IsUnknown() && !r.Configuration.ClientSecret.IsNull() {
		*clientSecret = r.Configuration.ClientSecret.ValueString()
	} else {
		clientSecret = nil
	}
	var credentials shared.SourceFacebookMarketingAuthentication
	var authenticateViaFacebookMarketingOauth *shared.AuthenticateViaFacebookMarketingOauth
	if r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth != nil {
		accessToken1 := new(string)
		if !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.IsNull() {
			*accessToken1 = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.ValueString()
		} else {
			accessToken1 = nil
		}
		var clientId1 string
		clientId1 = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientID.ValueString()

		var clientSecret1 string
		clientSecret1 = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientSecret.ValueString()

		authenticateViaFacebookMarketingOauth = &shared.AuthenticateViaFacebookMarketingOauth{
			AccessToken:  accessToken1,
			ClientID:     clientId1,
			ClientSecret: clientSecret1,
		}
	}
	if authenticateViaFacebookMarketingOauth != nil {
		credentials = shared.SourceFacebookMarketingAuthentication{
			AuthenticateViaFacebookMarketingOauth: authenticateViaFacebookMarketingOauth,
		}
	}
	var serviceAccountKeyAuthentication *shared.ServiceAccountKeyAuthentication
	if r.Configuration.Credentials.ServiceAccountKeyAuthentication != nil {
		var accessToken2 string
		accessToken2 = r.Configuration.Credentials.ServiceAccountKeyAuthentication.AccessToken.ValueString()

		serviceAccountKeyAuthentication = &shared.ServiceAccountKeyAuthentication{
			AccessToken: accessToken2,
		}
	}
	if serviceAccountKeyAuthentication != nil {
		credentials = shared.SourceFacebookMarketingAuthentication{
			ServiceAccountKeyAuthentication: serviceAccountKeyAuthentication,
		}
	}
	customInsights := make([]shared.InsightConfig, 0, len(r.Configuration.CustomInsights))
	for customInsightsIndex := range r.Configuration.CustomInsights {
		actionBreakdowns := make([]shared.SourceFacebookMarketingValidActionBreakdowns, 0, len(r.Configuration.CustomInsights[customInsightsIndex].ActionBreakdowns))
		for _, actionBreakdownsItem := range r.Configuration.CustomInsights[customInsightsIndex].ActionBreakdowns {
			actionBreakdowns = append(actionBreakdowns, shared.SourceFacebookMarketingValidActionBreakdowns(actionBreakdownsItem.ValueString()))
		}
		actionReportTime := new(shared.SourceFacebookMarketingActionReportTime)
		if !r.Configuration.CustomInsights[customInsightsIndex].ActionReportTime.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].ActionReportTime.IsNull() {
			*actionReportTime = shared.SourceFacebookMarketingActionReportTime(r.Configuration.CustomInsights[customInsightsIndex].ActionReportTime.ValueString())
		} else {
			actionReportTime = nil
		}
		breakdowns := make([]shared.ValidBreakdowns, 0, len(r.Configuration.CustomInsights[customInsightsIndex].Breakdowns))
		for _, breakdownsItem := range r.Configuration.CustomInsights[customInsightsIndex].Breakdowns {
			breakdowns = append(breakdowns, shared.ValidBreakdowns(breakdownsItem.ValueString()))
		}
		endDate := new(time.Time)
		if !r.Configuration.CustomInsights[customInsightsIndex].EndDate.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].EndDate.IsNull() {
			*endDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.CustomInsights[customInsightsIndex].EndDate.ValueString())
		} else {
			endDate = nil
		}
		fields := make([]shared.SourceFacebookMarketingValidEnums, 0, len(r.Configuration.CustomInsights[customInsightsIndex].Fields))
		for _, fieldsItem := range r.Configuration.CustomInsights[customInsightsIndex].Fields {
			fields = append(fields, shared.SourceFacebookMarketingValidEnums(fieldsItem.ValueString()))
		}
		insightsJobTimeout := new(int64)
		if !r.Configuration.CustomInsights[customInsightsIndex].InsightsJobTimeout.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].InsightsJobTimeout.IsNull() {
			*insightsJobTimeout = r.Configuration.CustomInsights[customInsightsIndex].InsightsJobTimeout.ValueInt64()
		} else {
			insightsJobTimeout = nil
		}
		insightsLookbackWindow := new(int64)
		if !r.Configuration.CustomInsights[customInsightsIndex].InsightsLookbackWindow.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].InsightsLookbackWindow.IsNull() {
			*insightsLookbackWindow = r.Configuration.CustomInsights[customInsightsIndex].InsightsLookbackWindow.ValueInt64()
		} else {
			insightsLookbackWindow = nil
		}
		level := new(shared.Level)
		if !r.Configuration.CustomInsights[customInsightsIndex].Level.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].Level.IsNull() {
			*level = shared.Level(r.Configuration.CustomInsights[customInsightsIndex].Level.ValueString())
		} else {
			level = nil
		}
		var name1 string
		name1 = r.Configuration.CustomInsights[customInsightsIndex].Name.ValueString()

		startDate := new(time.Time)
		if !r.Configuration.CustomInsights[customInsightsIndex].StartDate.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].StartDate.IsNull() {
			*startDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.CustomInsights[customInsightsIndex].StartDate.ValueString())
		} else {
			startDate = nil
		}
		timeIncrement := new(int64)
		if !r.Configuration.CustomInsights[customInsightsIndex].TimeIncrement.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].TimeIncrement.IsNull() {
			*timeIncrement = r.Configuration.CustomInsights[customInsightsIndex].TimeIncrement.ValueInt64()
		} else {
			timeIncrement = nil
		}
		customInsights = append(customInsights, shared.InsightConfig{
			ActionBreakdowns:       actionBreakdowns,
			ActionReportTime:       actionReportTime,
			Breakdowns:             breakdowns,
			EndDate:                endDate,
			Fields:                 fields,
			InsightsJobTimeout:     insightsJobTimeout,
			InsightsLookbackWindow: insightsLookbackWindow,
			Level:                  level,
			Name:                   name1,
			StartDate:              startDate,
			TimeIncrement:          timeIncrement,
		})
	}
	defaultAdsInsightsActionBreakdowns := make([]shared.ValidActionBreakdowns, 0, len(r.Configuration.DefaultAdsInsightsActionBreakdowns))
	for _, defaultAdsInsightsActionBreakdownsItem := range r.Configuration.DefaultAdsInsightsActionBreakdowns {
		defaultAdsInsightsActionBreakdowns = append(defaultAdsInsightsActionBreakdowns, shared.ValidActionBreakdowns(defaultAdsInsightsActionBreakdownsItem.ValueString()))
	}
	endDate1 := new(time.Time)
	if !r.Configuration.EndDate.IsUnknown() && !r.Configuration.EndDate.IsNull() {
		*endDate1, _ = time.Parse(time.RFC3339Nano, r.Configuration.EndDate.ValueString())
	} else {
		endDate1 = nil
	}
	fetchThumbnailImages := new(bool)
	if !r.Configuration.FetchThumbnailImages.IsUnknown() && !r.Configuration.FetchThumbnailImages.IsNull() {
		*fetchThumbnailImages = r.Configuration.FetchThumbnailImages.ValueBool()
	} else {
		fetchThumbnailImages = nil
	}
	insightsJobTimeout1 := new(int64)
	if !r.Configuration.InsightsJobTimeout.IsUnknown() && !r.Configuration.InsightsJobTimeout.IsNull() {
		*insightsJobTimeout1 = r.Configuration.InsightsJobTimeout.ValueInt64()
	} else {
		insightsJobTimeout1 = nil
	}
	insightsLookbackWindow1 := new(int64)
	if !r.Configuration.InsightsLookbackWindow.IsUnknown() && !r.Configuration.InsightsLookbackWindow.IsNull() {
		*insightsLookbackWindow1 = r.Configuration.InsightsLookbackWindow.ValueInt64()
	} else {
		insightsLookbackWindow1 = nil
	}
	pageSize := new(int64)
	if !r.Configuration.PageSize.IsUnknown() && !r.Configuration.PageSize.IsNull() {
		*pageSize = r.Configuration.PageSize.ValueInt64()
	} else {
		pageSize = nil
	}
	startDate1 := new(time.Time)
	if !r.Configuration.StartDate.IsUnknown() && !r.Configuration.StartDate.IsNull() {
		*startDate1, _ = time.Parse(time.RFC3339Nano, r.Configuration.StartDate.ValueString())
	} else {
		startDate1 = nil
	}
	configuration := shared.SourceFacebookMarketing{
		AccessToken:                        accessToken,
		AccountIds:                         accountIds,
		ActionBreakdownsAllowEmpty:         actionBreakdownsAllowEmpty,
		AdStatuses:                         adStatuses,
		AdsetStatuses:                      adsetStatuses,
		CampaignStatuses:                   campaignStatuses,
		ClientID:                           clientID,
		ClientSecret:                       clientSecret,
		Credentials:                        credentials,
		CustomInsights:                     customInsights,
		DefaultAdsInsightsActionBreakdowns: defaultAdsInsightsActionBreakdowns,
		EndDate:                            endDate1,
		FetchThumbnailImages:               fetchThumbnailImages,
		InsightsJobTimeout:                 insightsJobTimeout1,
		InsightsLookbackWindow:             insightsLookbackWindow1,
		PageSize:                           pageSize,
		StartDate:                          startDate1,
	}
	secretID := new(string)
	if !r.SecretID.IsUnknown() && !r.SecretID.IsNull() {
		*secretID = r.SecretID.ValueString()
	} else {
		secretID = nil
	}
	out := shared.SourceFacebookMarketingCreateRequest{
		Name:          name,
		DefinitionID:  definitionID,
		WorkspaceID:   workspaceID,
		Configuration: configuration,
		SecretID:      secretID,
	}

	return &out, diags
}

func (r *SourceFacebookMarketingResourceModel) ToSharedSourceFacebookMarketingPutRequest(ctx context.Context) (*shared.SourceFacebookMarketingPutRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var name string
	name = r.Name.ValueString()

	var workspaceID string
	workspaceID = r.WorkspaceID.ValueString()

	accessToken := new(string)
	if !r.Configuration.AccessToken.IsUnknown() && !r.Configuration.AccessToken.IsNull() {
		*accessToken = r.Configuration.AccessToken.ValueString()
	} else {
		accessToken = nil
	}
	accountIds := make([]string, 0, len(r.Configuration.AccountIds))
	for accountIdsIndex := range r.Configuration.AccountIds {
		accountIds = append(accountIds, r.Configuration.AccountIds[accountIdsIndex].ValueString())
	}
	actionBreakdownsAllowEmpty := new(bool)
	if !r.Configuration.ActionBreakdownsAllowEmpty.IsUnknown() && !r.Configuration.ActionBreakdownsAllowEmpty.IsNull() {
		*actionBreakdownsAllowEmpty = r.Configuration.ActionBreakdownsAllowEmpty.ValueBool()
	} else {
		actionBreakdownsAllowEmpty = nil
	}
	adStatuses := make([]shared.SourceFacebookMarketingUpdateValidAdStatuses, 0, len(r.Configuration.AdStatuses))
	for _, adStatusesItem := range r.Configuration.AdStatuses {
		adStatuses = append(adStatuses, shared.SourceFacebookMarketingUpdateValidAdStatuses(adStatusesItem.ValueString()))
	}
	adsetStatuses := make([]shared.SourceFacebookMarketingUpdateValidAdSetStatuses, 0, len(r.Configuration.AdsetStatuses))
	for _, adsetStatusesItem := range r.Configuration.AdsetStatuses {
		adsetStatuses = append(adsetStatuses, shared.SourceFacebookMarketingUpdateValidAdSetStatuses(adsetStatusesItem.ValueString()))
	}
	campaignStatuses := make([]shared.SourceFacebookMarketingUpdateValidCampaignStatuses, 0, len(r.Configuration.CampaignStatuses))
	for _, campaignStatusesItem := range r.Configuration.CampaignStatuses {
		campaignStatuses = append(campaignStatuses, shared.SourceFacebookMarketingUpdateValidCampaignStatuses(campaignStatusesItem.ValueString()))
	}
	clientID := new(string)
	if !r.Configuration.ClientID.IsUnknown() && !r.Configuration.ClientID.IsNull() {
		*clientID = r.Configuration.ClientID.ValueString()
	} else {
		clientID = nil
	}
	clientSecret := new(string)
	if !r.Configuration.ClientSecret.IsUnknown() && !r.Configuration.ClientSecret.IsNull() {
		*clientSecret = r.Configuration.ClientSecret.ValueString()
	} else {
		clientSecret = nil
	}
	var credentials *shared.SourceFacebookMarketingUpdateAuthentication
	var sourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth *shared.SourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth
	if r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth != nil {
		accessToken1 := new(string)
		if !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.IsNull() {
			*accessToken1 = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.ValueString()
		} else {
			accessToken1 = nil
		}
		clientId1 := new(string)
		if !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientID.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientID.IsNull() {
			*clientId1 = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientID.ValueString()
		} else {
			clientId1 = nil
		}
		clientSecret1 := new(string)
		if !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientSecret.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientSecret.IsNull() {
			*clientSecret1 = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientSecret.ValueString()
		} else {
			clientSecret1 = nil
		}
		sourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth = &shared.SourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth{
			AccessToken:  accessToken1,
			ClientID:     clientId1,
			ClientSecret: clientSecret1,
		}
	}
	if sourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth != nil {
		credentials = &shared.SourceFacebookMarketingUpdateAuthentication{
			SourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth: sourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth,
		}
	}
	var sourceFacebookMarketingUpdateServiceAccountKeyAuthentication *shared.SourceFacebookMarketingUpdateServiceAccountKeyAuthentication
	if r.Configuration.Credentials.ServiceAccountKeyAuthentication != nil {
		accessToken2 := new(string)
		if !r.Configuration.Credentials.ServiceAccountKeyAuthentication.AccessToken.IsUnknown() && !r.Configuration.Credentials.ServiceAccountKeyAuthentication.AccessToken.IsNull() {
			*accessToken2 = r.Configuration.Credentials.ServiceAccountKeyAuthentication.AccessToken.ValueString()
		} else {
			accessToken2 = nil
		}
		sourceFacebookMarketingUpdateServiceAccountKeyAuthentication = &shared.SourceFacebookMarketingUpdateServiceAccountKeyAuthentication{
			AccessToken: accessToken2,
		}
	}
	if sourceFacebookMarketingUpdateServiceAccountKeyAuthentication != nil {
		credentials = &shared.SourceFacebookMarketingUpdateAuthentication{
			SourceFacebookMarketingUpdateServiceAccountKeyAuthentication: sourceFacebookMarketingUpdateServiceAccountKeyAuthentication,
		}
	}
	customInsights := make([]shared.SourceFacebookMarketingUpdateInsightConfig, 0, len(r.Configuration.CustomInsights))
	for customInsightsIndex := range r.Configuration.CustomInsights {
		actionBreakdowns := make([]shared.SourceFacebookMarketingUpdateSchemasValidActionBreakdowns, 0, len(r.Configuration.CustomInsights[customInsightsIndex].ActionBreakdowns))
		for _, actionBreakdownsItem := range r.Configuration.CustomInsights[customInsightsIndex].ActionBreakdowns {
			actionBreakdowns = append(actionBreakdowns, shared.SourceFacebookMarketingUpdateSchemasValidActionBreakdowns(actionBreakdownsItem.ValueString()))
		}
		actionReportTime := new(shared.SourceFacebookMarketingUpdateActionReportTime)
		if !r.Configuration.CustomInsights[customInsightsIndex].ActionReportTime.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].ActionReportTime.IsNull() {
			*actionReportTime = shared.SourceFacebookMarketingUpdateActionReportTime(r.Configuration.CustomInsights[customInsightsIndex].ActionReportTime.ValueString())
		} else {
			actionReportTime = nil
		}
		breakdowns := make([]shared.SourceFacebookMarketingUpdateValidBreakdowns, 0, len(r.Configuration.CustomInsights[customInsightsIndex].Breakdowns))
		for _, breakdownsItem := range r.Configuration.CustomInsights[customInsightsIndex].Breakdowns {
			breakdowns = append(breakdowns, shared.SourceFacebookMarketingUpdateValidBreakdowns(breakdownsItem.ValueString()))
		}
		endDate := new(time.Time)
		if !r.Configuration.CustomInsights[customInsightsIndex].EndDate.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].EndDate.IsNull() {
			*endDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.CustomInsights[customInsightsIndex].EndDate.ValueString())
		} else {
			endDate = nil
		}
		fields := make([]shared.SourceFacebookMarketingUpdateValidEnums, 0, len(r.Configuration.CustomInsights[customInsightsIndex].Fields))
		for _, fieldsItem := range r.Configuration.CustomInsights[customInsightsIndex].Fields {
			fields = append(fields, shared.SourceFacebookMarketingUpdateValidEnums(fieldsItem.ValueString()))
		}
		insightsJobTimeout := new(int64)
		if !r.Configuration.CustomInsights[customInsightsIndex].InsightsJobTimeout.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].InsightsJobTimeout.IsNull() {
			*insightsJobTimeout = r.Configuration.CustomInsights[customInsightsIndex].InsightsJobTimeout.ValueInt64()
		} else {
			insightsJobTimeout = nil
		}
		insightsLookbackWindow := new(int64)
		if !r.Configuration.CustomInsights[customInsightsIndex].InsightsLookbackWindow.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].InsightsLookbackWindow.IsNull() {
			*insightsLookbackWindow = r.Configuration.CustomInsights[customInsightsIndex].InsightsLookbackWindow.ValueInt64()
		} else {
			insightsLookbackWindow = nil
		}
		level := new(shared.SourceFacebookMarketingUpdateLevel)
		if !r.Configuration.CustomInsights[customInsightsIndex].Level.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].Level.IsNull() {
			*level = shared.SourceFacebookMarketingUpdateLevel(r.Configuration.CustomInsights[customInsightsIndex].Level.ValueString())
		} else {
			level = nil
		}
		name1 := new(string)
		if !r.Configuration.CustomInsights[customInsightsIndex].Name.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].Name.IsNull() {
			*name1 = r.Configuration.CustomInsights[customInsightsIndex].Name.ValueString()
		} else {
			name1 = nil
		}
		startDate := new(time.Time)
		if !r.Configuration.CustomInsights[customInsightsIndex].StartDate.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].StartDate.IsNull() {
			*startDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.CustomInsights[customInsightsIndex].StartDate.ValueString())
		} else {
			startDate = nil
		}
		timeIncrement := new(int64)
		if !r.Configuration.CustomInsights[customInsightsIndex].TimeIncrement.IsUnknown() && !r.Configuration.CustomInsights[customInsightsIndex].TimeIncrement.IsNull() {
			*timeIncrement = r.Configuration.CustomInsights[customInsightsIndex].TimeIncrement.ValueInt64()
		} else {
			timeIncrement = nil
		}
		customInsights = append(customInsights, shared.SourceFacebookMarketingUpdateInsightConfig{
			ActionBreakdowns:       actionBreakdowns,
			ActionReportTime:       actionReportTime,
			Breakdowns:             breakdowns,
			EndDate:                endDate,
			Fields:                 fields,
			InsightsJobTimeout:     insightsJobTimeout,
			InsightsLookbackWindow: insightsLookbackWindow,
			Level:                  level,
			Name:                   name1,
			StartDate:              startDate,
			TimeIncrement:          timeIncrement,
		})
	}
	defaultAdsInsightsActionBreakdowns := make([]shared.SourceFacebookMarketingUpdateValidActionBreakdowns, 0, len(r.Configuration.DefaultAdsInsightsActionBreakdowns))
	for _, defaultAdsInsightsActionBreakdownsItem := range r.Configuration.DefaultAdsInsightsActionBreakdowns {
		defaultAdsInsightsActionBreakdowns = append(defaultAdsInsightsActionBreakdowns, shared.SourceFacebookMarketingUpdateValidActionBreakdowns(defaultAdsInsightsActionBreakdownsItem.ValueString()))
	}
	endDate1 := new(time.Time)
	if !r.Configuration.EndDate.IsUnknown() && !r.Configuration.EndDate.IsNull() {
		*endDate1, _ = time.Parse(time.RFC3339Nano, r.Configuration.EndDate.ValueString())
	} else {
		endDate1 = nil
	}
	fetchThumbnailImages := new(bool)
	if !r.Configuration.FetchThumbnailImages.IsUnknown() && !r.Configuration.FetchThumbnailImages.IsNull() {
		*fetchThumbnailImages = r.Configuration.FetchThumbnailImages.ValueBool()
	} else {
		fetchThumbnailImages = nil
	}
	insightsJobTimeout1 := new(int64)
	if !r.Configuration.InsightsJobTimeout.IsUnknown() && !r.Configuration.InsightsJobTimeout.IsNull() {
		*insightsJobTimeout1 = r.Configuration.InsightsJobTimeout.ValueInt64()
	} else {
		insightsJobTimeout1 = nil
	}
	insightsLookbackWindow1 := new(int64)
	if !r.Configuration.InsightsLookbackWindow.IsUnknown() && !r.Configuration.InsightsLookbackWindow.IsNull() {
		*insightsLookbackWindow1 = r.Configuration.InsightsLookbackWindow.ValueInt64()
	} else {
		insightsLookbackWindow1 = nil
	}
	pageSize := new(int64)
	if !r.Configuration.PageSize.IsUnknown() && !r.Configuration.PageSize.IsNull() {
		*pageSize = r.Configuration.PageSize.ValueInt64()
	} else {
		pageSize = nil
	}
	startDate1 := new(time.Time)
	if !r.Configuration.StartDate.IsUnknown() && !r.Configuration.StartDate.IsNull() {
		*startDate1, _ = time.Parse(time.RFC3339Nano, r.Configuration.StartDate.ValueString())
	} else {
		startDate1 = nil
	}
	configuration := shared.SourceFacebookMarketingUpdate{
		AccessToken:                        accessToken,
		AccountIds:                         accountIds,
		ActionBreakdownsAllowEmpty:         actionBreakdownsAllowEmpty,
		AdStatuses:                         adStatuses,
		AdsetStatuses:                      adsetStatuses,
		CampaignStatuses:                   campaignStatuses,
		ClientID:                           clientID,
		ClientSecret:                       clientSecret,
		Credentials:                        credentials,
		CustomInsights:                     customInsights,
		DefaultAdsInsightsActionBreakdowns: defaultAdsInsightsActionBreakdowns,
		EndDate:                            endDate1,
		FetchThumbnailImages:               fetchThumbnailImages,
		InsightsJobTimeout:                 insightsJobTimeout1,
		InsightsLookbackWindow:             insightsLookbackWindow1,
		PageSize:                           pageSize,
		StartDate:                          startDate1,
	}
	out := shared.SourceFacebookMarketingPutRequest{
		Name:          name,
		WorkspaceID:   workspaceID,
		Configuration: configuration,
	}

	return &out, diags
}
