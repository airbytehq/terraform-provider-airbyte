// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"time"
)

func (r *SourceFacebookMarketingResourceModel) ToSharedSourceFacebookMarketingCreateRequest() *shared.SourceFacebookMarketingCreateRequest {
	var name string
	name = r.Name.ValueString()

	definitionID := new(string)
	if !r.DefinitionID.IsUnknown() && !r.DefinitionID.IsNull() {
		*definitionID = r.DefinitionID.ValueString()
	} else {
		definitionID = nil
	}
	var workspaceID string
	workspaceID = r.WorkspaceID.ValueString()

	var accountIds []string = []string{}
	for _, accountIdsItem := range r.Configuration.AccountIds {
		accountIds = append(accountIds, accountIdsItem.ValueString())
	}
	accessToken := new(string)
	if !r.Configuration.AccessToken.IsUnknown() && !r.Configuration.AccessToken.IsNull() {
		*accessToken = r.Configuration.AccessToken.ValueString()
	} else {
		accessToken = nil
	}
	var credentials shared.SourceFacebookMarketingAuthentication
	var authenticateViaFacebookMarketingOauth *shared.AuthenticateViaFacebookMarketingOauth
	if r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth != nil {
		var clientID string
		clientID = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientID.ValueString()

		var clientSecret string
		clientSecret = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientSecret.ValueString()

		accessToken1 := new(string)
		if !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.IsNull() {
			*accessToken1 = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.ValueString()
		} else {
			accessToken1 = nil
		}
		authenticateViaFacebookMarketingOauth = &shared.AuthenticateViaFacebookMarketingOauth{
			ClientID:     clientID,
			ClientSecret: clientSecret,
			AccessToken:  accessToken1,
		}
	}
	if authenticateViaFacebookMarketingOauth != nil {
		credentials = shared.SourceFacebookMarketingAuthentication{
			AuthenticateViaFacebookMarketingOauth: authenticateViaFacebookMarketingOauth,
		}
	}
	var serviceAccountKeyAuthentication *shared.ServiceAccountKeyAuthentication
	if r.Configuration.Credentials.ServiceAccountKeyAuthentication != nil {
		var accessToken2 string
		accessToken2 = r.Configuration.Credentials.ServiceAccountKeyAuthentication.AccessToken.ValueString()

		serviceAccountKeyAuthentication = &shared.ServiceAccountKeyAuthentication{
			AccessToken: accessToken2,
		}
	}
	if serviceAccountKeyAuthentication != nil {
		credentials = shared.SourceFacebookMarketingAuthentication{
			ServiceAccountKeyAuthentication: serviceAccountKeyAuthentication,
		}
	}
	startDate := new(time.Time)
	if !r.Configuration.StartDate.IsUnknown() && !r.Configuration.StartDate.IsNull() {
		*startDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.StartDate.ValueString())
	} else {
		startDate = nil
	}
	endDate := new(time.Time)
	if !r.Configuration.EndDate.IsUnknown() && !r.Configuration.EndDate.IsNull() {
		*endDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.EndDate.ValueString())
	} else {
		endDate = nil
	}
	var campaignStatuses []shared.ValidCampaignStatuses = []shared.ValidCampaignStatuses{}
	for _, campaignStatusesItem := range r.Configuration.CampaignStatuses {
		campaignStatuses = append(campaignStatuses, shared.ValidCampaignStatuses(campaignStatusesItem.ValueString()))
	}
	var adsetStatuses []shared.ValidAdSetStatuses = []shared.ValidAdSetStatuses{}
	for _, adsetStatusesItem := range r.Configuration.AdsetStatuses {
		adsetStatuses = append(adsetStatuses, shared.ValidAdSetStatuses(adsetStatusesItem.ValueString()))
	}
	var adStatuses []shared.ValidAdStatuses = []shared.ValidAdStatuses{}
	for _, adStatusesItem := range r.Configuration.AdStatuses {
		adStatuses = append(adStatuses, shared.ValidAdStatuses(adStatusesItem.ValueString()))
	}
	fetchThumbnailImages := new(bool)
	if !r.Configuration.FetchThumbnailImages.IsUnknown() && !r.Configuration.FetchThumbnailImages.IsNull() {
		*fetchThumbnailImages = r.Configuration.FetchThumbnailImages.ValueBool()
	} else {
		fetchThumbnailImages = nil
	}
	var customInsights []shared.InsightConfig = []shared.InsightConfig{}
	for _, customInsightsItem := range r.Configuration.CustomInsights {
		var name1 string
		name1 = customInsightsItem.Name.ValueString()

		level := new(shared.Level)
		if !customInsightsItem.Level.IsUnknown() && !customInsightsItem.Level.IsNull() {
			*level = shared.Level(customInsightsItem.Level.ValueString())
		} else {
			level = nil
		}
		var fields []shared.SourceFacebookMarketingValidEnums = []shared.SourceFacebookMarketingValidEnums{}
		for _, fieldsItem := range customInsightsItem.Fields {
			fields = append(fields, shared.SourceFacebookMarketingValidEnums(fieldsItem.ValueString()))
		}
		var breakdowns []shared.ValidBreakdowns = []shared.ValidBreakdowns{}
		for _, breakdownsItem := range customInsightsItem.Breakdowns {
			breakdowns = append(breakdowns, shared.ValidBreakdowns(breakdownsItem.ValueString()))
		}
		var actionBreakdowns []shared.ValidActionBreakdowns = []shared.ValidActionBreakdowns{}
		for _, actionBreakdownsItem := range customInsightsItem.ActionBreakdowns {
			actionBreakdowns = append(actionBreakdowns, shared.ValidActionBreakdowns(actionBreakdownsItem.ValueString()))
		}
		actionReportTime := new(shared.SourceFacebookMarketingActionReportTime)
		if !customInsightsItem.ActionReportTime.IsUnknown() && !customInsightsItem.ActionReportTime.IsNull() {
			*actionReportTime = shared.SourceFacebookMarketingActionReportTime(customInsightsItem.ActionReportTime.ValueString())
		} else {
			actionReportTime = nil
		}
		timeIncrement := new(int64)
		if !customInsightsItem.TimeIncrement.IsUnknown() && !customInsightsItem.TimeIncrement.IsNull() {
			*timeIncrement = customInsightsItem.TimeIncrement.ValueInt64()
		} else {
			timeIncrement = nil
		}
		startDate1 := new(time.Time)
		if !customInsightsItem.StartDate.IsUnknown() && !customInsightsItem.StartDate.IsNull() {
			*startDate1, _ = time.Parse(time.RFC3339Nano, customInsightsItem.StartDate.ValueString())
		} else {
			startDate1 = nil
		}
		endDate1 := new(time.Time)
		if !customInsightsItem.EndDate.IsUnknown() && !customInsightsItem.EndDate.IsNull() {
			*endDate1, _ = time.Parse(time.RFC3339Nano, customInsightsItem.EndDate.ValueString())
		} else {
			endDate1 = nil
		}
		insightsLookbackWindow := new(int64)
		if !customInsightsItem.InsightsLookbackWindow.IsUnknown() && !customInsightsItem.InsightsLookbackWindow.IsNull() {
			*insightsLookbackWindow = customInsightsItem.InsightsLookbackWindow.ValueInt64()
		} else {
			insightsLookbackWindow = nil
		}
		insightsJobTimeout := new(int64)
		if !customInsightsItem.InsightsJobTimeout.IsUnknown() && !customInsightsItem.InsightsJobTimeout.IsNull() {
			*insightsJobTimeout = customInsightsItem.InsightsJobTimeout.ValueInt64()
		} else {
			insightsJobTimeout = nil
		}
		customInsights = append(customInsights, shared.InsightConfig{
			Name:                   name1,
			Level:                  level,
			Fields:                 fields,
			Breakdowns:             breakdowns,
			ActionBreakdowns:       actionBreakdowns,
			ActionReportTime:       actionReportTime,
			TimeIncrement:          timeIncrement,
			StartDate:              startDate1,
			EndDate:                endDate1,
			InsightsLookbackWindow: insightsLookbackWindow,
			InsightsJobTimeout:     insightsJobTimeout,
		})
	}
	pageSize := new(int64)
	if !r.Configuration.PageSize.IsUnknown() && !r.Configuration.PageSize.IsNull() {
		*pageSize = r.Configuration.PageSize.ValueInt64()
	} else {
		pageSize = nil
	}
	insightsLookbackWindow1 := new(int64)
	if !r.Configuration.InsightsLookbackWindow.IsUnknown() && !r.Configuration.InsightsLookbackWindow.IsNull() {
		*insightsLookbackWindow1 = r.Configuration.InsightsLookbackWindow.ValueInt64()
	} else {
		insightsLookbackWindow1 = nil
	}
	insightsJobTimeout1 := new(int64)
	if !r.Configuration.InsightsJobTimeout.IsUnknown() && !r.Configuration.InsightsJobTimeout.IsNull() {
		*insightsJobTimeout1 = r.Configuration.InsightsJobTimeout.ValueInt64()
	} else {
		insightsJobTimeout1 = nil
	}
	configuration := shared.SourceFacebookMarketing{
		AccountIds:             accountIds,
		AccessToken:            accessToken,
		Credentials:            credentials,
		StartDate:              startDate,
		EndDate:                endDate,
		CampaignStatuses:       campaignStatuses,
		AdsetStatuses:          adsetStatuses,
		AdStatuses:             adStatuses,
		FetchThumbnailImages:   fetchThumbnailImages,
		CustomInsights:         customInsights,
		PageSize:               pageSize,
		InsightsLookbackWindow: insightsLookbackWindow1,
		InsightsJobTimeout:     insightsJobTimeout1,
	}
	secretID := new(string)
	if !r.SecretID.IsUnknown() && !r.SecretID.IsNull() {
		*secretID = r.SecretID.ValueString()
	} else {
		secretID = nil
	}
	out := shared.SourceFacebookMarketingCreateRequest{
		Name:          name,
		DefinitionID:  definitionID,
		WorkspaceID:   workspaceID,
		Configuration: configuration,
		SecretID:      secretID,
	}
	return &out
}

func (r *SourceFacebookMarketingResourceModel) RefreshFromSharedSourceResponse(resp *shared.SourceResponse) {
	if resp != nil {
		r.CreatedAt = types.Int64Value(resp.CreatedAt)
		r.DefinitionID = types.StringValue(resp.DefinitionID)
		r.Name = types.StringValue(resp.Name)
		r.SourceID = types.StringValue(resp.SourceID)
		r.SourceType = types.StringValue(resp.SourceType)
		r.WorkspaceID = types.StringValue(resp.WorkspaceID)
	}
}

func (r *SourceFacebookMarketingResourceModel) ToSharedSourceFacebookMarketingPutRequest() *shared.SourceFacebookMarketingPutRequest {
	var name string
	name = r.Name.ValueString()

	var workspaceID string
	workspaceID = r.WorkspaceID.ValueString()

	var accountIds []string = []string{}
	for _, accountIdsItem := range r.Configuration.AccountIds {
		accountIds = append(accountIds, accountIdsItem.ValueString())
	}
	accessToken := new(string)
	if !r.Configuration.AccessToken.IsUnknown() && !r.Configuration.AccessToken.IsNull() {
		*accessToken = r.Configuration.AccessToken.ValueString()
	} else {
		accessToken = nil
	}
	var credentials shared.SourceFacebookMarketingUpdateAuthentication
	var sourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth *shared.SourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth
	if r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth != nil {
		var clientID string
		clientID = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientID.ValueString()

		var clientSecret string
		clientSecret = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.ClientSecret.ValueString()

		accessToken1 := new(string)
		if !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.IsNull() {
			*accessToken1 = r.Configuration.Credentials.AuthenticateViaFacebookMarketingOauth.AccessToken.ValueString()
		} else {
			accessToken1 = nil
		}
		sourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth = &shared.SourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth{
			ClientID:     clientID,
			ClientSecret: clientSecret,
			AccessToken:  accessToken1,
		}
	}
	if sourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth != nil {
		credentials = shared.SourceFacebookMarketingUpdateAuthentication{
			SourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth: sourceFacebookMarketingUpdateAuthenticateViaFacebookMarketingOauth,
		}
	}
	var sourceFacebookMarketingUpdateServiceAccountKeyAuthentication *shared.SourceFacebookMarketingUpdateServiceAccountKeyAuthentication
	if r.Configuration.Credentials.ServiceAccountKeyAuthentication != nil {
		var accessToken2 string
		accessToken2 = r.Configuration.Credentials.ServiceAccountKeyAuthentication.AccessToken.ValueString()

		sourceFacebookMarketingUpdateServiceAccountKeyAuthentication = &shared.SourceFacebookMarketingUpdateServiceAccountKeyAuthentication{
			AccessToken: accessToken2,
		}
	}
	if sourceFacebookMarketingUpdateServiceAccountKeyAuthentication != nil {
		credentials = shared.SourceFacebookMarketingUpdateAuthentication{
			SourceFacebookMarketingUpdateServiceAccountKeyAuthentication: sourceFacebookMarketingUpdateServiceAccountKeyAuthentication,
		}
	}
	startDate := new(time.Time)
	if !r.Configuration.StartDate.IsUnknown() && !r.Configuration.StartDate.IsNull() {
		*startDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.StartDate.ValueString())
	} else {
		startDate = nil
	}
	endDate := new(time.Time)
	if !r.Configuration.EndDate.IsUnknown() && !r.Configuration.EndDate.IsNull() {
		*endDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.EndDate.ValueString())
	} else {
		endDate = nil
	}
	var campaignStatuses []shared.SourceFacebookMarketingUpdateValidCampaignStatuses = []shared.SourceFacebookMarketingUpdateValidCampaignStatuses{}
	for _, campaignStatusesItem := range r.Configuration.CampaignStatuses {
		campaignStatuses = append(campaignStatuses, shared.SourceFacebookMarketingUpdateValidCampaignStatuses(campaignStatusesItem.ValueString()))
	}
	var adsetStatuses []shared.SourceFacebookMarketingUpdateValidAdSetStatuses = []shared.SourceFacebookMarketingUpdateValidAdSetStatuses{}
	for _, adsetStatusesItem := range r.Configuration.AdsetStatuses {
		adsetStatuses = append(adsetStatuses, shared.SourceFacebookMarketingUpdateValidAdSetStatuses(adsetStatusesItem.ValueString()))
	}
	var adStatuses []shared.SourceFacebookMarketingUpdateValidAdStatuses = []shared.SourceFacebookMarketingUpdateValidAdStatuses{}
	for _, adStatusesItem := range r.Configuration.AdStatuses {
		adStatuses = append(adStatuses, shared.SourceFacebookMarketingUpdateValidAdStatuses(adStatusesItem.ValueString()))
	}
	fetchThumbnailImages := new(bool)
	if !r.Configuration.FetchThumbnailImages.IsUnknown() && !r.Configuration.FetchThumbnailImages.IsNull() {
		*fetchThumbnailImages = r.Configuration.FetchThumbnailImages.ValueBool()
	} else {
		fetchThumbnailImages = nil
	}
	var customInsights []shared.SourceFacebookMarketingUpdateInsightConfig = []shared.SourceFacebookMarketingUpdateInsightConfig{}
	for _, customInsightsItem := range r.Configuration.CustomInsights {
		var name1 string
		name1 = customInsightsItem.Name.ValueString()

		level := new(shared.SourceFacebookMarketingUpdateLevel)
		if !customInsightsItem.Level.IsUnknown() && !customInsightsItem.Level.IsNull() {
			*level = shared.SourceFacebookMarketingUpdateLevel(customInsightsItem.Level.ValueString())
		} else {
			level = nil
		}
		var fields []shared.SourceFacebookMarketingUpdateValidEnums = []shared.SourceFacebookMarketingUpdateValidEnums{}
		for _, fieldsItem := range customInsightsItem.Fields {
			fields = append(fields, shared.SourceFacebookMarketingUpdateValidEnums(fieldsItem.ValueString()))
		}
		var breakdowns []shared.SourceFacebookMarketingUpdateValidBreakdowns = []shared.SourceFacebookMarketingUpdateValidBreakdowns{}
		for _, breakdownsItem := range customInsightsItem.Breakdowns {
			breakdowns = append(breakdowns, shared.SourceFacebookMarketingUpdateValidBreakdowns(breakdownsItem.ValueString()))
		}
		var actionBreakdowns []shared.SourceFacebookMarketingUpdateValidActionBreakdowns = []shared.SourceFacebookMarketingUpdateValidActionBreakdowns{}
		for _, actionBreakdownsItem := range customInsightsItem.ActionBreakdowns {
			actionBreakdowns = append(actionBreakdowns, shared.SourceFacebookMarketingUpdateValidActionBreakdowns(actionBreakdownsItem.ValueString()))
		}
		actionReportTime := new(shared.SourceFacebookMarketingUpdateActionReportTime)
		if !customInsightsItem.ActionReportTime.IsUnknown() && !customInsightsItem.ActionReportTime.IsNull() {
			*actionReportTime = shared.SourceFacebookMarketingUpdateActionReportTime(customInsightsItem.ActionReportTime.ValueString())
		} else {
			actionReportTime = nil
		}
		timeIncrement := new(int64)
		if !customInsightsItem.TimeIncrement.IsUnknown() && !customInsightsItem.TimeIncrement.IsNull() {
			*timeIncrement = customInsightsItem.TimeIncrement.ValueInt64()
		} else {
			timeIncrement = nil
		}
		startDate1 := new(time.Time)
		if !customInsightsItem.StartDate.IsUnknown() && !customInsightsItem.StartDate.IsNull() {
			*startDate1, _ = time.Parse(time.RFC3339Nano, customInsightsItem.StartDate.ValueString())
		} else {
			startDate1 = nil
		}
		endDate1 := new(time.Time)
		if !customInsightsItem.EndDate.IsUnknown() && !customInsightsItem.EndDate.IsNull() {
			*endDate1, _ = time.Parse(time.RFC3339Nano, customInsightsItem.EndDate.ValueString())
		} else {
			endDate1 = nil
		}
		insightsLookbackWindow := new(int64)
		if !customInsightsItem.InsightsLookbackWindow.IsUnknown() && !customInsightsItem.InsightsLookbackWindow.IsNull() {
			*insightsLookbackWindow = customInsightsItem.InsightsLookbackWindow.ValueInt64()
		} else {
			insightsLookbackWindow = nil
		}
		insightsJobTimeout := new(int64)
		if !customInsightsItem.InsightsJobTimeout.IsUnknown() && !customInsightsItem.InsightsJobTimeout.IsNull() {
			*insightsJobTimeout = customInsightsItem.InsightsJobTimeout.ValueInt64()
		} else {
			insightsJobTimeout = nil
		}
		customInsights = append(customInsights, shared.SourceFacebookMarketingUpdateInsightConfig{
			Name:                   name1,
			Level:                  level,
			Fields:                 fields,
			Breakdowns:             breakdowns,
			ActionBreakdowns:       actionBreakdowns,
			ActionReportTime:       actionReportTime,
			TimeIncrement:          timeIncrement,
			StartDate:              startDate1,
			EndDate:                endDate1,
			InsightsLookbackWindow: insightsLookbackWindow,
			InsightsJobTimeout:     insightsJobTimeout,
		})
	}
	pageSize := new(int64)
	if !r.Configuration.PageSize.IsUnknown() && !r.Configuration.PageSize.IsNull() {
		*pageSize = r.Configuration.PageSize.ValueInt64()
	} else {
		pageSize = nil
	}
	insightsLookbackWindow1 := new(int64)
	if !r.Configuration.InsightsLookbackWindow.IsUnknown() && !r.Configuration.InsightsLookbackWindow.IsNull() {
		*insightsLookbackWindow1 = r.Configuration.InsightsLookbackWindow.ValueInt64()
	} else {
		insightsLookbackWindow1 = nil
	}
	insightsJobTimeout1 := new(int64)
	if !r.Configuration.InsightsJobTimeout.IsUnknown() && !r.Configuration.InsightsJobTimeout.IsNull() {
		*insightsJobTimeout1 = r.Configuration.InsightsJobTimeout.ValueInt64()
	} else {
		insightsJobTimeout1 = nil
	}
	configuration := shared.SourceFacebookMarketingUpdate{
		AccountIds:             accountIds,
		AccessToken:            accessToken,
		Credentials:            credentials,
		StartDate:              startDate,
		EndDate:                endDate,
		CampaignStatuses:       campaignStatuses,
		AdsetStatuses:          adsetStatuses,
		AdStatuses:             adStatuses,
		FetchThumbnailImages:   fetchThumbnailImages,
		CustomInsights:         customInsights,
		PageSize:               pageSize,
		InsightsLookbackWindow: insightsLookbackWindow1,
		InsightsJobTimeout:     insightsJobTimeout1,
	}
	out := shared.SourceFacebookMarketingPutRequest{
		Name:          name,
		WorkspaceID:   workspaceID,
		Configuration: configuration,
	}
	return &out
}
