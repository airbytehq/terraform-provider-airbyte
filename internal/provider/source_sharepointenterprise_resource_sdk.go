// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	tfTypes "github.com/airbytehq/terraform-provider-airbyte/internal/provider/types"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/models/operations"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"time"
)

func (r *SourceSharepointEnterpriseResourceModel) RefreshFromSharedSourceResponse(ctx context.Context, resp *shared.SourceResponse) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		configurationPriorData := r.Configuration
		r.Configuration = &tfTypes.SourceSharepointEnterprise{}
		r.Configuration.Credentials = configurationPriorData.Credentials
		r.Configuration.DeliveryMethod = configurationPriorData.DeliveryMethod
		r.Configuration.FileContainsQuery = configurationPriorData.FileContainsQuery
		r.Configuration.FolderPath = configurationPriorData.FolderPath
		r.Configuration.SearchScope = configurationPriorData.SearchScope
		r.Configuration.SiteURL = configurationPriorData.SiteURL
		r.Configuration.StartDate = configurationPriorData.StartDate
		r.Configuration.Streams = configurationPriorData.Streams
		r.CreatedAt = types.Int64Value(resp.CreatedAt)
		r.DefinitionID = types.StringValue(resp.DefinitionID)
		r.Name = types.StringValue(resp.Name)
		if resp.ResourceAllocation == nil {
			r.ResourceAllocation = nil
		} else {
			r.ResourceAllocation = &tfTypes.ScopedResourceRequirements{}
			if resp.ResourceAllocation.Default == nil {
				r.ResourceAllocation.Default = nil
			} else {
				r.ResourceAllocation.Default = &tfTypes.ResourceRequirements{}
				r.ResourceAllocation.Default.CPULimit = types.StringPointerValue(resp.ResourceAllocation.Default.CPULimit)
				r.ResourceAllocation.Default.CPURequest = types.StringPointerValue(resp.ResourceAllocation.Default.CPURequest)
				r.ResourceAllocation.Default.EphemeralStorageLimit = types.StringPointerValue(resp.ResourceAllocation.Default.EphemeralStorageLimit)
				r.ResourceAllocation.Default.EphemeralStorageRequest = types.StringPointerValue(resp.ResourceAllocation.Default.EphemeralStorageRequest)
				r.ResourceAllocation.Default.MemoryLimit = types.StringPointerValue(resp.ResourceAllocation.Default.MemoryLimit)
				r.ResourceAllocation.Default.MemoryRequest = types.StringPointerValue(resp.ResourceAllocation.Default.MemoryRequest)
			}
			r.ResourceAllocation.JobSpecific = []tfTypes.JobTypeResourceLimit{}

			for _, jobSpecificItem := range resp.ResourceAllocation.JobSpecific {
				var jobSpecific tfTypes.JobTypeResourceLimit

				jobSpecific.JobType = types.StringValue(string(jobSpecificItem.JobType))
				jobSpecific.ResourceRequirements = &tfTypes.ResourceRequirements{}
				jobSpecific.ResourceRequirements.CPULimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.CPULimit)
				jobSpecific.ResourceRequirements.CPURequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.CPURequest)
				jobSpecific.ResourceRequirements.EphemeralStorageLimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.EphemeralStorageLimit)
				jobSpecific.ResourceRequirements.EphemeralStorageRequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.EphemeralStorageRequest)
				jobSpecific.ResourceRequirements.MemoryLimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.MemoryLimit)
				jobSpecific.ResourceRequirements.MemoryRequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.MemoryRequest)

				r.ResourceAllocation.JobSpecific = append(r.ResourceAllocation.JobSpecific, jobSpecific)
			}
		}
		r.SourceID = types.StringValue(resp.SourceID)
		r.SourceType = types.StringValue(resp.SourceType)
		r.WorkspaceID = types.StringValue(resp.WorkspaceID)
	}

	return diags
}

func (r *SourceSharepointEnterpriseResourceModel) ToOperationsDeleteSourceSharepointEnterpriseRequest(ctx context.Context) (*operations.DeleteSourceSharepointEnterpriseRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var sourceID string
	sourceID = r.SourceID.ValueString()

	out := operations.DeleteSourceSharepointEnterpriseRequest{
		SourceID: sourceID,
	}

	return &out, diags
}

func (r *SourceSharepointEnterpriseResourceModel) ToOperationsGetSourceSharepointEnterpriseRequest(ctx context.Context) (*operations.GetSourceSharepointEnterpriseRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var sourceID string
	sourceID = r.SourceID.ValueString()

	out := operations.GetSourceSharepointEnterpriseRequest{
		SourceID: sourceID,
	}

	return &out, diags
}

func (r *SourceSharepointEnterpriseResourceModel) ToOperationsPutSourceSharepointEnterpriseRequest(ctx context.Context) (*operations.PutSourceSharepointEnterpriseRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var sourceID string
	sourceID = r.SourceID.ValueString()

	sourceSharepointEnterprisePutRequest, sourceSharepointEnterprisePutRequestDiags := r.ToSharedSourceSharepointEnterprisePutRequest(ctx)
	diags.Append(sourceSharepointEnterprisePutRequestDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := operations.PutSourceSharepointEnterpriseRequest{
		SourceID:                             sourceID,
		SourceSharepointEnterprisePutRequest: *sourceSharepointEnterprisePutRequest,
	}

	return &out, diags
}

func (r *SourceSharepointEnterpriseResourceModel) ToSharedSourceSharepointEnterpriseCreateRequest(ctx context.Context) (*shared.SourceSharepointEnterpriseCreateRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var name string
	name = r.Name.ValueString()

	definitionID := new(string)
	if !r.DefinitionID.IsUnknown() && !r.DefinitionID.IsNull() {
		*definitionID = r.DefinitionID.ValueString()
	} else {
		definitionID = nil
	}
	var workspaceID string
	workspaceID = r.WorkspaceID.ValueString()

	var credentials shared.SourceSharepointEnterpriseAuthentication
	var sourceSharepointEnterpriseAuthenticateViaMicrosoftOAuth *shared.SourceSharepointEnterpriseAuthenticateViaMicrosoftOAuth
	if r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth != nil {
		var clientID string
		clientID = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.ClientID.ValueString()

		var clientSecret string
		clientSecret = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.ClientSecret.ValueString()

		refreshToken := new(string)
		if !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.RefreshToken.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.RefreshToken.IsNull() {
			*refreshToken = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.RefreshToken.ValueString()
		} else {
			refreshToken = nil
		}
		scopes := new(string)
		if !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.Scopes.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.Scopes.IsNull() {
			*scopes = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.Scopes.ValueString()
		} else {
			scopes = nil
		}
		var tenantID string
		tenantID = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.TenantID.ValueString()

		sourceSharepointEnterpriseAuthenticateViaMicrosoftOAuth = &shared.SourceSharepointEnterpriseAuthenticateViaMicrosoftOAuth{
			ClientID:     clientID,
			ClientSecret: clientSecret,
			RefreshToken: refreshToken,
			Scopes:       scopes,
			TenantID:     tenantID,
		}
	}
	if sourceSharepointEnterpriseAuthenticateViaMicrosoftOAuth != nil {
		credentials = shared.SourceSharepointEnterpriseAuthentication{
			SourceSharepointEnterpriseAuthenticateViaMicrosoftOAuth: sourceSharepointEnterpriseAuthenticateViaMicrosoftOAuth,
		}
	}
	var sourceSharepointEnterpriseServiceKeyAuthentication *shared.SourceSharepointEnterpriseServiceKeyAuthentication
	if r.Configuration.Credentials.ServiceKeyAuthentication != nil {
		var clientId1 string
		clientId1 = r.Configuration.Credentials.ServiceKeyAuthentication.ClientID.ValueString()

		var clientSecret1 string
		clientSecret1 = r.Configuration.Credentials.ServiceKeyAuthentication.ClientSecret.ValueString()

		var tenantId1 string
		tenantId1 = r.Configuration.Credentials.ServiceKeyAuthentication.TenantID.ValueString()

		var userPrincipalName string
		userPrincipalName = r.Configuration.Credentials.ServiceKeyAuthentication.UserPrincipalName.ValueString()

		sourceSharepointEnterpriseServiceKeyAuthentication = &shared.SourceSharepointEnterpriseServiceKeyAuthentication{
			ClientID:          clientId1,
			ClientSecret:      clientSecret1,
			TenantID:          tenantId1,
			UserPrincipalName: userPrincipalName,
		}
	}
	if sourceSharepointEnterpriseServiceKeyAuthentication != nil {
		credentials = shared.SourceSharepointEnterpriseAuthentication{
			SourceSharepointEnterpriseServiceKeyAuthentication: sourceSharepointEnterpriseServiceKeyAuthentication,
		}
	}
	var deliveryMethod *shared.SourceSharepointEnterpriseDeliveryMethod
	if r.Configuration.DeliveryMethod != nil {
		var sourceSharepointEnterpriseReplicateRecords *shared.SourceSharepointEnterpriseReplicateRecords
		if r.Configuration.DeliveryMethod.ReplicateRecords != nil {
			sourceSharepointEnterpriseReplicateRecords = &shared.SourceSharepointEnterpriseReplicateRecords{}
		}
		if sourceSharepointEnterpriseReplicateRecords != nil {
			deliveryMethod = &shared.SourceSharepointEnterpriseDeliveryMethod{
				SourceSharepointEnterpriseReplicateRecords: sourceSharepointEnterpriseReplicateRecords,
			}
		}
		var sourceSharepointEnterpriseCopyRawFiles *shared.SourceSharepointEnterpriseCopyRawFiles
		if r.Configuration.DeliveryMethod.CopyRawFiles != nil {
			preserveDirectoryStructure := new(bool)
			if !r.Configuration.DeliveryMethod.CopyRawFiles.PreserveDirectoryStructure.IsUnknown() && !r.Configuration.DeliveryMethod.CopyRawFiles.PreserveDirectoryStructure.IsNull() {
				*preserveDirectoryStructure = r.Configuration.DeliveryMethod.CopyRawFiles.PreserveDirectoryStructure.ValueBool()
			} else {
				preserveDirectoryStructure = nil
			}
			sourceSharepointEnterpriseCopyRawFiles = &shared.SourceSharepointEnterpriseCopyRawFiles{
				PreserveDirectoryStructure: preserveDirectoryStructure,
			}
		}
		if sourceSharepointEnterpriseCopyRawFiles != nil {
			deliveryMethod = &shared.SourceSharepointEnterpriseDeliveryMethod{
				SourceSharepointEnterpriseCopyRawFiles: sourceSharepointEnterpriseCopyRawFiles,
			}
		}
		var sourceSharepointEnterpriseReplicatePermissionsACL *shared.SourceSharepointEnterpriseReplicatePermissionsACL
		if r.Configuration.DeliveryMethod.ReplicatePermissionsACL != nil {
			includeIdentitiesStream := new(bool)
			if !r.Configuration.DeliveryMethod.ReplicatePermissionsACL.IncludeIdentitiesStream.IsUnknown() && !r.Configuration.DeliveryMethod.ReplicatePermissionsACL.IncludeIdentitiesStream.IsNull() {
				*includeIdentitiesStream = r.Configuration.DeliveryMethod.ReplicatePermissionsACL.IncludeIdentitiesStream.ValueBool()
			} else {
				includeIdentitiesStream = nil
			}
			sourceSharepointEnterpriseReplicatePermissionsACL = &shared.SourceSharepointEnterpriseReplicatePermissionsACL{
				IncludeIdentitiesStream: includeIdentitiesStream,
			}
		}
		if sourceSharepointEnterpriseReplicatePermissionsACL != nil {
			deliveryMethod = &shared.SourceSharepointEnterpriseDeliveryMethod{
				SourceSharepointEnterpriseReplicatePermissionsACL: sourceSharepointEnterpriseReplicatePermissionsACL,
			}
		}
	}
	fileContainsQuery := make([]string, 0, len(r.Configuration.FileContainsQuery))
	for fileContainsQueryIndex := range r.Configuration.FileContainsQuery {
		fileContainsQuery = append(fileContainsQuery, r.Configuration.FileContainsQuery[fileContainsQueryIndex].ValueString())
	}
	folderPath := new(string)
	if !r.Configuration.FolderPath.IsUnknown() && !r.Configuration.FolderPath.IsNull() {
		*folderPath = r.Configuration.FolderPath.ValueString()
	} else {
		folderPath = nil
	}
	searchScope := new(shared.SourceSharepointEnterpriseSearchScope)
	if !r.Configuration.SearchScope.IsUnknown() && !r.Configuration.SearchScope.IsNull() {
		*searchScope = shared.SourceSharepointEnterpriseSearchScope(r.Configuration.SearchScope.ValueString())
	} else {
		searchScope = nil
	}
	siteURL := new(string)
	if !r.Configuration.SiteURL.IsUnknown() && !r.Configuration.SiteURL.IsNull() {
		*siteURL = r.Configuration.SiteURL.ValueString()
	} else {
		siteURL = nil
	}
	startDate := new(time.Time)
	if !r.Configuration.StartDate.IsUnknown() && !r.Configuration.StartDate.IsNull() {
		*startDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.StartDate.ValueString())
	} else {
		startDate = nil
	}
	streams := make([]shared.SourceSharepointEnterpriseFileBasedStreamConfig, 0, len(r.Configuration.Streams))
	for streamsIndex := range r.Configuration.Streams {
		daysToSyncIfHistoryIsFull := new(int64)
		if !r.Configuration.Streams[streamsIndex].DaysToSyncIfHistoryIsFull.IsUnknown() && !r.Configuration.Streams[streamsIndex].DaysToSyncIfHistoryIsFull.IsNull() {
			*daysToSyncIfHistoryIsFull = r.Configuration.Streams[streamsIndex].DaysToSyncIfHistoryIsFull.ValueInt64()
		} else {
			daysToSyncIfHistoryIsFull = nil
		}
		var format shared.SourceSharepointEnterpriseFormat
		var sourceSharepointEnterpriseAvroFormat *shared.SourceSharepointEnterpriseAvroFormat
		if r.Configuration.Streams[streamsIndex].Format.AvroFormat != nil {
			doubleAsString := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.AvroFormat.DoubleAsString.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.AvroFormat.DoubleAsString.IsNull() {
				*doubleAsString = r.Configuration.Streams[streamsIndex].Format.AvroFormat.DoubleAsString.ValueBool()
			} else {
				doubleAsString = nil
			}
			sourceSharepointEnterpriseAvroFormat = &shared.SourceSharepointEnterpriseAvroFormat{
				DoubleAsString: doubleAsString,
			}
		}
		if sourceSharepointEnterpriseAvroFormat != nil {
			format = shared.SourceSharepointEnterpriseFormat{
				SourceSharepointEnterpriseAvroFormat: sourceSharepointEnterpriseAvroFormat,
			}
		}
		var sourceSharepointEnterpriseCSVFormat *shared.SourceSharepointEnterpriseCSVFormat
		if r.Configuration.Streams[streamsIndex].Format.CSVFormat != nil {
			delimiter := new(string)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.Delimiter.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.Delimiter.IsNull() {
				*delimiter = r.Configuration.Streams[streamsIndex].Format.CSVFormat.Delimiter.ValueString()
			} else {
				delimiter = nil
			}
			doubleQuote := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.DoubleQuote.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.DoubleQuote.IsNull() {
				*doubleQuote = r.Configuration.Streams[streamsIndex].Format.CSVFormat.DoubleQuote.ValueBool()
			} else {
				doubleQuote = nil
			}
			encoding := new(string)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.Encoding.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.Encoding.IsNull() {
				*encoding = r.Configuration.Streams[streamsIndex].Format.CSVFormat.Encoding.ValueString()
			} else {
				encoding = nil
			}
			escapeChar := new(string)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.EscapeChar.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.EscapeChar.IsNull() {
				*escapeChar = r.Configuration.Streams[streamsIndex].Format.CSVFormat.EscapeChar.ValueString()
			} else {
				escapeChar = nil
			}
			falseValues := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Format.CSVFormat.FalseValues))
			for falseValuesIndex := range r.Configuration.Streams[streamsIndex].Format.CSVFormat.FalseValues {
				falseValues = append(falseValues, r.Configuration.Streams[streamsIndex].Format.CSVFormat.FalseValues[falseValuesIndex].ValueString())
			}
			var headerDefinition *shared.SourceSharepointEnterpriseCSVHeaderDefinition
			if r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition != nil {
				var sourceSharepointEnterpriseFromCSV *shared.SourceSharepointEnterpriseFromCSV
				if r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.FromCSV != nil {
					sourceSharepointEnterpriseFromCSV = &shared.SourceSharepointEnterpriseFromCSV{}
				}
				if sourceSharepointEnterpriseFromCSV != nil {
					headerDefinition = &shared.SourceSharepointEnterpriseCSVHeaderDefinition{
						SourceSharepointEnterpriseFromCSV: sourceSharepointEnterpriseFromCSV,
					}
				}
				var sourceSharepointEnterpriseAutogenerated *shared.SourceSharepointEnterpriseAutogenerated
				if r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.Autogenerated != nil {
					sourceSharepointEnterpriseAutogenerated = &shared.SourceSharepointEnterpriseAutogenerated{}
				}
				if sourceSharepointEnterpriseAutogenerated != nil {
					headerDefinition = &shared.SourceSharepointEnterpriseCSVHeaderDefinition{
						SourceSharepointEnterpriseAutogenerated: sourceSharepointEnterpriseAutogenerated,
					}
				}
				var sourceSharepointEnterpriseUserProvided *shared.SourceSharepointEnterpriseUserProvided
				if r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.UserProvided != nil {
					columnNames := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.UserProvided.ColumnNames))
					for columnNamesIndex := range r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.UserProvided.ColumnNames {
						columnNames = append(columnNames, r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.UserProvided.ColumnNames[columnNamesIndex].ValueString())
					}
					sourceSharepointEnterpriseUserProvided = &shared.SourceSharepointEnterpriseUserProvided{
						ColumnNames: columnNames,
					}
				}
				if sourceSharepointEnterpriseUserProvided != nil {
					headerDefinition = &shared.SourceSharepointEnterpriseCSVHeaderDefinition{
						SourceSharepointEnterpriseUserProvided: sourceSharepointEnterpriseUserProvided,
					}
				}
			}
			ignoreErrorsOnFieldsMismatch := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.IgnoreErrorsOnFieldsMismatch.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.IgnoreErrorsOnFieldsMismatch.IsNull() {
				*ignoreErrorsOnFieldsMismatch = r.Configuration.Streams[streamsIndex].Format.CSVFormat.IgnoreErrorsOnFieldsMismatch.ValueBool()
			} else {
				ignoreErrorsOnFieldsMismatch = nil
			}
			nullValues := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Format.CSVFormat.NullValues))
			for nullValuesIndex := range r.Configuration.Streams[streamsIndex].Format.CSVFormat.NullValues {
				nullValues = append(nullValues, r.Configuration.Streams[streamsIndex].Format.CSVFormat.NullValues[nullValuesIndex].ValueString())
			}
			quoteChar := new(string)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.QuoteChar.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.QuoteChar.IsNull() {
				*quoteChar = r.Configuration.Streams[streamsIndex].Format.CSVFormat.QuoteChar.ValueString()
			} else {
				quoteChar = nil
			}
			skipRowsAfterHeader := new(int64)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsAfterHeader.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsAfterHeader.IsNull() {
				*skipRowsAfterHeader = r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsAfterHeader.ValueInt64()
			} else {
				skipRowsAfterHeader = nil
			}
			skipRowsBeforeHeader := new(int64)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsBeforeHeader.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsBeforeHeader.IsNull() {
				*skipRowsBeforeHeader = r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsBeforeHeader.ValueInt64()
			} else {
				skipRowsBeforeHeader = nil
			}
			stringsCanBeNull := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.StringsCanBeNull.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.StringsCanBeNull.IsNull() {
				*stringsCanBeNull = r.Configuration.Streams[streamsIndex].Format.CSVFormat.StringsCanBeNull.ValueBool()
			} else {
				stringsCanBeNull = nil
			}
			trueValues := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Format.CSVFormat.TrueValues))
			for trueValuesIndex := range r.Configuration.Streams[streamsIndex].Format.CSVFormat.TrueValues {
				trueValues = append(trueValues, r.Configuration.Streams[streamsIndex].Format.CSVFormat.TrueValues[trueValuesIndex].ValueString())
			}
			sourceSharepointEnterpriseCSVFormat = &shared.SourceSharepointEnterpriseCSVFormat{
				Delimiter:                    delimiter,
				DoubleQuote:                  doubleQuote,
				Encoding:                     encoding,
				EscapeChar:                   escapeChar,
				FalseValues:                  falseValues,
				HeaderDefinition:             headerDefinition,
				IgnoreErrorsOnFieldsMismatch: ignoreErrorsOnFieldsMismatch,
				NullValues:                   nullValues,
				QuoteChar:                    quoteChar,
				SkipRowsAfterHeader:          skipRowsAfterHeader,
				SkipRowsBeforeHeader:         skipRowsBeforeHeader,
				StringsCanBeNull:             stringsCanBeNull,
				TrueValues:                   trueValues,
			}
		}
		if sourceSharepointEnterpriseCSVFormat != nil {
			format = shared.SourceSharepointEnterpriseFormat{
				SourceSharepointEnterpriseCSVFormat: sourceSharepointEnterpriseCSVFormat,
			}
		}
		var sourceSharepointEnterpriseJsonlFormat *shared.SourceSharepointEnterpriseJsonlFormat
		if r.Configuration.Streams[streamsIndex].Format.JsonlFormat != nil {
			sourceSharepointEnterpriseJsonlFormat = &shared.SourceSharepointEnterpriseJsonlFormat{}
		}
		if sourceSharepointEnterpriseJsonlFormat != nil {
			format = shared.SourceSharepointEnterpriseFormat{
				SourceSharepointEnterpriseJsonlFormat: sourceSharepointEnterpriseJsonlFormat,
			}
		}
		var sourceSharepointEnterpriseParquetFormat *shared.SourceSharepointEnterpriseParquetFormat
		if r.Configuration.Streams[streamsIndex].Format.ParquetFormat != nil {
			decimalAsFloat := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.ParquetFormat.DecimalAsFloat.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.ParquetFormat.DecimalAsFloat.IsNull() {
				*decimalAsFloat = r.Configuration.Streams[streamsIndex].Format.ParquetFormat.DecimalAsFloat.ValueBool()
			} else {
				decimalAsFloat = nil
			}
			sourceSharepointEnterpriseParquetFormat = &shared.SourceSharepointEnterpriseParquetFormat{
				DecimalAsFloat: decimalAsFloat,
			}
		}
		if sourceSharepointEnterpriseParquetFormat != nil {
			format = shared.SourceSharepointEnterpriseFormat{
				SourceSharepointEnterpriseParquetFormat: sourceSharepointEnterpriseParquetFormat,
			}
		}
		var sourceSharepointEnterpriseUnstructuredDocumentFormat *shared.SourceSharepointEnterpriseUnstructuredDocumentFormat
		if r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat != nil {
			var processing *shared.SourceSharepointEnterpriseProcessing
			if r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Processing != nil {
				var sourceSharepointEnterpriseLocal *shared.SourceSharepointEnterpriseLocal
				if r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Processing.Local != nil {
					sourceSharepointEnterpriseLocal = &shared.SourceSharepointEnterpriseLocal{}
				}
				if sourceSharepointEnterpriseLocal != nil {
					processing = &shared.SourceSharepointEnterpriseProcessing{
						SourceSharepointEnterpriseLocal: sourceSharepointEnterpriseLocal,
					}
				}
			}
			skipUnprocessableFiles := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.SkipUnprocessableFiles.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.SkipUnprocessableFiles.IsNull() {
				*skipUnprocessableFiles = r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.SkipUnprocessableFiles.ValueBool()
			} else {
				skipUnprocessableFiles = nil
			}
			strategy := new(shared.SourceSharepointEnterpriseParsingStrategy)
			if !r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Strategy.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Strategy.IsNull() {
				*strategy = shared.SourceSharepointEnterpriseParsingStrategy(r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Strategy.ValueString())
			} else {
				strategy = nil
			}
			sourceSharepointEnterpriseUnstructuredDocumentFormat = &shared.SourceSharepointEnterpriseUnstructuredDocumentFormat{
				Processing:             processing,
				SkipUnprocessableFiles: skipUnprocessableFiles,
				Strategy:               strategy,
			}
		}
		if sourceSharepointEnterpriseUnstructuredDocumentFormat != nil {
			format = shared.SourceSharepointEnterpriseFormat{
				SourceSharepointEnterpriseUnstructuredDocumentFormat: sourceSharepointEnterpriseUnstructuredDocumentFormat,
			}
		}
		var sourceSharepointEnterpriseExcelFormat *shared.SourceSharepointEnterpriseExcelFormat
		if r.Configuration.Streams[streamsIndex].Format.ExcelFormat != nil {
			sourceSharepointEnterpriseExcelFormat = &shared.SourceSharepointEnterpriseExcelFormat{}
		}
		if sourceSharepointEnterpriseExcelFormat != nil {
			format = shared.SourceSharepointEnterpriseFormat{
				SourceSharepointEnterpriseExcelFormat: sourceSharepointEnterpriseExcelFormat,
			}
		}
		globs := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Globs))
		for globsIndex := range r.Configuration.Streams[streamsIndex].Globs {
			globs = append(globs, r.Configuration.Streams[streamsIndex].Globs[globsIndex].ValueString())
		}
		inputSchema := new(string)
		if !r.Configuration.Streams[streamsIndex].InputSchema.IsUnknown() && !r.Configuration.Streams[streamsIndex].InputSchema.IsNull() {
			*inputSchema = r.Configuration.Streams[streamsIndex].InputSchema.ValueString()
		} else {
			inputSchema = nil
		}
		var name1 string
		name1 = r.Configuration.Streams[streamsIndex].Name.ValueString()

		primaryKey := new(string)
		if !r.Configuration.Streams[streamsIndex].PrimaryKey.IsUnknown() && !r.Configuration.Streams[streamsIndex].PrimaryKey.IsNull() {
			*primaryKey = r.Configuration.Streams[streamsIndex].PrimaryKey.ValueString()
		} else {
			primaryKey = nil
		}
		recentNFilesToReadForSchemaDiscovery := new(int64)
		if !r.Configuration.Streams[streamsIndex].RecentNFilesToReadForSchemaDiscovery.IsUnknown() && !r.Configuration.Streams[streamsIndex].RecentNFilesToReadForSchemaDiscovery.IsNull() {
			*recentNFilesToReadForSchemaDiscovery = r.Configuration.Streams[streamsIndex].RecentNFilesToReadForSchemaDiscovery.ValueInt64()
		} else {
			recentNFilesToReadForSchemaDiscovery = nil
		}
		schemaless := new(bool)
		if !r.Configuration.Streams[streamsIndex].Schemaless.IsUnknown() && !r.Configuration.Streams[streamsIndex].Schemaless.IsNull() {
			*schemaless = r.Configuration.Streams[streamsIndex].Schemaless.ValueBool()
		} else {
			schemaless = nil
		}
		useFirstFoundFileForSchemaDiscovery := new(bool)
		if !r.Configuration.Streams[streamsIndex].UseFirstFoundFileForSchemaDiscovery.IsUnknown() && !r.Configuration.Streams[streamsIndex].UseFirstFoundFileForSchemaDiscovery.IsNull() {
			*useFirstFoundFileForSchemaDiscovery = r.Configuration.Streams[streamsIndex].UseFirstFoundFileForSchemaDiscovery.ValueBool()
		} else {
			useFirstFoundFileForSchemaDiscovery = nil
		}
		validationPolicy := new(shared.SourceSharepointEnterpriseValidationPolicy)
		if !r.Configuration.Streams[streamsIndex].ValidationPolicy.IsUnknown() && !r.Configuration.Streams[streamsIndex].ValidationPolicy.IsNull() {
			*validationPolicy = shared.SourceSharepointEnterpriseValidationPolicy(r.Configuration.Streams[streamsIndex].ValidationPolicy.ValueString())
		} else {
			validationPolicy = nil
		}
		streams = append(streams, shared.SourceSharepointEnterpriseFileBasedStreamConfig{
			DaysToSyncIfHistoryIsFull:            daysToSyncIfHistoryIsFull,
			Format:                               format,
			Globs:                                globs,
			InputSchema:                          inputSchema,
			Name:                                 name1,
			PrimaryKey:                           primaryKey,
			RecentNFilesToReadForSchemaDiscovery: recentNFilesToReadForSchemaDiscovery,
			Schemaless:                           schemaless,
			UseFirstFoundFileForSchemaDiscovery:  useFirstFoundFileForSchemaDiscovery,
			ValidationPolicy:                     validationPolicy,
		})
	}
	configuration := shared.SourceSharepointEnterprise{
		Credentials:       credentials,
		DeliveryMethod:    deliveryMethod,
		FileContainsQuery: fileContainsQuery,
		FolderPath:        folderPath,
		SearchScope:       searchScope,
		SiteURL:           siteURL,
		StartDate:         startDate,
		Streams:           streams,
	}
	secretID := new(string)
	if !r.SecretID.IsUnknown() && !r.SecretID.IsNull() {
		*secretID = r.SecretID.ValueString()
	} else {
		secretID = nil
	}
	out := shared.SourceSharepointEnterpriseCreateRequest{
		Name:          name,
		DefinitionID:  definitionID,
		WorkspaceID:   workspaceID,
		Configuration: configuration,
		SecretID:      secretID,
	}

	return &out, diags
}

func (r *SourceSharepointEnterpriseResourceModel) ToSharedSourceSharepointEnterprisePutRequest(ctx context.Context) (*shared.SourceSharepointEnterprisePutRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var name string
	name = r.Name.ValueString()

	var workspaceID string
	workspaceID = r.WorkspaceID.ValueString()

	var credentials *shared.SourceSharepointEnterpriseUpdateAuthentication
	var sourceSharepointEnterpriseUpdateAuthenticateViaMicrosoftOAuth *shared.SourceSharepointEnterpriseUpdateAuthenticateViaMicrosoftOAuth
	if r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth != nil {
		clientID := new(string)
		if !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.ClientID.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.ClientID.IsNull() {
			*clientID = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.ClientID.ValueString()
		} else {
			clientID = nil
		}
		clientSecret := new(string)
		if !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.ClientSecret.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.ClientSecret.IsNull() {
			*clientSecret = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.ClientSecret.ValueString()
		} else {
			clientSecret = nil
		}
		refreshToken := new(string)
		if !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.RefreshToken.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.RefreshToken.IsNull() {
			*refreshToken = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.RefreshToken.ValueString()
		} else {
			refreshToken = nil
		}
		scopes := new(string)
		if !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.Scopes.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.Scopes.IsNull() {
			*scopes = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.Scopes.ValueString()
		} else {
			scopes = nil
		}
		tenantID := new(string)
		if !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.TenantID.IsUnknown() && !r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.TenantID.IsNull() {
			*tenantID = r.Configuration.Credentials.AuthenticateViaMicrosoftOAuth.TenantID.ValueString()
		} else {
			tenantID = nil
		}
		sourceSharepointEnterpriseUpdateAuthenticateViaMicrosoftOAuth = &shared.SourceSharepointEnterpriseUpdateAuthenticateViaMicrosoftOAuth{
			ClientID:     clientID,
			ClientSecret: clientSecret,
			RefreshToken: refreshToken,
			Scopes:       scopes,
			TenantID:     tenantID,
		}
	}
	if sourceSharepointEnterpriseUpdateAuthenticateViaMicrosoftOAuth != nil {
		credentials = &shared.SourceSharepointEnterpriseUpdateAuthentication{
			SourceSharepointEnterpriseUpdateAuthenticateViaMicrosoftOAuth: sourceSharepointEnterpriseUpdateAuthenticateViaMicrosoftOAuth,
		}
	}
	var sourceSharepointEnterpriseUpdateServiceKeyAuthentication *shared.SourceSharepointEnterpriseUpdateServiceKeyAuthentication
	if r.Configuration.Credentials.ServiceKeyAuthentication != nil {
		clientId1 := new(string)
		if !r.Configuration.Credentials.ServiceKeyAuthentication.ClientID.IsUnknown() && !r.Configuration.Credentials.ServiceKeyAuthentication.ClientID.IsNull() {
			*clientId1 = r.Configuration.Credentials.ServiceKeyAuthentication.ClientID.ValueString()
		} else {
			clientId1 = nil
		}
		clientSecret1 := new(string)
		if !r.Configuration.Credentials.ServiceKeyAuthentication.ClientSecret.IsUnknown() && !r.Configuration.Credentials.ServiceKeyAuthentication.ClientSecret.IsNull() {
			*clientSecret1 = r.Configuration.Credentials.ServiceKeyAuthentication.ClientSecret.ValueString()
		} else {
			clientSecret1 = nil
		}
		tenantId1 := new(string)
		if !r.Configuration.Credentials.ServiceKeyAuthentication.TenantID.IsUnknown() && !r.Configuration.Credentials.ServiceKeyAuthentication.TenantID.IsNull() {
			*tenantId1 = r.Configuration.Credentials.ServiceKeyAuthentication.TenantID.ValueString()
		} else {
			tenantId1 = nil
		}
		userPrincipalName := new(string)
		if !r.Configuration.Credentials.ServiceKeyAuthentication.UserPrincipalName.IsUnknown() && !r.Configuration.Credentials.ServiceKeyAuthentication.UserPrincipalName.IsNull() {
			*userPrincipalName = r.Configuration.Credentials.ServiceKeyAuthentication.UserPrincipalName.ValueString()
		} else {
			userPrincipalName = nil
		}
		sourceSharepointEnterpriseUpdateServiceKeyAuthentication = &shared.SourceSharepointEnterpriseUpdateServiceKeyAuthentication{
			ClientID:          clientId1,
			ClientSecret:      clientSecret1,
			TenantID:          tenantId1,
			UserPrincipalName: userPrincipalName,
		}
	}
	if sourceSharepointEnterpriseUpdateServiceKeyAuthentication != nil {
		credentials = &shared.SourceSharepointEnterpriseUpdateAuthentication{
			SourceSharepointEnterpriseUpdateServiceKeyAuthentication: sourceSharepointEnterpriseUpdateServiceKeyAuthentication,
		}
	}
	var deliveryMethod *shared.SourceSharepointEnterpriseUpdateDeliveryMethod
	if r.Configuration.DeliveryMethod != nil {
		var sourceSharepointEnterpriseUpdateReplicateRecords *shared.SourceSharepointEnterpriseUpdateReplicateRecords
		if r.Configuration.DeliveryMethod.ReplicateRecords != nil {
			sourceSharepointEnterpriseUpdateReplicateRecords = &shared.SourceSharepointEnterpriseUpdateReplicateRecords{}
		}
		if sourceSharepointEnterpriseUpdateReplicateRecords != nil {
			deliveryMethod = &shared.SourceSharepointEnterpriseUpdateDeliveryMethod{
				SourceSharepointEnterpriseUpdateReplicateRecords: sourceSharepointEnterpriseUpdateReplicateRecords,
			}
		}
		var sourceSharepointEnterpriseUpdateCopyRawFiles *shared.SourceSharepointEnterpriseUpdateCopyRawFiles
		if r.Configuration.DeliveryMethod.CopyRawFiles != nil {
			preserveDirectoryStructure := new(bool)
			if !r.Configuration.DeliveryMethod.CopyRawFiles.PreserveDirectoryStructure.IsUnknown() && !r.Configuration.DeliveryMethod.CopyRawFiles.PreserveDirectoryStructure.IsNull() {
				*preserveDirectoryStructure = r.Configuration.DeliveryMethod.CopyRawFiles.PreserveDirectoryStructure.ValueBool()
			} else {
				preserveDirectoryStructure = nil
			}
			sourceSharepointEnterpriseUpdateCopyRawFiles = &shared.SourceSharepointEnterpriseUpdateCopyRawFiles{
				PreserveDirectoryStructure: preserveDirectoryStructure,
			}
		}
		if sourceSharepointEnterpriseUpdateCopyRawFiles != nil {
			deliveryMethod = &shared.SourceSharepointEnterpriseUpdateDeliveryMethod{
				SourceSharepointEnterpriseUpdateCopyRawFiles: sourceSharepointEnterpriseUpdateCopyRawFiles,
			}
		}
		var sourceSharepointEnterpriseUpdateReplicatePermissionsACL *shared.SourceSharepointEnterpriseUpdateReplicatePermissionsACL
		if r.Configuration.DeliveryMethod.ReplicatePermissionsACL != nil {
			includeIdentitiesStream := new(bool)
			if !r.Configuration.DeliveryMethod.ReplicatePermissionsACL.IncludeIdentitiesStream.IsUnknown() && !r.Configuration.DeliveryMethod.ReplicatePermissionsACL.IncludeIdentitiesStream.IsNull() {
				*includeIdentitiesStream = r.Configuration.DeliveryMethod.ReplicatePermissionsACL.IncludeIdentitiesStream.ValueBool()
			} else {
				includeIdentitiesStream = nil
			}
			sourceSharepointEnterpriseUpdateReplicatePermissionsACL = &shared.SourceSharepointEnterpriseUpdateReplicatePermissionsACL{
				IncludeIdentitiesStream: includeIdentitiesStream,
			}
		}
		if sourceSharepointEnterpriseUpdateReplicatePermissionsACL != nil {
			deliveryMethod = &shared.SourceSharepointEnterpriseUpdateDeliveryMethod{
				SourceSharepointEnterpriseUpdateReplicatePermissionsACL: sourceSharepointEnterpriseUpdateReplicatePermissionsACL,
			}
		}
	}
	fileContainsQuery := make([]string, 0, len(r.Configuration.FileContainsQuery))
	for fileContainsQueryIndex := range r.Configuration.FileContainsQuery {
		fileContainsQuery = append(fileContainsQuery, r.Configuration.FileContainsQuery[fileContainsQueryIndex].ValueString())
	}
	folderPath := new(string)
	if !r.Configuration.FolderPath.IsUnknown() && !r.Configuration.FolderPath.IsNull() {
		*folderPath = r.Configuration.FolderPath.ValueString()
	} else {
		folderPath = nil
	}
	searchScope := new(shared.SourceSharepointEnterpriseUpdateSearchScope)
	if !r.Configuration.SearchScope.IsUnknown() && !r.Configuration.SearchScope.IsNull() {
		*searchScope = shared.SourceSharepointEnterpriseUpdateSearchScope(r.Configuration.SearchScope.ValueString())
	} else {
		searchScope = nil
	}
	siteURL := new(string)
	if !r.Configuration.SiteURL.IsUnknown() && !r.Configuration.SiteURL.IsNull() {
		*siteURL = r.Configuration.SiteURL.ValueString()
	} else {
		siteURL = nil
	}
	startDate := new(time.Time)
	if !r.Configuration.StartDate.IsUnknown() && !r.Configuration.StartDate.IsNull() {
		*startDate, _ = time.Parse(time.RFC3339Nano, r.Configuration.StartDate.ValueString())
	} else {
		startDate = nil
	}
	streams := make([]shared.SourceSharepointEnterpriseUpdateFileBasedStreamConfig, 0, len(r.Configuration.Streams))
	for streamsIndex := range r.Configuration.Streams {
		daysToSyncIfHistoryIsFull := new(int64)
		if !r.Configuration.Streams[streamsIndex].DaysToSyncIfHistoryIsFull.IsUnknown() && !r.Configuration.Streams[streamsIndex].DaysToSyncIfHistoryIsFull.IsNull() {
			*daysToSyncIfHistoryIsFull = r.Configuration.Streams[streamsIndex].DaysToSyncIfHistoryIsFull.ValueInt64()
		} else {
			daysToSyncIfHistoryIsFull = nil
		}
		var format *shared.SourceSharepointEnterpriseUpdateFormat
		var sourceSharepointEnterpriseUpdateAvroFormat *shared.SourceSharepointEnterpriseUpdateAvroFormat
		if r.Configuration.Streams[streamsIndex].Format.AvroFormat != nil {
			doubleAsString := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.AvroFormat.DoubleAsString.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.AvroFormat.DoubleAsString.IsNull() {
				*doubleAsString = r.Configuration.Streams[streamsIndex].Format.AvroFormat.DoubleAsString.ValueBool()
			} else {
				doubleAsString = nil
			}
			sourceSharepointEnterpriseUpdateAvroFormat = &shared.SourceSharepointEnterpriseUpdateAvroFormat{
				DoubleAsString: doubleAsString,
			}
		}
		if sourceSharepointEnterpriseUpdateAvroFormat != nil {
			format = &shared.SourceSharepointEnterpriseUpdateFormat{
				SourceSharepointEnterpriseUpdateAvroFormat: sourceSharepointEnterpriseUpdateAvroFormat,
			}
		}
		var sourceSharepointEnterpriseUpdateCSVFormat *shared.SourceSharepointEnterpriseUpdateCSVFormat
		if r.Configuration.Streams[streamsIndex].Format.CSVFormat != nil {
			delimiter := new(string)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.Delimiter.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.Delimiter.IsNull() {
				*delimiter = r.Configuration.Streams[streamsIndex].Format.CSVFormat.Delimiter.ValueString()
			} else {
				delimiter = nil
			}
			doubleQuote := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.DoubleQuote.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.DoubleQuote.IsNull() {
				*doubleQuote = r.Configuration.Streams[streamsIndex].Format.CSVFormat.DoubleQuote.ValueBool()
			} else {
				doubleQuote = nil
			}
			encoding := new(string)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.Encoding.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.Encoding.IsNull() {
				*encoding = r.Configuration.Streams[streamsIndex].Format.CSVFormat.Encoding.ValueString()
			} else {
				encoding = nil
			}
			escapeChar := new(string)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.EscapeChar.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.EscapeChar.IsNull() {
				*escapeChar = r.Configuration.Streams[streamsIndex].Format.CSVFormat.EscapeChar.ValueString()
			} else {
				escapeChar = nil
			}
			falseValues := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Format.CSVFormat.FalseValues))
			for falseValuesIndex := range r.Configuration.Streams[streamsIndex].Format.CSVFormat.FalseValues {
				falseValues = append(falseValues, r.Configuration.Streams[streamsIndex].Format.CSVFormat.FalseValues[falseValuesIndex].ValueString())
			}
			var headerDefinition *shared.SourceSharepointEnterpriseUpdateCSVHeaderDefinition
			if r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition != nil {
				var sourceSharepointEnterpriseUpdateFromCSV *shared.SourceSharepointEnterpriseUpdateFromCSV
				if r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.FromCSV != nil {
					sourceSharepointEnterpriseUpdateFromCSV = &shared.SourceSharepointEnterpriseUpdateFromCSV{}
				}
				if sourceSharepointEnterpriseUpdateFromCSV != nil {
					headerDefinition = &shared.SourceSharepointEnterpriseUpdateCSVHeaderDefinition{
						SourceSharepointEnterpriseUpdateFromCSV: sourceSharepointEnterpriseUpdateFromCSV,
					}
				}
				var sourceSharepointEnterpriseUpdateAutogenerated *shared.SourceSharepointEnterpriseUpdateAutogenerated
				if r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.Autogenerated != nil {
					sourceSharepointEnterpriseUpdateAutogenerated = &shared.SourceSharepointEnterpriseUpdateAutogenerated{}
				}
				if sourceSharepointEnterpriseUpdateAutogenerated != nil {
					headerDefinition = &shared.SourceSharepointEnterpriseUpdateCSVHeaderDefinition{
						SourceSharepointEnterpriseUpdateAutogenerated: sourceSharepointEnterpriseUpdateAutogenerated,
					}
				}
				var sourceSharepointEnterpriseUpdateUserProvided *shared.SourceSharepointEnterpriseUpdateUserProvided
				if r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.UserProvided != nil {
					columnNames := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.UserProvided.ColumnNames))
					for columnNamesIndex := range r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.UserProvided.ColumnNames {
						columnNames = append(columnNames, r.Configuration.Streams[streamsIndex].Format.CSVFormat.HeaderDefinition.UserProvided.ColumnNames[columnNamesIndex].ValueString())
					}
					sourceSharepointEnterpriseUpdateUserProvided = &shared.SourceSharepointEnterpriseUpdateUserProvided{
						ColumnNames: columnNames,
					}
				}
				if sourceSharepointEnterpriseUpdateUserProvided != nil {
					headerDefinition = &shared.SourceSharepointEnterpriseUpdateCSVHeaderDefinition{
						SourceSharepointEnterpriseUpdateUserProvided: sourceSharepointEnterpriseUpdateUserProvided,
					}
				}
			}
			ignoreErrorsOnFieldsMismatch := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.IgnoreErrorsOnFieldsMismatch.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.IgnoreErrorsOnFieldsMismatch.IsNull() {
				*ignoreErrorsOnFieldsMismatch = r.Configuration.Streams[streamsIndex].Format.CSVFormat.IgnoreErrorsOnFieldsMismatch.ValueBool()
			} else {
				ignoreErrorsOnFieldsMismatch = nil
			}
			nullValues := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Format.CSVFormat.NullValues))
			for nullValuesIndex := range r.Configuration.Streams[streamsIndex].Format.CSVFormat.NullValues {
				nullValues = append(nullValues, r.Configuration.Streams[streamsIndex].Format.CSVFormat.NullValues[nullValuesIndex].ValueString())
			}
			quoteChar := new(string)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.QuoteChar.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.QuoteChar.IsNull() {
				*quoteChar = r.Configuration.Streams[streamsIndex].Format.CSVFormat.QuoteChar.ValueString()
			} else {
				quoteChar = nil
			}
			skipRowsAfterHeader := new(int64)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsAfterHeader.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsAfterHeader.IsNull() {
				*skipRowsAfterHeader = r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsAfterHeader.ValueInt64()
			} else {
				skipRowsAfterHeader = nil
			}
			skipRowsBeforeHeader := new(int64)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsBeforeHeader.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsBeforeHeader.IsNull() {
				*skipRowsBeforeHeader = r.Configuration.Streams[streamsIndex].Format.CSVFormat.SkipRowsBeforeHeader.ValueInt64()
			} else {
				skipRowsBeforeHeader = nil
			}
			stringsCanBeNull := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.CSVFormat.StringsCanBeNull.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.CSVFormat.StringsCanBeNull.IsNull() {
				*stringsCanBeNull = r.Configuration.Streams[streamsIndex].Format.CSVFormat.StringsCanBeNull.ValueBool()
			} else {
				stringsCanBeNull = nil
			}
			trueValues := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Format.CSVFormat.TrueValues))
			for trueValuesIndex := range r.Configuration.Streams[streamsIndex].Format.CSVFormat.TrueValues {
				trueValues = append(trueValues, r.Configuration.Streams[streamsIndex].Format.CSVFormat.TrueValues[trueValuesIndex].ValueString())
			}
			sourceSharepointEnterpriseUpdateCSVFormat = &shared.SourceSharepointEnterpriseUpdateCSVFormat{
				Delimiter:                    delimiter,
				DoubleQuote:                  doubleQuote,
				Encoding:                     encoding,
				EscapeChar:                   escapeChar,
				FalseValues:                  falseValues,
				HeaderDefinition:             headerDefinition,
				IgnoreErrorsOnFieldsMismatch: ignoreErrorsOnFieldsMismatch,
				NullValues:                   nullValues,
				QuoteChar:                    quoteChar,
				SkipRowsAfterHeader:          skipRowsAfterHeader,
				SkipRowsBeforeHeader:         skipRowsBeforeHeader,
				StringsCanBeNull:             stringsCanBeNull,
				TrueValues:                   trueValues,
			}
		}
		if sourceSharepointEnterpriseUpdateCSVFormat != nil {
			format = &shared.SourceSharepointEnterpriseUpdateFormat{
				SourceSharepointEnterpriseUpdateCSVFormat: sourceSharepointEnterpriseUpdateCSVFormat,
			}
		}
		var sourceSharepointEnterpriseUpdateJsonlFormat *shared.SourceSharepointEnterpriseUpdateJsonlFormat
		if r.Configuration.Streams[streamsIndex].Format.JsonlFormat != nil {
			sourceSharepointEnterpriseUpdateJsonlFormat = &shared.SourceSharepointEnterpriseUpdateJsonlFormat{}
		}
		if sourceSharepointEnterpriseUpdateJsonlFormat != nil {
			format = &shared.SourceSharepointEnterpriseUpdateFormat{
				SourceSharepointEnterpriseUpdateJsonlFormat: sourceSharepointEnterpriseUpdateJsonlFormat,
			}
		}
		var sourceSharepointEnterpriseUpdateParquetFormat *shared.SourceSharepointEnterpriseUpdateParquetFormat
		if r.Configuration.Streams[streamsIndex].Format.ParquetFormat != nil {
			decimalAsFloat := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.ParquetFormat.DecimalAsFloat.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.ParquetFormat.DecimalAsFloat.IsNull() {
				*decimalAsFloat = r.Configuration.Streams[streamsIndex].Format.ParquetFormat.DecimalAsFloat.ValueBool()
			} else {
				decimalAsFloat = nil
			}
			sourceSharepointEnterpriseUpdateParquetFormat = &shared.SourceSharepointEnterpriseUpdateParquetFormat{
				DecimalAsFloat: decimalAsFloat,
			}
		}
		if sourceSharepointEnterpriseUpdateParquetFormat != nil {
			format = &shared.SourceSharepointEnterpriseUpdateFormat{
				SourceSharepointEnterpriseUpdateParquetFormat: sourceSharepointEnterpriseUpdateParquetFormat,
			}
		}
		var sourceSharepointEnterpriseUpdateUnstructuredDocumentFormat *shared.SourceSharepointEnterpriseUpdateUnstructuredDocumentFormat
		if r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat != nil {
			var processing *shared.SourceSharepointEnterpriseUpdateProcessing
			if r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Processing != nil {
				var sourceSharepointEnterpriseUpdateLocal *shared.SourceSharepointEnterpriseUpdateLocal
				if r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Processing.Local != nil {
					sourceSharepointEnterpriseUpdateLocal = &shared.SourceSharepointEnterpriseUpdateLocal{}
				}
				if sourceSharepointEnterpriseUpdateLocal != nil {
					processing = &shared.SourceSharepointEnterpriseUpdateProcessing{
						SourceSharepointEnterpriseUpdateLocal: sourceSharepointEnterpriseUpdateLocal,
					}
				}
			}
			skipUnprocessableFiles := new(bool)
			if !r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.SkipUnprocessableFiles.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.SkipUnprocessableFiles.IsNull() {
				*skipUnprocessableFiles = r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.SkipUnprocessableFiles.ValueBool()
			} else {
				skipUnprocessableFiles = nil
			}
			strategy := new(shared.SourceSharepointEnterpriseUpdateParsingStrategy)
			if !r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Strategy.IsUnknown() && !r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Strategy.IsNull() {
				*strategy = shared.SourceSharepointEnterpriseUpdateParsingStrategy(r.Configuration.Streams[streamsIndex].Format.UnstructuredDocumentFormat.Strategy.ValueString())
			} else {
				strategy = nil
			}
			sourceSharepointEnterpriseUpdateUnstructuredDocumentFormat = &shared.SourceSharepointEnterpriseUpdateUnstructuredDocumentFormat{
				Processing:             processing,
				SkipUnprocessableFiles: skipUnprocessableFiles,
				Strategy:               strategy,
			}
		}
		if sourceSharepointEnterpriseUpdateUnstructuredDocumentFormat != nil {
			format = &shared.SourceSharepointEnterpriseUpdateFormat{
				SourceSharepointEnterpriseUpdateUnstructuredDocumentFormat: sourceSharepointEnterpriseUpdateUnstructuredDocumentFormat,
			}
		}
		var sourceSharepointEnterpriseUpdateExcelFormat *shared.SourceSharepointEnterpriseUpdateExcelFormat
		if r.Configuration.Streams[streamsIndex].Format.ExcelFormat != nil {
			sourceSharepointEnterpriseUpdateExcelFormat = &shared.SourceSharepointEnterpriseUpdateExcelFormat{}
		}
		if sourceSharepointEnterpriseUpdateExcelFormat != nil {
			format = &shared.SourceSharepointEnterpriseUpdateFormat{
				SourceSharepointEnterpriseUpdateExcelFormat: sourceSharepointEnterpriseUpdateExcelFormat,
			}
		}
		globs := make([]string, 0, len(r.Configuration.Streams[streamsIndex].Globs))
		for globsIndex := range r.Configuration.Streams[streamsIndex].Globs {
			globs = append(globs, r.Configuration.Streams[streamsIndex].Globs[globsIndex].ValueString())
		}
		inputSchema := new(string)
		if !r.Configuration.Streams[streamsIndex].InputSchema.IsUnknown() && !r.Configuration.Streams[streamsIndex].InputSchema.IsNull() {
			*inputSchema = r.Configuration.Streams[streamsIndex].InputSchema.ValueString()
		} else {
			inputSchema = nil
		}
		name1 := new(string)
		if !r.Configuration.Streams[streamsIndex].Name.IsUnknown() && !r.Configuration.Streams[streamsIndex].Name.IsNull() {
			*name1 = r.Configuration.Streams[streamsIndex].Name.ValueString()
		} else {
			name1 = nil
		}
		primaryKey := new(string)
		if !r.Configuration.Streams[streamsIndex].PrimaryKey.IsUnknown() && !r.Configuration.Streams[streamsIndex].PrimaryKey.IsNull() {
			*primaryKey = r.Configuration.Streams[streamsIndex].PrimaryKey.ValueString()
		} else {
			primaryKey = nil
		}
		recentNFilesToReadForSchemaDiscovery := new(int64)
		if !r.Configuration.Streams[streamsIndex].RecentNFilesToReadForSchemaDiscovery.IsUnknown() && !r.Configuration.Streams[streamsIndex].RecentNFilesToReadForSchemaDiscovery.IsNull() {
			*recentNFilesToReadForSchemaDiscovery = r.Configuration.Streams[streamsIndex].RecentNFilesToReadForSchemaDiscovery.ValueInt64()
		} else {
			recentNFilesToReadForSchemaDiscovery = nil
		}
		schemaless := new(bool)
		if !r.Configuration.Streams[streamsIndex].Schemaless.IsUnknown() && !r.Configuration.Streams[streamsIndex].Schemaless.IsNull() {
			*schemaless = r.Configuration.Streams[streamsIndex].Schemaless.ValueBool()
		} else {
			schemaless = nil
		}
		useFirstFoundFileForSchemaDiscovery := new(bool)
		if !r.Configuration.Streams[streamsIndex].UseFirstFoundFileForSchemaDiscovery.IsUnknown() && !r.Configuration.Streams[streamsIndex].UseFirstFoundFileForSchemaDiscovery.IsNull() {
			*useFirstFoundFileForSchemaDiscovery = r.Configuration.Streams[streamsIndex].UseFirstFoundFileForSchemaDiscovery.ValueBool()
		} else {
			useFirstFoundFileForSchemaDiscovery = nil
		}
		validationPolicy := new(shared.SourceSharepointEnterpriseUpdateValidationPolicy)
		if !r.Configuration.Streams[streamsIndex].ValidationPolicy.IsUnknown() && !r.Configuration.Streams[streamsIndex].ValidationPolicy.IsNull() {
			*validationPolicy = shared.SourceSharepointEnterpriseUpdateValidationPolicy(r.Configuration.Streams[streamsIndex].ValidationPolicy.ValueString())
		} else {
			validationPolicy = nil
		}
		streams = append(streams, shared.SourceSharepointEnterpriseUpdateFileBasedStreamConfig{
			DaysToSyncIfHistoryIsFull:            daysToSyncIfHistoryIsFull,
			Format:                               format,
			Globs:                                globs,
			InputSchema:                          inputSchema,
			Name:                                 name1,
			PrimaryKey:                           primaryKey,
			RecentNFilesToReadForSchemaDiscovery: recentNFilesToReadForSchemaDiscovery,
			Schemaless:                           schemaless,
			UseFirstFoundFileForSchemaDiscovery:  useFirstFoundFileForSchemaDiscovery,
			ValidationPolicy:                     validationPolicy,
		})
	}
	configuration := shared.SourceSharepointEnterpriseUpdate{
		Credentials:       credentials,
		DeliveryMethod:    deliveryMethod,
		FileContainsQuery: fileContainsQuery,
		FolderPath:        folderPath,
		SearchScope:       searchScope,
		SiteURL:           siteURL,
		StartDate:         startDate,
		Streams:           streams,
	}
	out := shared.SourceSharepointEnterprisePutRequest{
		Name:          name,
		WorkspaceID:   workspaceID,
		Configuration: configuration,
	}

	return &out, diags
}
