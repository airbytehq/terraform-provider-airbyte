// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package provider

import (
	"airbyte/internal/sdk/pkg/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

func (r *DestinationPineconeResourceModel) ToCreateSDKType() *shared.DestinationPineconeCreateRequest {
	destinationType := shared.DestinationPineconePinecone(r.Configuration.DestinationType.ValueString())
	var embedding shared.DestinationPineconeEmbedding
	var destinationPineconeEmbeddingOpenAI *shared.DestinationPineconeEmbeddingOpenAI
	if r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI != nil {
		mode := new(shared.DestinationPineconeEmbeddingOpenAIMode)
		if !r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode.IsNull() {
			*mode = shared.DestinationPineconeEmbeddingOpenAIMode(r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode.ValueString())
		} else {
			mode = nil
		}
		openaiKey := r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.OpenaiKey.ValueString()
		destinationPineconeEmbeddingOpenAI = &shared.DestinationPineconeEmbeddingOpenAI{
			Mode:      mode,
			OpenaiKey: openaiKey,
		}
	}
	if destinationPineconeEmbeddingOpenAI != nil {
		embedding = shared.DestinationPineconeEmbedding{
			DestinationPineconeEmbeddingOpenAI: destinationPineconeEmbeddingOpenAI,
		}
	}
	var destinationPineconeEmbeddingCohere *shared.DestinationPineconeEmbeddingCohere
	if r.Configuration.Embedding.DestinationPineconeEmbeddingCohere != nil {
		cohereKey := r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.CohereKey.ValueString()
		mode1 := new(shared.DestinationPineconeEmbeddingCohereMode)
		if !r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode.IsNull() {
			*mode1 = shared.DestinationPineconeEmbeddingCohereMode(r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode.ValueString())
		} else {
			mode1 = nil
		}
		destinationPineconeEmbeddingCohere = &shared.DestinationPineconeEmbeddingCohere{
			CohereKey: cohereKey,
			Mode:      mode1,
		}
	}
	if destinationPineconeEmbeddingCohere != nil {
		embedding = shared.DestinationPineconeEmbedding{
			DestinationPineconeEmbeddingCohere: destinationPineconeEmbeddingCohere,
		}
	}
	var destinationPineconeEmbeddingFake *shared.DestinationPineconeEmbeddingFake
	if r.Configuration.Embedding.DestinationPineconeEmbeddingFake != nil {
		mode2 := new(shared.DestinationPineconeEmbeddingFakeMode)
		if !r.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode.IsNull() {
			*mode2 = shared.DestinationPineconeEmbeddingFakeMode(r.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode.ValueString())
		} else {
			mode2 = nil
		}
		destinationPineconeEmbeddingFake = &shared.DestinationPineconeEmbeddingFake{
			Mode: mode2,
		}
	}
	if destinationPineconeEmbeddingFake != nil {
		embedding = shared.DestinationPineconeEmbedding{
			DestinationPineconeEmbeddingFake: destinationPineconeEmbeddingFake,
		}
	}
	index := r.Configuration.Indexing.Index.ValueString()
	pineconeEnvironment := r.Configuration.Indexing.PineconeEnvironment.ValueString()
	pineconeKey := r.Configuration.Indexing.PineconeKey.ValueString()
	indexing := shared.DestinationPineconeIndexing{
		Index:               index,
		PineconeEnvironment: pineconeEnvironment,
		PineconeKey:         pineconeKey,
	}
	chunkOverlap := new(int64)
	if !r.Configuration.Processing.ChunkOverlap.IsUnknown() && !r.Configuration.Processing.ChunkOverlap.IsNull() {
		*chunkOverlap = r.Configuration.Processing.ChunkOverlap.ValueInt64()
	} else {
		chunkOverlap = nil
	}
	chunkSize := r.Configuration.Processing.ChunkSize.ValueInt64()
	var metadataFields []string = nil
	for _, metadataFieldsItem := range r.Configuration.Processing.MetadataFields {
		metadataFields = append(metadataFields, metadataFieldsItem.ValueString())
	}
	var textFields []string = nil
	for _, textFieldsItem := range r.Configuration.Processing.TextFields {
		textFields = append(textFields, textFieldsItem.ValueString())
	}
	processing := shared.DestinationPineconeProcessingConfigModel{
		ChunkOverlap:   chunkOverlap,
		ChunkSize:      chunkSize,
		MetadataFields: metadataFields,
		TextFields:     textFields,
	}
	configuration := shared.DestinationPinecone{
		DestinationType: destinationType,
		Embedding:       embedding,
		Indexing:        indexing,
		Processing:      processing,
	}
	name := r.Name.ValueString()
	workspaceID := r.WorkspaceID.ValueString()
	out := shared.DestinationPineconeCreateRequest{
		Configuration: configuration,
		Name:          name,
		WorkspaceID:   workspaceID,
	}
	return &out
}

func (r *DestinationPineconeResourceModel) ToGetSDKType() *shared.DestinationPineconeCreateRequest {
	out := r.ToCreateSDKType()
	return out
}

func (r *DestinationPineconeResourceModel) ToUpdateSDKType() *shared.DestinationPineconePutRequest {
	var embedding shared.DestinationPineconeUpdateEmbedding
	var destinationPineconeUpdateEmbeddingOpenAI *shared.DestinationPineconeUpdateEmbeddingOpenAI
	if r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI != nil {
		mode := new(shared.DestinationPineconeUpdateEmbeddingOpenAIMode)
		if !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI.Mode.IsNull() {
			*mode = shared.DestinationPineconeUpdateEmbeddingOpenAIMode(r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI.Mode.ValueString())
		} else {
			mode = nil
		}
		openaiKey := r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI.OpenaiKey.ValueString()
		destinationPineconeUpdateEmbeddingOpenAI = &shared.DestinationPineconeUpdateEmbeddingOpenAI{
			Mode:      mode,
			OpenaiKey: openaiKey,
		}
	}
	if destinationPineconeUpdateEmbeddingOpenAI != nil {
		embedding = shared.DestinationPineconeUpdateEmbedding{
			DestinationPineconeUpdateEmbeddingOpenAI: destinationPineconeUpdateEmbeddingOpenAI,
		}
	}
	var destinationPineconeUpdateEmbeddingCohere *shared.DestinationPineconeUpdateEmbeddingCohere
	if r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere != nil {
		cohereKey := r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere.CohereKey.ValueString()
		mode1 := new(shared.DestinationPineconeUpdateEmbeddingCohereMode)
		if !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere.Mode.IsNull() {
			*mode1 = shared.DestinationPineconeUpdateEmbeddingCohereMode(r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere.Mode.ValueString())
		} else {
			mode1 = nil
		}
		destinationPineconeUpdateEmbeddingCohere = &shared.DestinationPineconeUpdateEmbeddingCohere{
			CohereKey: cohereKey,
			Mode:      mode1,
		}
	}
	if destinationPineconeUpdateEmbeddingCohere != nil {
		embedding = shared.DestinationPineconeUpdateEmbedding{
			DestinationPineconeUpdateEmbeddingCohere: destinationPineconeUpdateEmbeddingCohere,
		}
	}
	var destinationPineconeUpdateEmbeddingFake *shared.DestinationPineconeUpdateEmbeddingFake
	if r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake != nil {
		mode2 := new(shared.DestinationPineconeUpdateEmbeddingFakeMode)
		if !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake.Mode.IsNull() {
			*mode2 = shared.DestinationPineconeUpdateEmbeddingFakeMode(r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake.Mode.ValueString())
		} else {
			mode2 = nil
		}
		destinationPineconeUpdateEmbeddingFake = &shared.DestinationPineconeUpdateEmbeddingFake{
			Mode: mode2,
		}
	}
	if destinationPineconeUpdateEmbeddingFake != nil {
		embedding = shared.DestinationPineconeUpdateEmbedding{
			DestinationPineconeUpdateEmbeddingFake: destinationPineconeUpdateEmbeddingFake,
		}
	}
	index := r.Configuration.Indexing.Index.ValueString()
	pineconeEnvironment := r.Configuration.Indexing.PineconeEnvironment.ValueString()
	pineconeKey := r.Configuration.Indexing.PineconeKey.ValueString()
	indexing := shared.DestinationPineconeUpdateIndexing{
		Index:               index,
		PineconeEnvironment: pineconeEnvironment,
		PineconeKey:         pineconeKey,
	}
	chunkOverlap := new(int64)
	if !r.Configuration.Processing.ChunkOverlap.IsUnknown() && !r.Configuration.Processing.ChunkOverlap.IsNull() {
		*chunkOverlap = r.Configuration.Processing.ChunkOverlap.ValueInt64()
	} else {
		chunkOverlap = nil
	}
	chunkSize := r.Configuration.Processing.ChunkSize.ValueInt64()
	var metadataFields []string = nil
	for _, metadataFieldsItem := range r.Configuration.Processing.MetadataFields {
		metadataFields = append(metadataFields, metadataFieldsItem.ValueString())
	}
	var textFields []string = nil
	for _, textFieldsItem := range r.Configuration.Processing.TextFields {
		textFields = append(textFields, textFieldsItem.ValueString())
	}
	processing := shared.DestinationPineconeUpdateProcessingConfigModel{
		ChunkOverlap:   chunkOverlap,
		ChunkSize:      chunkSize,
		MetadataFields: metadataFields,
		TextFields:     textFields,
	}
	configuration := shared.DestinationPineconeUpdate{
		Embedding:  embedding,
		Indexing:   indexing,
		Processing: processing,
	}
	name := r.Name.ValueString()
	workspaceID := r.WorkspaceID.ValueString()
	out := shared.DestinationPineconePutRequest{
		Configuration: configuration,
		Name:          name,
		WorkspaceID:   workspaceID,
	}
	return &out
}

func (r *DestinationPineconeResourceModel) ToDeleteSDKType() *shared.DestinationPineconeCreateRequest {
	out := r.ToCreateSDKType()
	return out
}

func (r *DestinationPineconeResourceModel) RefreshFromGetResponse(resp *shared.DestinationResponse) {
	r.DestinationID = types.StringValue(resp.DestinationID)
	r.DestinationType = types.StringValue(resp.DestinationType)
	r.Name = types.StringValue(resp.Name)
	r.WorkspaceID = types.StringValue(resp.WorkspaceID)
}

func (r *DestinationPineconeResourceModel) RefreshFromCreateResponse(resp *shared.DestinationResponse) {
	r.RefreshFromGetResponse(resp)
}
