// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package provider

import (
	"airbyte/internal/sdk/pkg/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

func (r *DestinationPineconeResourceModel) ToCreateSDKType() *shared.DestinationPineconeCreateRequest {
	destinationType := shared.DestinationPineconePinecone(r.Configuration.DestinationType.ValueString())
	var embedding shared.DestinationPineconeEmbedding
	var destinationPineconeEmbeddingOpenAI *shared.DestinationPineconeEmbeddingOpenAI
	if r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI != nil {
		mode := new(shared.DestinationPineconeEmbeddingOpenAIMode)
		if !r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode.IsNull() {
			*mode = shared.DestinationPineconeEmbeddingOpenAIMode(r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode.ValueString())
		} else {
			mode = nil
		}
		openaiKey := r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.OpenaiKey.ValueString()
		destinationPineconeEmbeddingOpenAI = &shared.DestinationPineconeEmbeddingOpenAI{
			Mode:      mode,
			OpenaiKey: openaiKey,
		}
	}
	if destinationPineconeEmbeddingOpenAI != nil {
		embedding = shared.DestinationPineconeEmbedding{
			DestinationPineconeEmbeddingOpenAI: destinationPineconeEmbeddingOpenAI,
		}
	}
	var destinationPineconeEmbeddingCohere *shared.DestinationPineconeEmbeddingCohere
	if r.Configuration.Embedding.DestinationPineconeEmbeddingCohere != nil {
		cohereKey := r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.CohereKey.ValueString()
		mode1 := new(shared.DestinationPineconeEmbeddingCohereMode)
		if !r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode.IsNull() {
			*mode1 = shared.DestinationPineconeEmbeddingCohereMode(r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode.ValueString())
		} else {
			mode1 = nil
		}
		destinationPineconeEmbeddingCohere = &shared.DestinationPineconeEmbeddingCohere{
			CohereKey: cohereKey,
			Mode:      mode1,
		}
	}
	if destinationPineconeEmbeddingCohere != nil {
		embedding = shared.DestinationPineconeEmbedding{
			DestinationPineconeEmbeddingCohere: destinationPineconeEmbeddingCohere,
		}
	}
	var destinationPineconeEmbeddingFake *shared.DestinationPineconeEmbeddingFake
	if r.Configuration.Embedding.DestinationPineconeEmbeddingFake != nil {
		mode2 := new(shared.DestinationPineconeEmbeddingFakeMode)
		if !r.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode.IsNull() {
			*mode2 = shared.DestinationPineconeEmbeddingFakeMode(r.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode.ValueString())
		} else {
			mode2 = nil
		}
		destinationPineconeEmbeddingFake = &shared.DestinationPineconeEmbeddingFake{
			Mode: mode2,
		}
	}
	if destinationPineconeEmbeddingFake != nil {
		embedding = shared.DestinationPineconeEmbedding{
			DestinationPineconeEmbeddingFake: destinationPineconeEmbeddingFake,
		}
	}
	index := r.Configuration.Indexing.Index.ValueString()
	pineconeEnvironment := r.Configuration.Indexing.PineconeEnvironment.ValueString()
	pineconeKey := r.Configuration.Indexing.PineconeKey.ValueString()
	indexing := shared.DestinationPineconeIndexing{
		Index:               index,
		PineconeEnvironment: pineconeEnvironment,
		PineconeKey:         pineconeKey,
	}
	chunkOverlap := new(int64)
	if !r.Configuration.Processing.ChunkOverlap.IsUnknown() && !r.Configuration.Processing.ChunkOverlap.IsNull() {
		*chunkOverlap = r.Configuration.Processing.ChunkOverlap.ValueInt64()
	} else {
		chunkOverlap = nil
	}
	chunkSize := r.Configuration.Processing.ChunkSize.ValueInt64()
	var metadataFields []string = nil
	for _, metadataFieldsItem := range r.Configuration.Processing.MetadataFields {
		metadataFields = append(metadataFields, metadataFieldsItem.ValueString())
	}
	var textFields []string = nil
	for _, textFieldsItem := range r.Configuration.Processing.TextFields {
		textFields = append(textFields, textFieldsItem.ValueString())
	}
	processing := shared.DestinationPineconeProcessingConfigModel{
		ChunkOverlap:   chunkOverlap,
		ChunkSize:      chunkSize,
		MetadataFields: metadataFields,
		TextFields:     textFields,
	}
	configuration := shared.DestinationPinecone{
		DestinationType: destinationType,
		Embedding:       embedding,
		Indexing:        indexing,
		Processing:      processing,
	}
	name := r.Name.ValueString()
	workspaceID := r.WorkspaceID.ValueString()
	out := shared.DestinationPineconeCreateRequest{
		Configuration: configuration,
		Name:          name,
		WorkspaceID:   workspaceID,
	}
	return &out
}

func (r *DestinationPineconeResourceModel) ToGetSDKType() *shared.DestinationPineconeCreateRequest {
	out := r.ToCreateSDKType()
	return out
}

func (r *DestinationPineconeResourceModel) ToUpdateSDKType() *shared.DestinationPineconePutRequest {
	var embedding shared.DestinationPineconeUpdateEmbedding
	var destinationPineconeUpdateEmbeddingOpenAI *shared.DestinationPineconeUpdateEmbeddingOpenAI
	if r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI != nil {
		mode := new(shared.DestinationPineconeUpdateEmbeddingOpenAIMode)
		if !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI.Mode.IsNull() {
			*mode = shared.DestinationPineconeUpdateEmbeddingOpenAIMode(r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI.Mode.ValueString())
		} else {
			mode = nil
		}
		openaiKey := r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI.OpenaiKey.ValueString()
		destinationPineconeUpdateEmbeddingOpenAI = &shared.DestinationPineconeUpdateEmbeddingOpenAI{
			Mode:      mode,
			OpenaiKey: openaiKey,
		}
	}
	if destinationPineconeUpdateEmbeddingOpenAI != nil {
		embedding = shared.DestinationPineconeUpdateEmbedding{
			DestinationPineconeUpdateEmbeddingOpenAI: destinationPineconeUpdateEmbeddingOpenAI,
		}
	}
	var destinationPineconeUpdateEmbeddingCohere *shared.DestinationPineconeUpdateEmbeddingCohere
	if r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere != nil {
		cohereKey := r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere.CohereKey.ValueString()
		mode1 := new(shared.DestinationPineconeUpdateEmbeddingCohereMode)
		if !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere.Mode.IsNull() {
			*mode1 = shared.DestinationPineconeUpdateEmbeddingCohereMode(r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere.Mode.ValueString())
		} else {
			mode1 = nil
		}
		destinationPineconeUpdateEmbeddingCohere = &shared.DestinationPineconeUpdateEmbeddingCohere{
			CohereKey: cohereKey,
			Mode:      mode1,
		}
	}
	if destinationPineconeUpdateEmbeddingCohere != nil {
		embedding = shared.DestinationPineconeUpdateEmbedding{
			DestinationPineconeUpdateEmbeddingCohere: destinationPineconeUpdateEmbeddingCohere,
		}
	}
	var destinationPineconeUpdateEmbeddingFake *shared.DestinationPineconeUpdateEmbeddingFake
	if r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake != nil {
		mode2 := new(shared.DestinationPineconeUpdateEmbeddingFakeMode)
		if !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake.Mode.IsUnknown() && !r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake.Mode.IsNull() {
			*mode2 = shared.DestinationPineconeUpdateEmbeddingFakeMode(r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake.Mode.ValueString())
		} else {
			mode2 = nil
		}
		destinationPineconeUpdateEmbeddingFake = &shared.DestinationPineconeUpdateEmbeddingFake{
			Mode: mode2,
		}
	}
	if destinationPineconeUpdateEmbeddingFake != nil {
		embedding = shared.DestinationPineconeUpdateEmbedding{
			DestinationPineconeUpdateEmbeddingFake: destinationPineconeUpdateEmbeddingFake,
		}
	}
	index := r.Configuration.Indexing.Index.ValueString()
	pineconeEnvironment := r.Configuration.Indexing.PineconeEnvironment.ValueString()
	pineconeKey := r.Configuration.Indexing.PineconeKey.ValueString()
	indexing := shared.DestinationPineconeUpdateIndexing{
		Index:               index,
		PineconeEnvironment: pineconeEnvironment,
		PineconeKey:         pineconeKey,
	}
	chunkOverlap := new(int64)
	if !r.Configuration.Processing.ChunkOverlap.IsUnknown() && !r.Configuration.Processing.ChunkOverlap.IsNull() {
		*chunkOverlap = r.Configuration.Processing.ChunkOverlap.ValueInt64()
	} else {
		chunkOverlap = nil
	}
	chunkSize := r.Configuration.Processing.ChunkSize.ValueInt64()
	var metadataFields []string = nil
	for _, metadataFieldsItem := range r.Configuration.Processing.MetadataFields {
		metadataFields = append(metadataFields, metadataFieldsItem.ValueString())
	}
	var textFields []string = nil
	for _, textFieldsItem := range r.Configuration.Processing.TextFields {
		textFields = append(textFields, textFieldsItem.ValueString())
	}
	processing := shared.DestinationPineconeUpdateProcessingConfigModel{
		ChunkOverlap:   chunkOverlap,
		ChunkSize:      chunkSize,
		MetadataFields: metadataFields,
		TextFields:     textFields,
	}
	configuration := shared.DestinationPineconeUpdate{
		Embedding:  embedding,
		Indexing:   indexing,
		Processing: processing,
	}
	name := r.Name.ValueString()
	workspaceID := r.WorkspaceID.ValueString()
	out := shared.DestinationPineconePutRequest{
		Configuration: configuration,
		Name:          name,
		WorkspaceID:   workspaceID,
	}
	return &out
}

func (r *DestinationPineconeResourceModel) ToDeleteSDKType() *shared.DestinationPineconeCreateRequest {
	out := r.ToCreateSDKType()
	return out
}

func (r *DestinationPineconeResourceModel) RefreshFromGetResponse(resp *shared.DestinationPineconeGetResponse) {
	r.Configuration.DestinationType = types.StringValue(string(resp.Configuration.DestinationType))
	if resp.Configuration.Embedding.DestinationPineconeEmbeddingCohere != nil {
		r.Configuration.Embedding.DestinationPineconeEmbeddingCohere = &DestinationMilvusEmbeddingCohere{}
		r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.CohereKey = types.StringValue(resp.Configuration.Embedding.DestinationPineconeEmbeddingCohere.CohereKey)
		if resp.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode != nil {
			r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode = types.StringValue(string(*resp.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode))
		} else {
			r.Configuration.Embedding.DestinationPineconeEmbeddingCohere.Mode = types.StringNull()
		}
	}
	if resp.Configuration.Embedding.DestinationPineconeEmbeddingFake != nil {
		r.Configuration.Embedding.DestinationPineconeEmbeddingFake = &DestinationLangchainEmbeddingFake{}
		if resp.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode != nil {
			r.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode = types.StringValue(string(*resp.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode))
		} else {
			r.Configuration.Embedding.DestinationPineconeEmbeddingFake.Mode = types.StringNull()
		}
	}
	if resp.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI != nil {
		r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI = &DestinationLangchainEmbeddingOpenAI{}
		if resp.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode != nil {
			r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode = types.StringValue(string(*resp.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode))
		} else {
			r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.Mode = types.StringNull()
		}
		r.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.OpenaiKey = types.StringValue(resp.Configuration.Embedding.DestinationPineconeEmbeddingOpenAI.OpenaiKey)
	}
	if resp.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere != nil {
		r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingCohere = &DestinationMilvusEmbeddingCohere{}
	}
	if resp.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake != nil {
		r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingFake = &DestinationLangchainEmbeddingFake{}
	}
	if resp.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI != nil {
		r.Configuration.Embedding.DestinationPineconeUpdateEmbeddingOpenAI = &DestinationLangchainEmbeddingOpenAI{}
	}
	r.Configuration.Indexing.Index = types.StringValue(resp.Configuration.Indexing.Index)
	r.Configuration.Indexing.PineconeEnvironment = types.StringValue(resp.Configuration.Indexing.PineconeEnvironment)
	r.Configuration.Indexing.PineconeKey = types.StringValue(resp.Configuration.Indexing.PineconeKey)
	if resp.Configuration.Processing.ChunkOverlap != nil {
		r.Configuration.Processing.ChunkOverlap = types.Int64Value(*resp.Configuration.Processing.ChunkOverlap)
	} else {
		r.Configuration.Processing.ChunkOverlap = types.Int64Null()
	}
	r.Configuration.Processing.ChunkSize = types.Int64Value(resp.Configuration.Processing.ChunkSize)
	r.Configuration.Processing.MetadataFields = nil
	for _, v := range resp.Configuration.Processing.MetadataFields {
		r.Configuration.Processing.MetadataFields = append(r.Configuration.Processing.MetadataFields, types.StringValue(v))
	}
	r.Configuration.Processing.TextFields = nil
	for _, v := range resp.Configuration.Processing.TextFields {
		r.Configuration.Processing.TextFields = append(r.Configuration.Processing.TextFields, types.StringValue(v))
	}
	if resp.DestinationID != nil {
		r.DestinationID = types.StringValue(*resp.DestinationID)
	} else {
		r.DestinationID = types.StringNull()
	}
	r.Name = types.StringValue(resp.Name)
	r.WorkspaceID = types.StringValue(resp.WorkspaceID)
}

func (r *DestinationPineconeResourceModel) RefreshFromCreateResponse(resp *shared.DestinationPineconeGetResponse) {
	r.RefreshFromGetResponse(resp)
}
