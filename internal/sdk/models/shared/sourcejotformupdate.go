// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/internal/utils"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/types"
	"time"
)

type SourceJotformUpdateEnterprise struct {
	apiEndpoint *string `const:"enterprise" json:"api_endpoint,omitempty"`
	// Upgrade to Enterprise to make your API url your-domain.com/API or subdomain.jotform.com/API instead of api.jotform.com
	EnterpriseURL *string `json:"enterprise_url,omitempty"`
}

func (s SourceJotformUpdateEnterprise) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceJotformUpdateEnterprise) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceJotformUpdateEnterprise) GetAPIEndpoint() *string {
	return types.Pointer("enterprise")
}

func (s *SourceJotformUpdateEnterprise) GetEnterpriseURL() *string {
	if s == nil {
		return nil
	}
	return s.EnterpriseURL
}

// SourceJotformUpdateBaseURLPrefix - You can access our API through the following URLs - Standard API Usage (Use the default API URL - https://api.jotform.com), For EU (Use the EU API URL - https://eu-api.jotform.com), For HIPAA (Use the HIPAA API URL - https://hipaa-api.jotform.com)
type SourceJotformUpdateBaseURLPrefix string

const (
	SourceJotformUpdateBaseURLPrefixStandard SourceJotformUpdateBaseURLPrefix = "Standard"
	SourceJotformUpdateBaseURLPrefixEu       SourceJotformUpdateBaseURLPrefix = "EU"
	SourceJotformUpdateBaseURLPrefixHipaa    SourceJotformUpdateBaseURLPrefix = "HIPAA"
)

func (e SourceJotformUpdateBaseURLPrefix) ToPointer() *SourceJotformUpdateBaseURLPrefix {
	return &e
}
func (e *SourceJotformUpdateBaseURLPrefix) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "Standard":
		fallthrough
	case "EU":
		fallthrough
	case "HIPAA":
		*e = SourceJotformUpdateBaseURLPrefix(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceJotformUpdateBaseURLPrefix: %v", v)
	}
}

type SourceJotformUpdateBasic struct {
	apiEndpoint *string `const:"basic" json:"api_endpoint,omitempty"`
	// You can access our API through the following URLs - Standard API Usage (Use the default API URL - https://api.jotform.com), For EU (Use the EU API URL - https://eu-api.jotform.com), For HIPAA (Use the HIPAA API URL - https://hipaa-api.jotform.com)
	URLPrefix *SourceJotformUpdateBaseURLPrefix `default:"Standard" json:"url_prefix"`
}

func (s SourceJotformUpdateBasic) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceJotformUpdateBasic) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceJotformUpdateBasic) GetAPIEndpoint() *string {
	return types.Pointer("basic")
}

func (s *SourceJotformUpdateBasic) GetURLPrefix() *SourceJotformUpdateBaseURLPrefix {
	if s == nil {
		return nil
	}
	return s.URLPrefix
}

type SourceJotformUpdateAPIEndpointType string

const (
	SourceJotformUpdateAPIEndpointTypeSourceJotformUpdateBasic      SourceJotformUpdateAPIEndpointType = "source-jotform-update_Basic"
	SourceJotformUpdateAPIEndpointTypeSourceJotformUpdateEnterprise SourceJotformUpdateAPIEndpointType = "source-jotform-update_Enterprise"
)

type SourceJotformUpdateAPIEndpoint struct {
	SourceJotformUpdateBasic      *SourceJotformUpdateBasic      `queryParam:"inline" union:"member"`
	SourceJotformUpdateEnterprise *SourceJotformUpdateEnterprise `queryParam:"inline" union:"member"`

	Type SourceJotformUpdateAPIEndpointType
}

func CreateSourceJotformUpdateAPIEndpointSourceJotformUpdateBasic(sourceJotformUpdateBasic SourceJotformUpdateBasic) SourceJotformUpdateAPIEndpoint {
	typ := SourceJotformUpdateAPIEndpointTypeSourceJotformUpdateBasic

	return SourceJotformUpdateAPIEndpoint{
		SourceJotformUpdateBasic: &sourceJotformUpdateBasic,
		Type:                     typ,
	}
}

func CreateSourceJotformUpdateAPIEndpointSourceJotformUpdateEnterprise(sourceJotformUpdateEnterprise SourceJotformUpdateEnterprise) SourceJotformUpdateAPIEndpoint {
	typ := SourceJotformUpdateAPIEndpointTypeSourceJotformUpdateEnterprise

	return SourceJotformUpdateAPIEndpoint{
		SourceJotformUpdateEnterprise: &sourceJotformUpdateEnterprise,
		Type:                          typ,
	}
}

func (u *SourceJotformUpdateAPIEndpoint) UnmarshalJSON(data []byte) error {

	var candidates []utils.UnionCandidate

	// Collect all valid candidates
	var sourceJotformUpdateBasic SourceJotformUpdateBasic = SourceJotformUpdateBasic{}
	if err := utils.UnmarshalJSON(data, &sourceJotformUpdateBasic, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  SourceJotformUpdateAPIEndpointTypeSourceJotformUpdateBasic,
			Value: &sourceJotformUpdateBasic,
		})
	}

	var sourceJotformUpdateEnterprise SourceJotformUpdateEnterprise = SourceJotformUpdateEnterprise{}
	if err := utils.UnmarshalJSON(data, &sourceJotformUpdateEnterprise, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  SourceJotformUpdateAPIEndpointTypeSourceJotformUpdateEnterprise,
			Value: &sourceJotformUpdateEnterprise,
		})
	}

	if len(candidates) == 0 {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for SourceJotformUpdateAPIEndpoint", string(data))
	}

	// Pick the best candidate using multi-stage filtering
	best := utils.PickBestUnionCandidate(candidates, data)
	if best == nil {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for SourceJotformUpdateAPIEndpoint", string(data))
	}

	// Set the union type and value based on the best candidate
	u.Type = best.Type.(SourceJotformUpdateAPIEndpointType)
	switch best.Type {
	case SourceJotformUpdateAPIEndpointTypeSourceJotformUpdateBasic:
		u.SourceJotformUpdateBasic = best.Value.(*SourceJotformUpdateBasic)
		return nil
	case SourceJotformUpdateAPIEndpointTypeSourceJotformUpdateEnterprise:
		u.SourceJotformUpdateEnterprise = best.Value.(*SourceJotformUpdateEnterprise)
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for SourceJotformUpdateAPIEndpoint", string(data))
}

func (u SourceJotformUpdateAPIEndpoint) MarshalJSON() ([]byte, error) {
	if u.SourceJotformUpdateBasic != nil {
		return utils.MarshalJSON(u.SourceJotformUpdateBasic, "", true)
	}

	if u.SourceJotformUpdateEnterprise != nil {
		return utils.MarshalJSON(u.SourceJotformUpdateEnterprise, "", true)
	}

	return nil, errors.New("could not marshal union type SourceJotformUpdateAPIEndpoint: all fields are null")
}

type SourceJotformUpdateSourceType string

const (
	SourceJotformUpdateSourceTypeJotform SourceJotformUpdateSourceType = "jotform"
)

func (e SourceJotformUpdateSourceType) ToPointer() *SourceJotformUpdateSourceType {
	return &e
}
func (e *SourceJotformUpdateSourceType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "jotform":
		*e = SourceJotformUpdateSourceType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceJotformUpdateSourceType: %v", v)
	}
}

type SourceJotformUpdate struct {
	APIEndpoint          *SourceJotformUpdateAPIEndpoint `json:"api_endpoint,omitempty"`
	APIKey               *string                         `json:"api_key,omitempty"`
	EndDate              *time.Time                      `json:"end_date,omitempty"`
	StartDate            *time.Time                      `json:"start_date,omitempty"`
	sourceType           *SourceJotformUpdateSourceType  `const:"jotform" json:"sourceType"`
	AdditionalProperties any                             `additionalProperties:"true" json:"-"`
}

func (s SourceJotformUpdate) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceJotformUpdate) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceJotformUpdate) GetAPIEndpoint() *SourceJotformUpdateAPIEndpoint {
	if s == nil {
		return nil
	}
	return s.APIEndpoint
}

func (s *SourceJotformUpdate) GetAPIKey() *string {
	if s == nil {
		return nil
	}
	return s.APIKey
}

func (s *SourceJotformUpdate) GetEndDate() *time.Time {
	if s == nil {
		return nil
	}
	return s.EndDate
}

func (s *SourceJotformUpdate) GetStartDate() *time.Time {
	if s == nil {
		return nil
	}
	return s.StartDate
}

func (s *SourceJotformUpdate) GetSourceType() *SourceJotformUpdateSourceType {
	return SourceJotformUpdateSourceTypeJotform.ToPointer()
}

func (s *SourceJotformUpdate) GetAdditionalProperties() any {
	if s == nil {
		return nil
	}
	return s.AdditionalProperties
}
