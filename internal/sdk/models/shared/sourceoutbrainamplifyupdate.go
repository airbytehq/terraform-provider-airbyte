// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/internal/utils"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/types"
)

// SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports - The definition of conversion count in reports. See <a href="https://amplifyv01.docs.apiary.io/#reference/performance-reporting/periodic/retrieve-performance-statistics-for-all-marketer-campaigns-by-periodic-breakdown">the docs</a>.
type SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports string

const (
	SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReportsClickViewTime  SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports = "click/view_time"
	SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReportsConversionTime SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports = "conversion_time"
)

func (e SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports) ToPointer() *SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports {
	return &e
}
func (e *SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "click/view_time":
		fallthrough
	case "conversion_time":
		*e = SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports: %v", v)
	}
}

type SourceOutbrainAmplifyUpdateUsernamePassword struct {
	// Add Password for authentication.
	Password *string `json:"password,omitempty"`
	type_    *string `const:"username_password" json:"type,omitempty"`
	// Add Username for authentication.
	Username *string `json:"username,omitempty"`
}

func (s SourceOutbrainAmplifyUpdateUsernamePassword) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceOutbrainAmplifyUpdateUsernamePassword) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceOutbrainAmplifyUpdateUsernamePassword) GetPassword() *string {
	if s == nil {
		return nil
	}
	return s.Password
}

func (s *SourceOutbrainAmplifyUpdateUsernamePassword) GetType() *string {
	return types.Pointer("username_password")
}

func (s *SourceOutbrainAmplifyUpdateUsernamePassword) GetUsername() *string {
	if s == nil {
		return nil
	}
	return s.Username
}

type SourceOutbrainAmplifyUpdateAccessToken struct {
	// Access Token for making authenticated requests.
	AccessToken *string `json:"access_token,omitempty"`
	type_       *string `const:"access_token" json:"type,omitempty"`
}

func (s SourceOutbrainAmplifyUpdateAccessToken) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceOutbrainAmplifyUpdateAccessToken) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceOutbrainAmplifyUpdateAccessToken) GetAccessToken() *string {
	if s == nil {
		return nil
	}
	return s.AccessToken
}

func (s *SourceOutbrainAmplifyUpdateAccessToken) GetType() *string {
	return types.Pointer("access_token")
}

type SourceOutbrainAmplifyUpdateAuthenticationMethodType string

const (
	SourceOutbrainAmplifyUpdateAuthenticationMethodTypeSourceOutbrainAmplifyUpdateAccessToken      SourceOutbrainAmplifyUpdateAuthenticationMethodType = "source-outbrain-amplify-update_Access token"
	SourceOutbrainAmplifyUpdateAuthenticationMethodTypeSourceOutbrainAmplifyUpdateUsernamePassword SourceOutbrainAmplifyUpdateAuthenticationMethodType = "source-outbrain-amplify-update_Username Password"
)

// SourceOutbrainAmplifyUpdateAuthenticationMethod - Credentials for making authenticated requests requires either username/password or access_token.
type SourceOutbrainAmplifyUpdateAuthenticationMethod struct {
	SourceOutbrainAmplifyUpdateAccessToken      *SourceOutbrainAmplifyUpdateAccessToken      `queryParam:"inline" union:"member"`
	SourceOutbrainAmplifyUpdateUsernamePassword *SourceOutbrainAmplifyUpdateUsernamePassword `queryParam:"inline" union:"member"`

	Type SourceOutbrainAmplifyUpdateAuthenticationMethodType
}

func CreateSourceOutbrainAmplifyUpdateAuthenticationMethodSourceOutbrainAmplifyUpdateAccessToken(sourceOutbrainAmplifyUpdateAccessToken SourceOutbrainAmplifyUpdateAccessToken) SourceOutbrainAmplifyUpdateAuthenticationMethod {
	typ := SourceOutbrainAmplifyUpdateAuthenticationMethodTypeSourceOutbrainAmplifyUpdateAccessToken

	return SourceOutbrainAmplifyUpdateAuthenticationMethod{
		SourceOutbrainAmplifyUpdateAccessToken: &sourceOutbrainAmplifyUpdateAccessToken,
		Type:                                   typ,
	}
}

func CreateSourceOutbrainAmplifyUpdateAuthenticationMethodSourceOutbrainAmplifyUpdateUsernamePassword(sourceOutbrainAmplifyUpdateUsernamePassword SourceOutbrainAmplifyUpdateUsernamePassword) SourceOutbrainAmplifyUpdateAuthenticationMethod {
	typ := SourceOutbrainAmplifyUpdateAuthenticationMethodTypeSourceOutbrainAmplifyUpdateUsernamePassword

	return SourceOutbrainAmplifyUpdateAuthenticationMethod{
		SourceOutbrainAmplifyUpdateUsernamePassword: &sourceOutbrainAmplifyUpdateUsernamePassword,
		Type: typ,
	}
}

func (u *SourceOutbrainAmplifyUpdateAuthenticationMethod) UnmarshalJSON(data []byte) error {

	var candidates []utils.UnionCandidate

	// Collect all valid candidates
	var sourceOutbrainAmplifyUpdateAccessToken SourceOutbrainAmplifyUpdateAccessToken = SourceOutbrainAmplifyUpdateAccessToken{}
	if err := utils.UnmarshalJSON(data, &sourceOutbrainAmplifyUpdateAccessToken, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  SourceOutbrainAmplifyUpdateAuthenticationMethodTypeSourceOutbrainAmplifyUpdateAccessToken,
			Value: &sourceOutbrainAmplifyUpdateAccessToken,
		})
	}

	var sourceOutbrainAmplifyUpdateUsernamePassword SourceOutbrainAmplifyUpdateUsernamePassword = SourceOutbrainAmplifyUpdateUsernamePassword{}
	if err := utils.UnmarshalJSON(data, &sourceOutbrainAmplifyUpdateUsernamePassword, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  SourceOutbrainAmplifyUpdateAuthenticationMethodTypeSourceOutbrainAmplifyUpdateUsernamePassword,
			Value: &sourceOutbrainAmplifyUpdateUsernamePassword,
		})
	}

	if len(candidates) == 0 {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for SourceOutbrainAmplifyUpdateAuthenticationMethod", string(data))
	}

	// Pick the best candidate using multi-stage filtering
	best := utils.PickBestUnionCandidate(candidates, data)
	if best == nil {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for SourceOutbrainAmplifyUpdateAuthenticationMethod", string(data))
	}

	// Set the union type and value based on the best candidate
	u.Type = best.Type.(SourceOutbrainAmplifyUpdateAuthenticationMethodType)
	switch best.Type {
	case SourceOutbrainAmplifyUpdateAuthenticationMethodTypeSourceOutbrainAmplifyUpdateAccessToken:
		u.SourceOutbrainAmplifyUpdateAccessToken = best.Value.(*SourceOutbrainAmplifyUpdateAccessToken)
		return nil
	case SourceOutbrainAmplifyUpdateAuthenticationMethodTypeSourceOutbrainAmplifyUpdateUsernamePassword:
		u.SourceOutbrainAmplifyUpdateUsernamePassword = best.Value.(*SourceOutbrainAmplifyUpdateUsernamePassword)
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for SourceOutbrainAmplifyUpdateAuthenticationMethod", string(data))
}

func (u SourceOutbrainAmplifyUpdateAuthenticationMethod) MarshalJSON() ([]byte, error) {
	if u.SourceOutbrainAmplifyUpdateAccessToken != nil {
		return utils.MarshalJSON(u.SourceOutbrainAmplifyUpdateAccessToken, "", true)
	}

	if u.SourceOutbrainAmplifyUpdateUsernamePassword != nil {
		return utils.MarshalJSON(u.SourceOutbrainAmplifyUpdateUsernamePassword, "", true)
	}

	return nil, errors.New("could not marshal union type SourceOutbrainAmplifyUpdateAuthenticationMethod: all fields are null")
}

// SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion - The granularity used for geo location data in reports.
type SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion string

const (
	SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegionCountry   SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion = "country"
	SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegionRegion    SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion = "region"
	SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegionSubregion SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion = "subregion"
)

func (e SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion) ToPointer() *SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion {
	return &e
}
func (e *SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "country":
		fallthrough
	case "region":
		fallthrough
	case "subregion":
		*e = SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion: %v", v)
	}
}

// SourceOutbrainAmplifyUpdateGranularityForPeriodicReports - The granularity used for periodic data in reports. See <a href="https://amplifyv01.docs.apiary.io/#reference/performance-reporting/periodic/retrieve-performance-statistics-for-all-marketer-campaigns-by-periodic-breakdown">the docs</a>.
type SourceOutbrainAmplifyUpdateGranularityForPeriodicReports string

const (
	SourceOutbrainAmplifyUpdateGranularityForPeriodicReportsDaily   SourceOutbrainAmplifyUpdateGranularityForPeriodicReports = "daily"
	SourceOutbrainAmplifyUpdateGranularityForPeriodicReportsWeekly  SourceOutbrainAmplifyUpdateGranularityForPeriodicReports = "weekly"
	SourceOutbrainAmplifyUpdateGranularityForPeriodicReportsMonthly SourceOutbrainAmplifyUpdateGranularityForPeriodicReports = "monthly"
)

func (e SourceOutbrainAmplifyUpdateGranularityForPeriodicReports) ToPointer() *SourceOutbrainAmplifyUpdateGranularityForPeriodicReports {
	return &e
}
func (e *SourceOutbrainAmplifyUpdateGranularityForPeriodicReports) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "daily":
		fallthrough
	case "weekly":
		fallthrough
	case "monthly":
		*e = SourceOutbrainAmplifyUpdateGranularityForPeriodicReports(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceOutbrainAmplifyUpdateGranularityForPeriodicReports: %v", v)
	}
}

type SourceOutbrainAmplifyUpdateSourceType string

const (
	SourceOutbrainAmplifyUpdateSourceTypeOutbrainAmplify SourceOutbrainAmplifyUpdateSourceType = "outbrain-amplify"
)

func (e SourceOutbrainAmplifyUpdateSourceType) ToPointer() *SourceOutbrainAmplifyUpdateSourceType {
	return &e
}
func (e *SourceOutbrainAmplifyUpdateSourceType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "outbrain-amplify":
		*e = SourceOutbrainAmplifyUpdateSourceType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceOutbrainAmplifyUpdateSourceType: %v", v)
	}
}

type SourceOutbrainAmplifyUpdate struct {
	// The definition of conversion count in reports. See <a href="https://amplifyv01.docs.apiary.io/#reference/performance-reporting/periodic/retrieve-performance-statistics-for-all-marketer-campaigns-by-periodic-breakdown">the docs</a>.
	ConversionCount *SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports `json:"conversion_count,omitempty"`
	// Credentials for making authenticated requests requires either username/password or access_token.
	Credentials *SourceOutbrainAmplifyUpdateAuthenticationMethod `json:"credentials,omitempty"`
	// Date in the format YYYY-MM-DD.
	EndDate *string `json:"end_date,omitempty"`
	// The granularity used for geo location data in reports.
	GeoLocationBreakdown *SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion `json:"geo_location_breakdown,omitempty"`
	// The granularity used for periodic data in reports. See <a href="https://amplifyv01.docs.apiary.io/#reference/performance-reporting/periodic/retrieve-performance-statistics-for-all-marketer-campaigns-by-periodic-breakdown">the docs</a>.
	ReportGranularity *SourceOutbrainAmplifyUpdateGranularityForPeriodicReports `json:"report_granularity,omitempty"`
	// Date in the format YYYY-MM-DD eg. 2017-01-25. Any data before this date will not be replicated.
	StartDate  *string                                `json:"start_date,omitempty"`
	sourceType *SourceOutbrainAmplifyUpdateSourceType `const:"outbrain-amplify" json:"sourceType"`
}

func (s SourceOutbrainAmplifyUpdate) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceOutbrainAmplifyUpdate) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceOutbrainAmplifyUpdate) GetConversionCount() *SourceOutbrainAmplifyUpdateDefinitionOfConversionCountInReports {
	if s == nil {
		return nil
	}
	return s.ConversionCount
}

func (s *SourceOutbrainAmplifyUpdate) GetCredentials() *SourceOutbrainAmplifyUpdateAuthenticationMethod {
	if s == nil {
		return nil
	}
	return s.Credentials
}

func (s *SourceOutbrainAmplifyUpdate) GetEndDate() *string {
	if s == nil {
		return nil
	}
	return s.EndDate
}

func (s *SourceOutbrainAmplifyUpdate) GetGeoLocationBreakdown() *SourceOutbrainAmplifyUpdateGranularityForGeoLocationRegion {
	if s == nil {
		return nil
	}
	return s.GeoLocationBreakdown
}

func (s *SourceOutbrainAmplifyUpdate) GetReportGranularity() *SourceOutbrainAmplifyUpdateGranularityForPeriodicReports {
	if s == nil {
		return nil
	}
	return s.ReportGranularity
}

func (s *SourceOutbrainAmplifyUpdate) GetStartDate() *string {
	if s == nil {
		return nil
	}
	return s.StartDate
}

func (s *SourceOutbrainAmplifyUpdate) GetSourceType() *SourceOutbrainAmplifyUpdateSourceType {
	return SourceOutbrainAmplifyUpdateSourceTypeOutbrainAmplify.ToPointer()
}
