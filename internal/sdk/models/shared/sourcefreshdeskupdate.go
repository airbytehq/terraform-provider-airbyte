// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/internal/utils"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/types"
	"time"
)

type SourceFreshdeskUpdateCustomPlan struct {
	// Maximum Rate in Limit/minute for contacts list endpoint in Custom Plan
	ContactsRateLimit *int64 `json:"contacts_rate_limit,omitempty"`
	// General Maximum Rate in Limit/minute for other endpoints in Custom Plan
	GeneralRateLimit *int64  `json:"general_rate_limit,omitempty"`
	planType         *string `const:"custom" json:"plan_type,omitempty"`
	// Maximum Rate in Limit/minute for tickets list endpoint in Custom Plan
	TicketsRateLimit *int64 `json:"tickets_rate_limit,omitempty"`
}

func (s SourceFreshdeskUpdateCustomPlan) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceFreshdeskUpdateCustomPlan) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceFreshdeskUpdateCustomPlan) GetContactsRateLimit() *int64 {
	if s == nil {
		return nil
	}
	return s.ContactsRateLimit
}

func (s *SourceFreshdeskUpdateCustomPlan) GetGeneralRateLimit() *int64 {
	if s == nil {
		return nil
	}
	return s.GeneralRateLimit
}

func (s *SourceFreshdeskUpdateCustomPlan) GetPlanType() *string {
	return types.Pointer("custom")
}

func (s *SourceFreshdeskUpdateCustomPlan) GetTicketsRateLimit() *int64 {
	if s == nil {
		return nil
	}
	return s.TicketsRateLimit
}

type SourceFreshdeskUpdateEnterprisePlan struct {
	// Maximum Rate in Limit/minute for contacts list endpoint in Enterprise Plan
	contactsRateLimit *int64 `const:"200" json:"contacts_rate_limit,omitempty"`
	// General Maximum Rate in Limit/minute for other endpoints in Enterprise Plan
	generalRateLimit *int64  `const:"700" json:"general_rate_limit,omitempty"`
	planType         *string `const:"enterprise" json:"plan_type,omitempty"`
	// Maximum Rate in Limit/minute for tickets list endpoint in Enterprise Plan
	ticketsRateLimit *int64 `const:"200" json:"tickets_rate_limit,omitempty"`
}

func (s SourceFreshdeskUpdateEnterprisePlan) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceFreshdeskUpdateEnterprisePlan) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceFreshdeskUpdateEnterprisePlan) GetContactsRateLimit() *int64 {
	return types.Pointer[int64](200)
}

func (s *SourceFreshdeskUpdateEnterprisePlan) GetGeneralRateLimit() *int64 {
	return types.Pointer[int64](700)
}

func (s *SourceFreshdeskUpdateEnterprisePlan) GetPlanType() *string {
	return types.Pointer("enterprise")
}

func (s *SourceFreshdeskUpdateEnterprisePlan) GetTicketsRateLimit() *int64 {
	return types.Pointer[int64](200)
}

type SourceFreshdeskUpdateProPlan struct {
	// Maximum Rate in Limit/minute for contacts list endpoint in Pro Plan
	contactsRateLimit *int64 `const:"100" json:"contacts_rate_limit,omitempty"`
	// General Maximum Rate in Limit/minute for other endpoints in Pro Plan
	generalRateLimit *int64  `const:"400" json:"general_rate_limit,omitempty"`
	planType         *string `const:"pro" json:"plan_type,omitempty"`
	// Maximum Rate in Limit/minute for tickets list endpoint in Pro Plan
	ticketsRateLimit *int64 `const:"100" json:"tickets_rate_limit,omitempty"`
}

func (s SourceFreshdeskUpdateProPlan) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceFreshdeskUpdateProPlan) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceFreshdeskUpdateProPlan) GetContactsRateLimit() *int64 {
	return types.Pointer[int64](100)
}

func (s *SourceFreshdeskUpdateProPlan) GetGeneralRateLimit() *int64 {
	return types.Pointer[int64](400)
}

func (s *SourceFreshdeskUpdateProPlan) GetPlanType() *string {
	return types.Pointer("pro")
}

func (s *SourceFreshdeskUpdateProPlan) GetTicketsRateLimit() *int64 {
	return types.Pointer[int64](100)
}

type SourceFreshdeskUpdateGrowthPlan struct {
	// Maximum Rate in Limit/minute for contacts list endpoint in Growth Plan
	contactsRateLimit *int64 `const:"20" json:"contacts_rate_limit,omitempty"`
	// General Maximum Rate in Limit/minute for other endpoints in Growth Plan
	generalRateLimit *int64  `const:"200" json:"general_rate_limit,omitempty"`
	planType         *string `const:"growth" json:"plan_type,omitempty"`
	// Maximum Rate in Limit/minute for tickets list endpoint in Growth Plan
	ticketsRateLimit *int64 `const:"20" json:"tickets_rate_limit,omitempty"`
}

func (s SourceFreshdeskUpdateGrowthPlan) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceFreshdeskUpdateGrowthPlan) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceFreshdeskUpdateGrowthPlan) GetContactsRateLimit() *int64 {
	return types.Pointer[int64](20)
}

func (s *SourceFreshdeskUpdateGrowthPlan) GetGeneralRateLimit() *int64 {
	return types.Pointer[int64](200)
}

func (s *SourceFreshdeskUpdateGrowthPlan) GetPlanType() *string {
	return types.Pointer("growth")
}

func (s *SourceFreshdeskUpdateGrowthPlan) GetTicketsRateLimit() *int64 {
	return types.Pointer[int64](20)
}

type SourceFreshdeskUpdateFreePlan struct {
	// Maximum Rate in Limit/minute for contacts list endpoint in Free Plan
	contactsRateLimit *int64 `const:"50" json:"contacts_rate_limit,omitempty"`
	// General Maximum Rate in Limit/minute for other endpoints in Free Plan
	generalRateLimit *int64  `const:"50" json:"general_rate_limit,omitempty"`
	planType         *string `const:"free" json:"plan_type,omitempty"`
	// Maximum Rate in Limit/minute for tickets list endpoint in Free Plan
	ticketsRateLimit *int64 `const:"50" json:"tickets_rate_limit,omitempty"`
}

func (s SourceFreshdeskUpdateFreePlan) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceFreshdeskUpdateFreePlan) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceFreshdeskUpdateFreePlan) GetContactsRateLimit() *int64 {
	return types.Pointer[int64](50)
}

func (s *SourceFreshdeskUpdateFreePlan) GetGeneralRateLimit() *int64 {
	return types.Pointer[int64](50)
}

func (s *SourceFreshdeskUpdateFreePlan) GetPlanType() *string {
	return types.Pointer("free")
}

func (s *SourceFreshdeskUpdateFreePlan) GetTicketsRateLimit() *int64 {
	return types.Pointer[int64](50)
}

type SourceFreshdeskUpdateRateLimitPlanType string

const (
	SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateFreePlan       SourceFreshdeskUpdateRateLimitPlanType = "source-freshdesk-update_Free Plan"
	SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateGrowthPlan     SourceFreshdeskUpdateRateLimitPlanType = "source-freshdesk-update_Growth Plan"
	SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateProPlan        SourceFreshdeskUpdateRateLimitPlanType = "source-freshdesk-update_Pro Plan"
	SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateEnterprisePlan SourceFreshdeskUpdateRateLimitPlanType = "source-freshdesk-update_Enterprise Plan"
	SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateCustomPlan     SourceFreshdeskUpdateRateLimitPlanType = "source-freshdesk-update_Custom Plan"
)

// SourceFreshdeskUpdateRateLimitPlan - Rate Limit Plan for API Budget
type SourceFreshdeskUpdateRateLimitPlan struct {
	SourceFreshdeskUpdateFreePlan       *SourceFreshdeskUpdateFreePlan       `queryParam:"inline" union:"member"`
	SourceFreshdeskUpdateGrowthPlan     *SourceFreshdeskUpdateGrowthPlan     `queryParam:"inline" union:"member"`
	SourceFreshdeskUpdateProPlan        *SourceFreshdeskUpdateProPlan        `queryParam:"inline" union:"member"`
	SourceFreshdeskUpdateEnterprisePlan *SourceFreshdeskUpdateEnterprisePlan `queryParam:"inline" union:"member"`
	SourceFreshdeskUpdateCustomPlan     *SourceFreshdeskUpdateCustomPlan     `queryParam:"inline" union:"member"`

	Type SourceFreshdeskUpdateRateLimitPlanType
}

func CreateSourceFreshdeskUpdateRateLimitPlanSourceFreshdeskUpdateFreePlan(sourceFreshdeskUpdateFreePlan SourceFreshdeskUpdateFreePlan) SourceFreshdeskUpdateRateLimitPlan {
	typ := SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateFreePlan

	return SourceFreshdeskUpdateRateLimitPlan{
		SourceFreshdeskUpdateFreePlan: &sourceFreshdeskUpdateFreePlan,
		Type:                          typ,
	}
}

func CreateSourceFreshdeskUpdateRateLimitPlanSourceFreshdeskUpdateGrowthPlan(sourceFreshdeskUpdateGrowthPlan SourceFreshdeskUpdateGrowthPlan) SourceFreshdeskUpdateRateLimitPlan {
	typ := SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateGrowthPlan

	return SourceFreshdeskUpdateRateLimitPlan{
		SourceFreshdeskUpdateGrowthPlan: &sourceFreshdeskUpdateGrowthPlan,
		Type:                            typ,
	}
}

func CreateSourceFreshdeskUpdateRateLimitPlanSourceFreshdeskUpdateProPlan(sourceFreshdeskUpdateProPlan SourceFreshdeskUpdateProPlan) SourceFreshdeskUpdateRateLimitPlan {
	typ := SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateProPlan

	return SourceFreshdeskUpdateRateLimitPlan{
		SourceFreshdeskUpdateProPlan: &sourceFreshdeskUpdateProPlan,
		Type:                         typ,
	}
}

func CreateSourceFreshdeskUpdateRateLimitPlanSourceFreshdeskUpdateEnterprisePlan(sourceFreshdeskUpdateEnterprisePlan SourceFreshdeskUpdateEnterprisePlan) SourceFreshdeskUpdateRateLimitPlan {
	typ := SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateEnterprisePlan

	return SourceFreshdeskUpdateRateLimitPlan{
		SourceFreshdeskUpdateEnterprisePlan: &sourceFreshdeskUpdateEnterprisePlan,
		Type:                                typ,
	}
}

func CreateSourceFreshdeskUpdateRateLimitPlanSourceFreshdeskUpdateCustomPlan(sourceFreshdeskUpdateCustomPlan SourceFreshdeskUpdateCustomPlan) SourceFreshdeskUpdateRateLimitPlan {
	typ := SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateCustomPlan

	return SourceFreshdeskUpdateRateLimitPlan{
		SourceFreshdeskUpdateCustomPlan: &sourceFreshdeskUpdateCustomPlan,
		Type:                            typ,
	}
}

func (u *SourceFreshdeskUpdateRateLimitPlan) UnmarshalJSON(data []byte) error {

	var candidates []utils.UnionCandidate

	// Collect all valid candidates
	var sourceFreshdeskUpdateFreePlan SourceFreshdeskUpdateFreePlan = SourceFreshdeskUpdateFreePlan{}
	if err := utils.UnmarshalJSON(data, &sourceFreshdeskUpdateFreePlan, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateFreePlan,
			Value: &sourceFreshdeskUpdateFreePlan,
		})
	}

	var sourceFreshdeskUpdateGrowthPlan SourceFreshdeskUpdateGrowthPlan = SourceFreshdeskUpdateGrowthPlan{}
	if err := utils.UnmarshalJSON(data, &sourceFreshdeskUpdateGrowthPlan, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateGrowthPlan,
			Value: &sourceFreshdeskUpdateGrowthPlan,
		})
	}

	var sourceFreshdeskUpdateProPlan SourceFreshdeskUpdateProPlan = SourceFreshdeskUpdateProPlan{}
	if err := utils.UnmarshalJSON(data, &sourceFreshdeskUpdateProPlan, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateProPlan,
			Value: &sourceFreshdeskUpdateProPlan,
		})
	}

	var sourceFreshdeskUpdateEnterprisePlan SourceFreshdeskUpdateEnterprisePlan = SourceFreshdeskUpdateEnterprisePlan{}
	if err := utils.UnmarshalJSON(data, &sourceFreshdeskUpdateEnterprisePlan, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateEnterprisePlan,
			Value: &sourceFreshdeskUpdateEnterprisePlan,
		})
	}

	var sourceFreshdeskUpdateCustomPlan SourceFreshdeskUpdateCustomPlan = SourceFreshdeskUpdateCustomPlan{}
	if err := utils.UnmarshalJSON(data, &sourceFreshdeskUpdateCustomPlan, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateCustomPlan,
			Value: &sourceFreshdeskUpdateCustomPlan,
		})
	}

	if len(candidates) == 0 {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for SourceFreshdeskUpdateRateLimitPlan", string(data))
	}

	// Pick the best candidate using multi-stage filtering
	best := utils.PickBestUnionCandidate(candidates, data)
	if best == nil {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for SourceFreshdeskUpdateRateLimitPlan", string(data))
	}

	// Set the union type and value based on the best candidate
	u.Type = best.Type.(SourceFreshdeskUpdateRateLimitPlanType)
	switch best.Type {
	case SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateFreePlan:
		u.SourceFreshdeskUpdateFreePlan = best.Value.(*SourceFreshdeskUpdateFreePlan)
		return nil
	case SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateGrowthPlan:
		u.SourceFreshdeskUpdateGrowthPlan = best.Value.(*SourceFreshdeskUpdateGrowthPlan)
		return nil
	case SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateProPlan:
		u.SourceFreshdeskUpdateProPlan = best.Value.(*SourceFreshdeskUpdateProPlan)
		return nil
	case SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateEnterprisePlan:
		u.SourceFreshdeskUpdateEnterprisePlan = best.Value.(*SourceFreshdeskUpdateEnterprisePlan)
		return nil
	case SourceFreshdeskUpdateRateLimitPlanTypeSourceFreshdeskUpdateCustomPlan:
		u.SourceFreshdeskUpdateCustomPlan = best.Value.(*SourceFreshdeskUpdateCustomPlan)
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for SourceFreshdeskUpdateRateLimitPlan", string(data))
}

func (u SourceFreshdeskUpdateRateLimitPlan) MarshalJSON() ([]byte, error) {
	if u.SourceFreshdeskUpdateFreePlan != nil {
		return utils.MarshalJSON(u.SourceFreshdeskUpdateFreePlan, "", true)
	}

	if u.SourceFreshdeskUpdateGrowthPlan != nil {
		return utils.MarshalJSON(u.SourceFreshdeskUpdateGrowthPlan, "", true)
	}

	if u.SourceFreshdeskUpdateProPlan != nil {
		return utils.MarshalJSON(u.SourceFreshdeskUpdateProPlan, "", true)
	}

	if u.SourceFreshdeskUpdateEnterprisePlan != nil {
		return utils.MarshalJSON(u.SourceFreshdeskUpdateEnterprisePlan, "", true)
	}

	if u.SourceFreshdeskUpdateCustomPlan != nil {
		return utils.MarshalJSON(u.SourceFreshdeskUpdateCustomPlan, "", true)
	}

	return nil, errors.New("could not marshal union type SourceFreshdeskUpdateRateLimitPlan: all fields are null")
}

type SourceFreshdeskUpdateSourceType string

const (
	SourceFreshdeskUpdateSourceTypeFreshdesk SourceFreshdeskUpdateSourceType = "freshdesk"
)

func (e SourceFreshdeskUpdateSourceType) ToPointer() *SourceFreshdeskUpdateSourceType {
	return &e
}
func (e *SourceFreshdeskUpdateSourceType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "freshdesk":
		*e = SourceFreshdeskUpdateSourceType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceFreshdeskUpdateSourceType: %v", v)
	}
}

type SourceFreshdeskUpdate struct {
	// Freshdesk API Key. See the <a href="https://docs.airbyte.com/integrations/sources/freshdesk">docs</a> for more information on how to obtain this key.
	APIKey *string `json:"api_key,omitempty"`
	// Freshdesk domain
	Domain *string `json:"domain,omitempty"`
	// Number of days for lookback window for the stream Satisfaction Ratings
	LookbackWindowInDays *int64 `default:"14" json:"lookback_window_in_days"`
	// Rate Limit Plan for API Budget
	RateLimitPlan *SourceFreshdeskUpdateRateLimitPlan `json:"rate_limit_plan,omitempty"`
	// The number of requests per minute that this source allowed to use. There is a rate limit of 50 requests per minute per app per account.
	RequestsPerMinute *int64 `json:"requests_per_minute,omitempty"`
	// UTC date and time. Any data created after this date will be replicated. If this parameter is not set, all data will be replicated.
	StartDate            *time.Time                       `json:"start_date,omitempty"`
	sourceType           *SourceFreshdeskUpdateSourceType `const:"freshdesk" json:"sourceType"`
	AdditionalProperties any                              `additionalProperties:"true" json:"-"`
}

func (s SourceFreshdeskUpdate) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceFreshdeskUpdate) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (s *SourceFreshdeskUpdate) GetAPIKey() *string {
	if s == nil {
		return nil
	}
	return s.APIKey
}

func (s *SourceFreshdeskUpdate) GetDomain() *string {
	if s == nil {
		return nil
	}
	return s.Domain
}

func (s *SourceFreshdeskUpdate) GetLookbackWindowInDays() *int64 {
	if s == nil {
		return nil
	}
	return s.LookbackWindowInDays
}

func (s *SourceFreshdeskUpdate) GetRateLimitPlan() *SourceFreshdeskUpdateRateLimitPlan {
	if s == nil {
		return nil
	}
	return s.RateLimitPlan
}

func (s *SourceFreshdeskUpdate) GetRequestsPerMinute() *int64 {
	if s == nil {
		return nil
	}
	return s.RequestsPerMinute
}

func (s *SourceFreshdeskUpdate) GetStartDate() *time.Time {
	if s == nil {
		return nil
	}
	return s.StartDate
}

func (s *SourceFreshdeskUpdate) GetSourceType() *SourceFreshdeskUpdateSourceType {
	return SourceFreshdeskUpdateSourceTypeFreshdesk.ToPointer()
}

func (s *SourceFreshdeskUpdate) GetAdditionalProperties() any {
	if s == nil {
		return nil
	}
	return s.AdditionalProperties
}
