// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/airbytehq/terraform-provider-airbyte/internal/sdk/internal/utils"
)

type DestinationStarburstGalaxyUpdateObjectStoreType string

const (
	DestinationStarburstGalaxyUpdateObjectStoreTypeS3 DestinationStarburstGalaxyUpdateObjectStoreType = "S3"
)

func (e DestinationStarburstGalaxyUpdateObjectStoreType) ToPointer() *DestinationStarburstGalaxyUpdateObjectStoreType {
	return &e
}
func (e *DestinationStarburstGalaxyUpdateObjectStoreType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "S3":
		*e = DestinationStarburstGalaxyUpdateObjectStoreType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for DestinationStarburstGalaxyUpdateObjectStoreType: %v", v)
	}
}

// DestinationStarburstGalaxyUpdateS3BucketRegion - The region of the S3 bucket.
type DestinationStarburstGalaxyUpdateS3BucketRegion string

const (
	DestinationStarburstGalaxyUpdateS3BucketRegionApNortheast1 DestinationStarburstGalaxyUpdateS3BucketRegion = "ap-northeast-1"
	DestinationStarburstGalaxyUpdateS3BucketRegionApSoutheast1 DestinationStarburstGalaxyUpdateS3BucketRegion = "ap-southeast-1"
	DestinationStarburstGalaxyUpdateS3BucketRegionApSoutheast2 DestinationStarburstGalaxyUpdateS3BucketRegion = "ap-southeast-2"
	DestinationStarburstGalaxyUpdateS3BucketRegionCaCentral1   DestinationStarburstGalaxyUpdateS3BucketRegion = "ca-central-1"
	DestinationStarburstGalaxyUpdateS3BucketRegionEuCentral1   DestinationStarburstGalaxyUpdateS3BucketRegion = "eu-central-1"
	DestinationStarburstGalaxyUpdateS3BucketRegionEuWest1      DestinationStarburstGalaxyUpdateS3BucketRegion = "eu-west-1"
	DestinationStarburstGalaxyUpdateS3BucketRegionEuWest2      DestinationStarburstGalaxyUpdateS3BucketRegion = "eu-west-2"
	DestinationStarburstGalaxyUpdateS3BucketRegionEuWest3      DestinationStarburstGalaxyUpdateS3BucketRegion = "eu-west-3"
	DestinationStarburstGalaxyUpdateS3BucketRegionUsEast1      DestinationStarburstGalaxyUpdateS3BucketRegion = "us-east-1"
	DestinationStarburstGalaxyUpdateS3BucketRegionUsEast2      DestinationStarburstGalaxyUpdateS3BucketRegion = "us-east-2"
	DestinationStarburstGalaxyUpdateS3BucketRegionUsWest1      DestinationStarburstGalaxyUpdateS3BucketRegion = "us-west-1"
	DestinationStarburstGalaxyUpdateS3BucketRegionUsWest2      DestinationStarburstGalaxyUpdateS3BucketRegion = "us-west-2"
)

func (e DestinationStarburstGalaxyUpdateS3BucketRegion) ToPointer() *DestinationStarburstGalaxyUpdateS3BucketRegion {
	return &e
}
func (e *DestinationStarburstGalaxyUpdateS3BucketRegion) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "ap-northeast-1":
		fallthrough
	case "ap-southeast-1":
		fallthrough
	case "ap-southeast-2":
		fallthrough
	case "ca-central-1":
		fallthrough
	case "eu-central-1":
		fallthrough
	case "eu-west-1":
		fallthrough
	case "eu-west-2":
		fallthrough
	case "eu-west-3":
		fallthrough
	case "us-east-1":
		fallthrough
	case "us-east-2":
		fallthrough
	case "us-west-1":
		fallthrough
	case "us-west-2":
		*e = DestinationStarburstGalaxyUpdateS3BucketRegion(v)
		return nil
	default:
		return fmt.Errorf("invalid value for DestinationStarburstGalaxyUpdateS3BucketRegion: %v", v)
	}
}

type DestinationStarburstGalaxyUpdateAmazonS3 struct {
	ObjectStoreType *DestinationStarburstGalaxyUpdateObjectStoreType `default:"S3" json:"object_store_type"`
	// Access key with access to the bucket. Airbyte requires read and write permissions to a given bucket.
	S3AccessKeyID *string `json:"s3_access_key_id,omitempty"`
	// Name of the S3 bucket
	S3BucketName *string `json:"s3_bucket_name,omitempty"`
	// Directory in the S3 bucket where staging data is stored.
	S3BucketPath *string `json:"s3_bucket_path,omitempty"`
	// The region of the S3 bucket.
	S3BucketRegion *DestinationStarburstGalaxyUpdateS3BucketRegion `default:"us-east-1" json:"s3_bucket_region"`
	// Secret key used with the specified access key.
	S3SecretAccessKey *string `json:"s3_secret_access_key,omitempty"`
}

func (d DestinationStarburstGalaxyUpdateAmazonS3) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(d, "", false)
}

func (d *DestinationStarburstGalaxyUpdateAmazonS3) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &d, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (d *DestinationStarburstGalaxyUpdateAmazonS3) GetObjectStoreType() *DestinationStarburstGalaxyUpdateObjectStoreType {
	if d == nil {
		return nil
	}
	return d.ObjectStoreType
}

func (d *DestinationStarburstGalaxyUpdateAmazonS3) GetS3AccessKeyID() *string {
	if d == nil {
		return nil
	}
	return d.S3AccessKeyID
}

func (d *DestinationStarburstGalaxyUpdateAmazonS3) GetS3BucketName() *string {
	if d == nil {
		return nil
	}
	return d.S3BucketName
}

func (d *DestinationStarburstGalaxyUpdateAmazonS3) GetS3BucketPath() *string {
	if d == nil {
		return nil
	}
	return d.S3BucketPath
}

func (d *DestinationStarburstGalaxyUpdateAmazonS3) GetS3BucketRegion() *DestinationStarburstGalaxyUpdateS3BucketRegion {
	if d == nil {
		return nil
	}
	return d.S3BucketRegion
}

func (d *DestinationStarburstGalaxyUpdateAmazonS3) GetS3SecretAccessKey() *string {
	if d == nil {
		return nil
	}
	return d.S3SecretAccessKey
}

type DestinationStarburstGalaxyUpdateStagingObjectStoreType string

const (
	DestinationStarburstGalaxyUpdateStagingObjectStoreTypeDestinationStarburstGalaxyUpdateAmazonS3 DestinationStarburstGalaxyUpdateStagingObjectStoreType = "destination-starburst-galaxy-update_Amazon S3"
)

// DestinationStarburstGalaxyUpdateStagingObjectStore - Temporary storage on which temporary Iceberg table is created.
type DestinationStarburstGalaxyUpdateStagingObjectStore struct {
	DestinationStarburstGalaxyUpdateAmazonS3 *DestinationStarburstGalaxyUpdateAmazonS3 `queryParam:"inline" union:"member"`

	Type DestinationStarburstGalaxyUpdateStagingObjectStoreType
}

func CreateDestinationStarburstGalaxyUpdateStagingObjectStoreDestinationStarburstGalaxyUpdateAmazonS3(destinationStarburstGalaxyUpdateAmazonS3 DestinationStarburstGalaxyUpdateAmazonS3) DestinationStarburstGalaxyUpdateStagingObjectStore {
	typ := DestinationStarburstGalaxyUpdateStagingObjectStoreTypeDestinationStarburstGalaxyUpdateAmazonS3

	return DestinationStarburstGalaxyUpdateStagingObjectStore{
		DestinationStarburstGalaxyUpdateAmazonS3: &destinationStarburstGalaxyUpdateAmazonS3,
		Type:                                     typ,
	}
}

func (u *DestinationStarburstGalaxyUpdateStagingObjectStore) UnmarshalJSON(data []byte) error {

	var candidates []utils.UnionCandidate

	// Collect all valid candidates
	var destinationStarburstGalaxyUpdateAmazonS3 DestinationStarburstGalaxyUpdateAmazonS3 = DestinationStarburstGalaxyUpdateAmazonS3{}
	if err := utils.UnmarshalJSON(data, &destinationStarburstGalaxyUpdateAmazonS3, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  DestinationStarburstGalaxyUpdateStagingObjectStoreTypeDestinationStarburstGalaxyUpdateAmazonS3,
			Value: &destinationStarburstGalaxyUpdateAmazonS3,
		})
	}

	if len(candidates) == 0 {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for DestinationStarburstGalaxyUpdateStagingObjectStore", string(data))
	}

	// Pick the best candidate using multi-stage filtering
	best := utils.PickBestUnionCandidate(candidates, data)
	if best == nil {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for DestinationStarburstGalaxyUpdateStagingObjectStore", string(data))
	}

	// Set the union type and value based on the best candidate
	u.Type = best.Type.(DestinationStarburstGalaxyUpdateStagingObjectStoreType)
	switch best.Type {
	case DestinationStarburstGalaxyUpdateStagingObjectStoreTypeDestinationStarburstGalaxyUpdateAmazonS3:
		u.DestinationStarburstGalaxyUpdateAmazonS3 = best.Value.(*DestinationStarburstGalaxyUpdateAmazonS3)
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for DestinationStarburstGalaxyUpdateStagingObjectStore", string(data))
}

func (u DestinationStarburstGalaxyUpdateStagingObjectStore) MarshalJSON() ([]byte, error) {
	if u.DestinationStarburstGalaxyUpdateAmazonS3 != nil {
		return utils.MarshalJSON(u.DestinationStarburstGalaxyUpdateAmazonS3, "", true)
	}

	return nil, errors.New("could not marshal union type DestinationStarburstGalaxyUpdateStagingObjectStore: all fields are null")
}

type DestinationStarburstGalaxyUpdateDestinationType string

const (
	DestinationStarburstGalaxyUpdateDestinationTypeStarburstGalaxy DestinationStarburstGalaxyUpdateDestinationType = "starburst-galaxy"
)

func (e DestinationStarburstGalaxyUpdateDestinationType) ToPointer() *DestinationStarburstGalaxyUpdateDestinationType {
	return &e
}
func (e *DestinationStarburstGalaxyUpdateDestinationType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "starburst-galaxy":
		*e = DestinationStarburstGalaxyUpdateDestinationType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for DestinationStarburstGalaxyUpdateDestinationType: %v", v)
	}
}

type DestinationStarburstGalaxyUpdate struct {
	// You must agree to the Starburst Galaxy <a href="https://www.starburst.io/terms/">terms & conditions</a> to use this connector.
	AcceptTerms *bool `default:"false" json:"accept_terms"`
	// Name of the Starburst Galaxy Amazon S3 catalog.
	Catalog *string `json:"catalog,omitempty"`
	// The default Starburst Galaxy Amazon S3 catalog schema where tables are written to if the source does not specify a namespace. Defaults to "public".
	CatalogSchema *string `default:"public" json:"catalog_schema"`
	// Starburst Galaxy password for the specified user.
	Password *string `json:"password,omitempty"`
	// Starburst Galaxy cluster port.
	Port *string `default:"443" json:"port"`
	// Defaults to 'true'. Switch to 'false' for debugging purposes.
	PurgeStagingTable *bool `default:"true" json:"purge_staging_table"`
	// Starburst Galaxy cluster hostname.
	ServerHostname *string `json:"server_hostname,omitempty"`
	// Temporary storage on which temporary Iceberg table is created.
	StagingObjectStore *DestinationStarburstGalaxyUpdateStagingObjectStore `json:"staging_object_store,omitempty"`
	// Starburst Galaxy user.
	Username        *string                                          `json:"username,omitempty"`
	destinationType *DestinationStarburstGalaxyUpdateDestinationType `const:"starburst-galaxy" json:"destinationType"`
}

func (d DestinationStarburstGalaxyUpdate) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(d, "", false)
}

func (d *DestinationStarburstGalaxyUpdate) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &d, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (d *DestinationStarburstGalaxyUpdate) GetAcceptTerms() *bool {
	if d == nil {
		return nil
	}
	return d.AcceptTerms
}

func (d *DestinationStarburstGalaxyUpdate) GetCatalog() *string {
	if d == nil {
		return nil
	}
	return d.Catalog
}

func (d *DestinationStarburstGalaxyUpdate) GetCatalogSchema() *string {
	if d == nil {
		return nil
	}
	return d.CatalogSchema
}

func (d *DestinationStarburstGalaxyUpdate) GetPassword() *string {
	if d == nil {
		return nil
	}
	return d.Password
}

func (d *DestinationStarburstGalaxyUpdate) GetPort() *string {
	if d == nil {
		return nil
	}
	return d.Port
}

func (d *DestinationStarburstGalaxyUpdate) GetPurgeStagingTable() *bool {
	if d == nil {
		return nil
	}
	return d.PurgeStagingTable
}

func (d *DestinationStarburstGalaxyUpdate) GetServerHostname() *string {
	if d == nil {
		return nil
	}
	return d.ServerHostname
}

func (d *DestinationStarburstGalaxyUpdate) GetStagingObjectStore() *DestinationStarburstGalaxyUpdateStagingObjectStore {
	if d == nil {
		return nil
	}
	return d.StagingObjectStore
}

func (d *DestinationStarburstGalaxyUpdate) GetUsername() *string {
	if d == nil {
		return nil
	}
	return d.Username
}

func (d *DestinationStarburstGalaxyUpdate) GetDestinationType() *DestinationStarburstGalaxyUpdateDestinationType {
	return DestinationStarburstGalaxyUpdateDestinationTypeStarburstGalaxy.ToPointer()
}
