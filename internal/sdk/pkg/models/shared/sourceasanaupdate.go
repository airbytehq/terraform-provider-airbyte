// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"airbyte/internal/sdk/pkg/utils"
	"encoding/json"
	"errors"
	"fmt"
)

// SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle - PAT Credentials
type SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle string

const (
	SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitlePatCredentials SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle = "PAT Credentials"
)

func (e SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle) ToPointer() *SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle {
	return &e
}

func (e *SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "PAT Credentials":
		*e = SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle: %v", v)
	}
}

// SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken - Choose how to authenticate to Github
type SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken struct {
	// PAT Credentials
	optionTitle *SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle `const:"PAT Credentials" json:"option_title,omitempty"`
	// Asana Personal Access Token (generate yours <a href="https://app.asana.com/0/developer-console">here</a>).
	PersonalAccessToken string `json:"personal_access_token"`
}

func (s SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, true); err != nil {
		return err
	}
	return nil
}

func (o *SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken) GetOptionTitle() *SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitle {
	return SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessTokenCredentialsTitlePatCredentials.ToPointer()
}

func (o *SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken) GetPersonalAccessToken() string {
	if o == nil {
		return ""
	}
	return o.PersonalAccessToken
}

// SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle - OAuth Credentials
type SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle string

const (
	SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitleOAuthCredentials SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle = "OAuth Credentials"
)

func (e SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle) ToPointer() *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle {
	return &e
}

func (e *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "OAuth Credentials":
		*e = SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle: %v", v)
	}
}

// SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth - Choose how to authenticate to Github
type SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth struct {
	ClientID     string `json:"client_id"`
	ClientSecret string `json:"client_secret"`
	// OAuth Credentials
	optionTitle  *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle `const:"OAuth Credentials" json:"option_title,omitempty"`
	RefreshToken string                                                                             `json:"refresh_token"`
}

func (s SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, true); err != nil {
		return err
	}
	return nil
}

func (o *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth) GetClientID() string {
	if o == nil {
		return ""
	}
	return o.ClientID
}

func (o *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth) GetClientSecret() string {
	if o == nil {
		return ""
	}
	return o.ClientSecret
}

func (o *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth) GetOptionTitle() *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitle {
	return SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauthCredentialsTitleOAuthCredentials.ToPointer()
}

func (o *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth) GetRefreshToken() string {
	if o == nil {
		return ""
	}
	return o.RefreshToken
}

type SourceAsanaUpdateAuthenticationMechanismType string

const (
	SourceAsanaUpdateAuthenticationMechanismTypeSourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth           SourceAsanaUpdateAuthenticationMechanismType = "source-asana-update_Authentication mechanism_Authenticate via Asana (Oauth)"
	SourceAsanaUpdateAuthenticationMechanismTypeSourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken SourceAsanaUpdateAuthenticationMechanismType = "source-asana-update_Authentication mechanism_Authenticate with Personal Access Token"
)

type SourceAsanaUpdateAuthenticationMechanism struct {
	SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth           *SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth
	SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken *SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken

	Type SourceAsanaUpdateAuthenticationMechanismType
}

func CreateSourceAsanaUpdateAuthenticationMechanismSourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth(sourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth) SourceAsanaUpdateAuthenticationMechanism {
	typ := SourceAsanaUpdateAuthenticationMechanismTypeSourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth

	return SourceAsanaUpdateAuthenticationMechanism{
		SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth: &sourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth,
		Type: typ,
	}
}

func CreateSourceAsanaUpdateAuthenticationMechanismSourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken(sourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken) SourceAsanaUpdateAuthenticationMechanism {
	typ := SourceAsanaUpdateAuthenticationMechanismTypeSourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken

	return SourceAsanaUpdateAuthenticationMechanism{
		SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken: &sourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken,
		Type: typ,
	}
}

func (u *SourceAsanaUpdateAuthenticationMechanism) UnmarshalJSON(data []byte) error {

	sourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken := new(SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken)
	if err := utils.UnmarshalJSON(data, &sourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken, "", true, true); err == nil {
		u.SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken = sourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken
		u.Type = SourceAsanaUpdateAuthenticationMechanismTypeSourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken
		return nil
	}

	sourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth := new(SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth)
	if err := utils.UnmarshalJSON(data, &sourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth, "", true, true); err == nil {
		u.SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth = sourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth
		u.Type = SourceAsanaUpdateAuthenticationMechanismTypeSourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u SourceAsanaUpdateAuthenticationMechanism) MarshalJSON() ([]byte, error) {
	if u.SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth != nil {
		return utils.MarshalJSON(u.SourceAsanaUpdateAuthenticationMechanismAuthenticateViaAsanaOauth, "", true)
	}

	if u.SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken != nil {
		return utils.MarshalJSON(u.SourceAsanaUpdateAuthenticationMechanismAuthenticateWithPersonalAccessToken, "", true)
	}

	return nil, errors.New("could not marshal union type: all fields are null")
}

type SourceAsanaUpdate struct {
	// Choose how to authenticate to Github
	Credentials *SourceAsanaUpdateAuthenticationMechanism `json:"credentials,omitempty"`
}

func (o *SourceAsanaUpdate) GetCredentials() *SourceAsanaUpdateAuthenticationMechanism {
	if o == nil {
		return nil
	}
	return o.Credentials
}
