// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"airbyte/internal/sdk/pkg/utils"
	"encoding/json"
	"errors"
	"fmt"
	"time"
)

type SourceTypeformAuthorizationMethodPrivateTokenAuthType string

const (
	SourceTypeformAuthorizationMethodPrivateTokenAuthTypeAccessToken SourceTypeformAuthorizationMethodPrivateTokenAuthType = "access_token"
)

func (e SourceTypeformAuthorizationMethodPrivateTokenAuthType) ToPointer() *SourceTypeformAuthorizationMethodPrivateTokenAuthType {
	return &e
}

func (e *SourceTypeformAuthorizationMethodPrivateTokenAuthType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "access_token":
		*e = SourceTypeformAuthorizationMethodPrivateTokenAuthType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceTypeformAuthorizationMethodPrivateTokenAuthType: %v", v)
	}
}

type SourceTypeformAuthorizationMethodPrivateToken struct {
	// Log into your Typeform account and then generate a personal Access Token.
	AccessToken string                                                 `json:"access_token"`
	authType    *SourceTypeformAuthorizationMethodPrivateTokenAuthType `const:"access_token" json:"auth_type,omitempty"`
}

func (s SourceTypeformAuthorizationMethodPrivateToken) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceTypeformAuthorizationMethodPrivateToken) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, true); err != nil {
		return err
	}
	return nil
}

func (o *SourceTypeformAuthorizationMethodPrivateToken) GetAccessToken() string {
	if o == nil {
		return ""
	}
	return o.AccessToken
}

func (o *SourceTypeformAuthorizationMethodPrivateToken) GetAuthType() *SourceTypeformAuthorizationMethodPrivateTokenAuthType {
	return SourceTypeformAuthorizationMethodPrivateTokenAuthTypeAccessToken.ToPointer()
}

type SourceTypeformAuthorizationMethodOAuth20AuthType string

const (
	SourceTypeformAuthorizationMethodOAuth20AuthTypeOauth20 SourceTypeformAuthorizationMethodOAuth20AuthType = "oauth2.0"
)

func (e SourceTypeformAuthorizationMethodOAuth20AuthType) ToPointer() *SourceTypeformAuthorizationMethodOAuth20AuthType {
	return &e
}

func (e *SourceTypeformAuthorizationMethodOAuth20AuthType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "oauth2.0":
		*e = SourceTypeformAuthorizationMethodOAuth20AuthType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceTypeformAuthorizationMethodOAuth20AuthType: %v", v)
	}
}

type SourceTypeformAuthorizationMethodOAuth20 struct {
	// Access Token for making authenticated requests.
	AccessToken string                                            `json:"access_token"`
	authType    *SourceTypeformAuthorizationMethodOAuth20AuthType `const:"oauth2.0" json:"auth_type,omitempty"`
	// The Client ID of the Typeform developer application.
	ClientID string `json:"client_id"`
	// The Client Secret the Typeform developer application.
	ClientSecret string `json:"client_secret"`
	// The key to refresh the expired access_token.
	RefreshToken string `json:"refresh_token"`
	// The date-time when the access token should be refreshed.
	TokenExpiryDate time.Time `json:"token_expiry_date"`
}

func (s SourceTypeformAuthorizationMethodOAuth20) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceTypeformAuthorizationMethodOAuth20) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, true); err != nil {
		return err
	}
	return nil
}

func (o *SourceTypeformAuthorizationMethodOAuth20) GetAccessToken() string {
	if o == nil {
		return ""
	}
	return o.AccessToken
}

func (o *SourceTypeformAuthorizationMethodOAuth20) GetAuthType() *SourceTypeformAuthorizationMethodOAuth20AuthType {
	return SourceTypeformAuthorizationMethodOAuth20AuthTypeOauth20.ToPointer()
}

func (o *SourceTypeformAuthorizationMethodOAuth20) GetClientID() string {
	if o == nil {
		return ""
	}
	return o.ClientID
}

func (o *SourceTypeformAuthorizationMethodOAuth20) GetClientSecret() string {
	if o == nil {
		return ""
	}
	return o.ClientSecret
}

func (o *SourceTypeformAuthorizationMethodOAuth20) GetRefreshToken() string {
	if o == nil {
		return ""
	}
	return o.RefreshToken
}

func (o *SourceTypeformAuthorizationMethodOAuth20) GetTokenExpiryDate() time.Time {
	if o == nil {
		return time.Time{}
	}
	return o.TokenExpiryDate
}

type SourceTypeformAuthorizationMethodType string

const (
	SourceTypeformAuthorizationMethodTypeSourceTypeformAuthorizationMethodOAuth20      SourceTypeformAuthorizationMethodType = "source-typeform_Authorization Method_OAuth2.0"
	SourceTypeformAuthorizationMethodTypeSourceTypeformAuthorizationMethodPrivateToken SourceTypeformAuthorizationMethodType = "source-typeform_Authorization Method_Private Token"
)

type SourceTypeformAuthorizationMethod struct {
	SourceTypeformAuthorizationMethodOAuth20      *SourceTypeformAuthorizationMethodOAuth20
	SourceTypeformAuthorizationMethodPrivateToken *SourceTypeformAuthorizationMethodPrivateToken

	Type SourceTypeformAuthorizationMethodType
}

func CreateSourceTypeformAuthorizationMethodSourceTypeformAuthorizationMethodOAuth20(sourceTypeformAuthorizationMethodOAuth20 SourceTypeformAuthorizationMethodOAuth20) SourceTypeformAuthorizationMethod {
	typ := SourceTypeformAuthorizationMethodTypeSourceTypeformAuthorizationMethodOAuth20

	return SourceTypeformAuthorizationMethod{
		SourceTypeformAuthorizationMethodOAuth20: &sourceTypeformAuthorizationMethodOAuth20,
		Type:                                     typ,
	}
}

func CreateSourceTypeformAuthorizationMethodSourceTypeformAuthorizationMethodPrivateToken(sourceTypeformAuthorizationMethodPrivateToken SourceTypeformAuthorizationMethodPrivateToken) SourceTypeformAuthorizationMethod {
	typ := SourceTypeformAuthorizationMethodTypeSourceTypeformAuthorizationMethodPrivateToken

	return SourceTypeformAuthorizationMethod{
		SourceTypeformAuthorizationMethodPrivateToken: &sourceTypeformAuthorizationMethodPrivateToken,
		Type: typ,
	}
}

func (u *SourceTypeformAuthorizationMethod) UnmarshalJSON(data []byte) error {

	sourceTypeformAuthorizationMethodPrivateToken := new(SourceTypeformAuthorizationMethodPrivateToken)
	if err := utils.UnmarshalJSON(data, &sourceTypeformAuthorizationMethodPrivateToken, "", true, true); err == nil {
		u.SourceTypeformAuthorizationMethodPrivateToken = sourceTypeformAuthorizationMethodPrivateToken
		u.Type = SourceTypeformAuthorizationMethodTypeSourceTypeformAuthorizationMethodPrivateToken
		return nil
	}

	sourceTypeformAuthorizationMethodOAuth20 := new(SourceTypeformAuthorizationMethodOAuth20)
	if err := utils.UnmarshalJSON(data, &sourceTypeformAuthorizationMethodOAuth20, "", true, true); err == nil {
		u.SourceTypeformAuthorizationMethodOAuth20 = sourceTypeformAuthorizationMethodOAuth20
		u.Type = SourceTypeformAuthorizationMethodTypeSourceTypeformAuthorizationMethodOAuth20
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u SourceTypeformAuthorizationMethod) MarshalJSON() ([]byte, error) {
	if u.SourceTypeformAuthorizationMethodOAuth20 != nil {
		return utils.MarshalJSON(u.SourceTypeformAuthorizationMethodOAuth20, "", true)
	}

	if u.SourceTypeformAuthorizationMethodPrivateToken != nil {
		return utils.MarshalJSON(u.SourceTypeformAuthorizationMethodPrivateToken, "", true)
	}

	return nil, errors.New("could not marshal union type: all fields are null")
}

type SourceTypeformTypeform string

const (
	SourceTypeformTypeformTypeform SourceTypeformTypeform = "typeform"
)

func (e SourceTypeformTypeform) ToPointer() *SourceTypeformTypeform {
	return &e
}

func (e *SourceTypeformTypeform) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "typeform":
		*e = SourceTypeformTypeform(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceTypeformTypeform: %v", v)
	}
}

type SourceTypeform struct {
	Credentials SourceTypeformAuthorizationMethod `json:"credentials"`
	// When this parameter is set, the connector will replicate data only from the input forms. Otherwise, all forms in your Typeform account will be replicated. You can find form IDs in your form URLs. For example, in the URL "https://mysite.typeform.com/to/u6nXL7" the form_id is u6nXL7. You can find form URLs on Share panel
	FormIds    []string               `json:"form_ids,omitempty"`
	sourceType SourceTypeformTypeform `const:"typeform" json:"sourceType"`
	// The date from which you'd like to replicate data for Typeform API, in the format YYYY-MM-DDT00:00:00Z. All data generated after this date will be replicated.
	StartDate *time.Time `json:"start_date,omitempty"`
}

func (s SourceTypeform) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SourceTypeform) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, false); err != nil {
		return err
	}
	return nil
}

func (o *SourceTypeform) GetCredentials() SourceTypeformAuthorizationMethod {
	if o == nil {
		return SourceTypeformAuthorizationMethod{}
	}
	return o.Credentials
}

func (o *SourceTypeform) GetFormIds() []string {
	if o == nil {
		return nil
	}
	return o.FormIds
}

func (o *SourceTypeform) GetSourceType() SourceTypeformTypeform {
	return SourceTypeformTypeformTypeform
}

func (o *SourceTypeform) GetStartDate() *time.Time {
	if o == nil {
		return nil
	}
	return o.StartDate
}
