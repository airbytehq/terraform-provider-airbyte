---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "airbyte_destination_s3 Resource - terraform-provider-airbyte"
subcategory: ""
description: |-
  DestinationS3 Resource
---

# airbyte_destination_s3 (Resource)

DestinationS3 Resource

## Example Usage

```terraform
resource "airbyte_destination_s3" "my_destination_s3" {
  configuration = {
    access_key_id         = "A012345678910EXAMPLE"
    additional_properties = "{ \"see\": \"documentation\" }"
    file_name_pattern     = "{date}"
    format = {
      avro_apache_avro = {
        additional_properties = "{ \"see\": \"documentation\" }"
        compression_codec = {
          bzip2 = {
            additional_properties = "{ \"see\": \"documentation\" }"
            codec                 = "bzip2"
          }
          no_compression = {
            additional_properties = "{ \"see\": \"documentation\" }"
            codec                 = "no compression"
          }
          snappy = {
            additional_properties = "{ \"see\": \"documentation\" }"
            codec                 = "snappy"
          }
        }
        format_type = "Avro"
      }
    }
    role_arn          = "arn:aws:iam::123456789:role/ExternalIdIsYourWorkspaceId"
    s3_bucket_name    = "airbyte_sync"
    s3_bucket_path    = "data_sync/test"
    s3_bucket_region  = "us-east-1"
    s3_endpoint       = "http://localhost:9000"
    s3_path_format    = "${NAMESPACE}/${STREAM_NAME}/${YEAR}_${MONTH}_${DAY}_${EPOCH}_"
    secret_access_key = "a012345678910ABCDEFGH/AbCdEfGhEXAMPLEKEY"
  }
  definition_id = "78e0a8ec-be25-40bf-b8ba-093bfe7a6f05"
  name          = "...my_name..."
  workspace_id  = "9842b6c1-e43f-4d6f-90dd-f293538933f0"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `configuration` (Attributes) The values required to configure the destination. The schema for this must match the schema return by destination_definition_specifications/get for the destinationDefinition. (see [below for nested schema](#nestedatt--configuration))
- `name` (String) Name of the destination e.g. dev-mysql-instance.
- `workspace_id` (String)

### Optional

- `definition_id` (String) The UUID of the connector definition. One of configuration.destinationType or definitionId must be provided. Default: "4816b78f-1489-44c1-9060-4b19d5fa9362"; Requires replacement if changed.

### Read-Only

- `created_at` (Number)
- `destination_id` (String)
- `destination_type` (String)
- `resource_allocation` (Attributes) actor or actor definition specific resource requirements. if default is set, these are the requirements that should be set for ALL jobs run for this actor definition. it is overriden by the job type specific configurations. if not set, the platform will use defaults. these values will be overriden by configuration at the connection level. (see [below for nested schema](#nestedatt--resource_allocation))

<a id="nestedatt--configuration"></a>
### Nested Schema for `configuration`

Required:

- `format` (Attributes) Format of the data output. See <a href="https://docs.airbyte.com/integrations/destinations/s3/#supported-output-schema">here</a> for more details (see [below for nested schema](#nestedatt--configuration--format))
- `s3_bucket_name` (String) The name of the S3 bucket. Read more <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html">here</a>.
- `s3_bucket_path` (String) Directory under the S3 bucket where data will be written. Read more <a href="https://docs.airbyte.com/integrations/destinations/s3#:~:text=to%20format%20the-,bucket%20path,-%3A">here</a>

Optional:

- `access_key_id` (String) The access key ID to access the S3 bucket. Airbyte requires Read and Write permissions to the given bucket. Read more <a href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">here</a>.
- `additional_properties` (String) Parsed as JSON.
- `file_name_pattern` (String) Pattern to match file names in the bucket directory. Read more <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/ListingKeysUsingAPIs.html">here</a>
- `role_arn` (String) The ARN of the AWS role to assume. Only usable in Airbyte Cloud.
- `s3_bucket_region` (String) The region of the S3 bucket. See <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-available-regions">here</a> for all region codes. Default: ""; must be one of ["", "af-south-1", "ap-east-1", "ap-northeast-1", "ap-northeast-2", "ap-northeast-3", "ap-south-1", "ap-south-2", "ap-southeast-1", "ap-southeast-2", "ap-southeast-3", "ap-southeast-4", "ca-central-1", "ca-west-1", "cn-north-1", "cn-northwest-1", "eu-central-1", "eu-central-2", "eu-north-1", "eu-south-1", "eu-south-2", "eu-west-1", "eu-west-2", "eu-west-3", "il-central-1", "me-central-1", "me-south-1", "sa-east-1", "us-east-1", "us-east-2", "us-gov-east-1", "us-gov-west-1", "us-west-1", "us-west-2"]
- `s3_endpoint` (String) Your S3 endpoint url. Read more <a href="https://docs.aws.amazon.com/general/latest/gr/s3.html#:~:text=Service%20endpoints-,Amazon%20S3%20endpoints,-When%20you%20use">here</a>
- `s3_path_format` (String) Format string on how data will be organized inside the bucket directory. Read more <a href="https://docs.airbyte.com/integrations/destinations/s3#:~:text=The%20full%20path%20of%20the%20output%20data%20with%20the%20default%20S3%20path%20format">here</a>
- `secret_access_key` (String) The corresponding secret to the access key ID. Read more <a href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">here</a>

<a id="nestedatt--configuration--format"></a>
### Nested Schema for `configuration.format`

Optional:

- `avro_apache_avro` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--avro_apache_avro))
- `csv_comma_separated_values` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--csv_comma_separated_values))
- `json_lines_newline_delimited_json` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--json_lines_newline_delimited_json))
- `parquet_columnar_storage` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--parquet_columnar_storage))

<a id="nestedatt--configuration--format--avro_apache_avro"></a>
### Nested Schema for `configuration.format.avro_apache_avro`

Required:

- `compression_codec` (Attributes) The compression algorithm used to compress data. Default to no compression. (see [below for nested schema](#nestedatt--configuration--format--avro_apache_avro--compression_codec))

Optional:

- `additional_properties` (String) Parsed as JSON.
- `format_type` (String) Default: "Avro"; must be "Avro"

<a id="nestedatt--configuration--format--avro_apache_avro--compression_codec"></a>
### Nested Schema for `configuration.format.avro_apache_avro.compression_codec`

Optional:

- `bzip2` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--avro_apache_avro--compression_codec--bzip2))
- `deflate` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--avro_apache_avro--compression_codec--deflate))
- `no_compression` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--avro_apache_avro--compression_codec--no_compression))
- `snappy` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--avro_apache_avro--compression_codec--snappy))
- `xz` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--avro_apache_avro--compression_codec--xz))
- `zstandard` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--avro_apache_avro--compression_codec--zstandard))

<a id="nestedatt--configuration--format--avro_apache_avro--compression_codec--bzip2"></a>
### Nested Schema for `configuration.format.avro_apache_avro.compression_codec.bzip2`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `codec` (String) Default: "bzip2"; must be "bzip2"


<a id="nestedatt--configuration--format--avro_apache_avro--compression_codec--deflate"></a>
### Nested Schema for `configuration.format.avro_apache_avro.compression_codec.deflate`

Required:

- `compression_level` (Number)

Optional:

- `additional_properties` (String) Parsed as JSON.
- `codec` (String) Default: "Deflate"; must be "Deflate"


<a id="nestedatt--configuration--format--avro_apache_avro--compression_codec--no_compression"></a>
### Nested Schema for `configuration.format.avro_apache_avro.compression_codec.no_compression`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `codec` (String) Default: "no compression"; must be "no compression"


<a id="nestedatt--configuration--format--avro_apache_avro--compression_codec--snappy"></a>
### Nested Schema for `configuration.format.avro_apache_avro.compression_codec.snappy`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `codec` (String) Default: "snappy"; must be "snappy"


<a id="nestedatt--configuration--format--avro_apache_avro--compression_codec--xz"></a>
### Nested Schema for `configuration.format.avro_apache_avro.compression_codec.xz`

Required:

- `compression_level` (Number)

Optional:

- `additional_properties` (String) Parsed as JSON.
- `codec` (String) Default: "xz"; must be "xz"


<a id="nestedatt--configuration--format--avro_apache_avro--compression_codec--zstandard"></a>
### Nested Schema for `configuration.format.avro_apache_avro.compression_codec.zstandard`

Required:

- `compression_level` (Number)
- `include_checksum` (Boolean)

Optional:

- `additional_properties` (String) Parsed as JSON.
- `codec` (String) Default: "zstandard"; must be "zstandard"




<a id="nestedatt--configuration--format--csv_comma_separated_values"></a>
### Nested Schema for `configuration.format.csv_comma_separated_values`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `compression` (Attributes) Whether the output files should be compressed. If compression is selected, the output filename will have an extra extension (GZIP: ".jsonl.gz"). (see [below for nested schema](#nestedatt--configuration--format--csv_comma_separated_values--compression))
- `flattening` (String) Default: "No flattening"; must be one of ["No flattening", "Root level flattening"]
- `format_type` (String) Default: "CSV"; must be "CSV"

<a id="nestedatt--configuration--format--csv_comma_separated_values--compression"></a>
### Nested Schema for `configuration.format.csv_comma_separated_values.compression`

Optional:

- `gzip` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--csv_comma_separated_values--compression--gzip))
- `no_compression` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--csv_comma_separated_values--compression--no_compression))

<a id="nestedatt--configuration--format--csv_comma_separated_values--compression--gzip"></a>
### Nested Schema for `configuration.format.csv_comma_separated_values.compression.gzip`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `compression_type` (String) Default: "GZIP"; must be "GZIP"


<a id="nestedatt--configuration--format--csv_comma_separated_values--compression--no_compression"></a>
### Nested Schema for `configuration.format.csv_comma_separated_values.compression.no_compression`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `compression_type` (String) Default: "No Compression"; must be "No Compression"




<a id="nestedatt--configuration--format--json_lines_newline_delimited_json"></a>
### Nested Schema for `configuration.format.json_lines_newline_delimited_json`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `compression` (Attributes) Whether the output files should be compressed. If compression is selected, the output filename will have an extra extension (GZIP: ".jsonl.gz"). (see [below for nested schema](#nestedatt--configuration--format--json_lines_newline_delimited_json--compression))
- `flattening` (String) Default: "No flattening"; must be one of ["No flattening", "Root level flattening"]
- `format_type` (String) Default: "JSONL"; must be "JSONL"

<a id="nestedatt--configuration--format--json_lines_newline_delimited_json--compression"></a>
### Nested Schema for `configuration.format.json_lines_newline_delimited_json.compression`

Optional:

- `gzip` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--json_lines_newline_delimited_json--compression--gzip))
- `no_compression` (Attributes) (see [below for nested schema](#nestedatt--configuration--format--json_lines_newline_delimited_json--compression--no_compression))

<a id="nestedatt--configuration--format--json_lines_newline_delimited_json--compression--gzip"></a>
### Nested Schema for `configuration.format.json_lines_newline_delimited_json.compression.gzip`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `compression_type` (String) Default: "GZIP"; must be "GZIP"


<a id="nestedatt--configuration--format--json_lines_newline_delimited_json--compression--no_compression"></a>
### Nested Schema for `configuration.format.json_lines_newline_delimited_json.compression.no_compression`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `compression_type` (String) Default: "No Compression"; must be "No Compression"




<a id="nestedatt--configuration--format--parquet_columnar_storage"></a>
### Nested Schema for `configuration.format.parquet_columnar_storage`

Optional:

- `additional_properties` (String) Parsed as JSON.
- `block_size_mb` (Number) This is the size of a row group being buffered in memory. It limits the memory usage when writing. Larger values will improve the IO when reading, but consume more memory when writing. Default: 128 MB. Default: 128
- `compression_codec` (String) The compression algorithm used to compress data pages. Default: "UNCOMPRESSED"; must be one of ["UNCOMPRESSED", "SNAPPY", "GZIP", "LZO", "BROTLI", "LZ4", "ZSTD"]
- `dictionary_encoding` (Boolean) Default: true.
- `dictionary_page_size_kb` (Number) There is one dictionary page per column per row group when dictionary encoding is used. The dictionary page size works like the page size but for dictionary. Default: 1024 KB. Default: 1024
- `format_type` (String) Default: "Parquet"; must be "Parquet"
- `max_padding_size_mb` (Number) Maximum size allowed as padding to align row groups. This is also the minimum size of a row group. Default: 8 MB. Default: 8
- `page_size_kb` (Number) The page size is for compression. A block is composed of pages. A page is the smallest unit that must be read fully to access a single record. If this value is too small, the compression will deteriorate. Default: 1024 KB. Default: 1024




<a id="nestedatt--resource_allocation"></a>
### Nested Schema for `resource_allocation`

Read-Only:

- `default` (Attributes) optional resource requirements to run workers (blank for unbounded allocations) (see [below for nested schema](#nestedatt--resource_allocation--default))
- `job_specific` (Attributes List) (see [below for nested schema](#nestedatt--resource_allocation--job_specific))

<a id="nestedatt--resource_allocation--default"></a>
### Nested Schema for `resource_allocation.default`

Read-Only:

- `cpu_limit` (String)
- `cpu_request` (String)
- `ephemeral_storage_limit` (String)
- `ephemeral_storage_request` (String)
- `memory_limit` (String)
- `memory_request` (String)


<a id="nestedatt--resource_allocation--job_specific"></a>
### Nested Schema for `resource_allocation.job_specific`

Read-Only:

- `job_type` (String) enum that describes the different types of jobs that the platform runs.
- `resource_requirements` (Attributes) optional resource requirements to run workers (blank for unbounded allocations) (see [below for nested schema](#nestedatt--resource_allocation--job_specific--resource_requirements))

<a id="nestedatt--resource_allocation--job_specific--resource_requirements"></a>
### Nested Schema for `resource_allocation.job_specific.resource_requirements`

Read-Only:

- `cpu_limit` (String)
- `cpu_request` (String)
- `ephemeral_storage_limit` (String)
- `ephemeral_storage_request` (String)
- `memory_limit` (String)
- `memory_request` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = airbyte_destination_s3.my_airbyte_destination_s3
  id = "..."
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import airbyte_destination_s3.my_airbyte_destination_s3 "..."
```
