---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "airbyte_source_mongodb_v2 Resource - terraform-provider-airbyte"
subcategory: ""
description: |-
  SourceMongodbV2 Resource
---

# airbyte_source_mongodb_v2 (Resource)

SourceMongodbV2 Resource

## Example Usage

```terraform
resource "airbyte_source_mongodb_v2" "my_source_mongodbv2" {
  configuration = {
    additional_properties = "{ \"see\": \"documentation\" }"
    database_config = {
      self_managed_replica_set = {
        additional_properties = "{ \"see\": \"documentation\" }"
        auth_source           = "admin"
        connection_string     = "mongodb://example1.host.com:27017,example2.host.com:27017,example3.host.com:27017/"
        databases = [
          "..."
        ]
        password        = "...my_password..."
        schema_enforced = false
        username        = "...my_username..."
      }
    }
    discover_sample_size                 = 95684
    discover_timeout_seconds             = 787
    initial_load_timeout_hours           = 0
    initial_waiting_seconds              = 7
    invalid_cdc_cursor_position_behavior = "Fail sync"
    queue_size                           = 4
    update_capture_mode                  = "Lookup"
  }
  definition_id = "e30b0d99-fa62-4e68-8f19-2a57eaddc53f"
  name          = "...my_name..."
  secret_id     = "...my_secret_id..."
  workspace_id  = "fa7bf7db-d8dc-4773-80b5-3e3a9ea84f0d"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `configuration` (Attributes) The values required to configure the source. The schema for this must match the schema return by source_definition_specifications/get for the source. (see [below for nested schema](#nestedatt--configuration))
- `name` (String) Name of the source e.g. dev-mysql-instance.
- `workspace_id` (String)

### Optional

- `definition_id` (String) The UUID of the connector definition. One of configuration.sourceType or definitionId must be provided. Default: "b2e713cd-cc36-4c0a-b5bd-b47cb8a0561e"; Requires replacement if changed.
- `secret_id` (String) Optional secretID obtained through the public API OAuth redirect flow. Requires replacement if changed.

### Read-Only

- `created_at` (Number)
- `resource_allocation` (Attributes) actor or actor definition specific resource requirements. if default is set, these are the requirements that should be set for ALL jobs run for this actor definition. it is overriden by the job type specific configurations. if not set, the platform will use defaults. these values will be overriden by configuration at the connection level. (see [below for nested schema](#nestedatt--resource_allocation))
- `source_id` (String)
- `source_type` (String)

<a id="nestedatt--configuration"></a>
### Nested Schema for `configuration`

Required:

- `database_config` (Attributes) Configures the MongoDB cluster type. (see [below for nested schema](#nestedatt--configuration--database_config))

Optional:

- `additional_properties` (String) Parsed as JSON.
- `discover_sample_size` (Number) The maximum number of documents to sample when attempting to discover the unique fields for a collection. Default: 10000
- `discover_timeout_seconds` (Number) The amount of time the connector will wait when it discovers a document. Defaults to 600 seconds. Valid range: 5 seconds to 1200 seconds. Default: 600
- `initial_load_timeout_hours` (Number) The amount of time an initial load is allowed to continue for before catching up on CDC logs. Default: 8
- `initial_waiting_seconds` (Number) The amount of time the connector will wait when it launches to determine if there is new data to sync or not. Defaults to 300 seconds. Valid range: 120 seconds to 1200 seconds. Default: 300
- `invalid_cdc_cursor_position_behavior` (String) Determines whether Airbyte should fail or re-sync data in case of an stale/invalid cursor value into the WAL. If 'Fail sync' is chosen, a user will have to manually reset the connection before being able to continue syncing data. If 'Re-sync data' is chosen, Airbyte will automatically trigger a refresh but could lead to higher cloud costs and data loss. Default: "Fail sync"; must be one of ["Fail sync", "Re-sync data"]
- `queue_size` (Number) The size of the internal queue. This may interfere with memory consumption and efficiency of the connector, please be careful. Default: 10000
- `update_capture_mode` (String) Determines how Airbyte looks up the value of an updated document. If 'Lookup' is chosen, the current value of the document will be read. If 'Post Image' is chosen, then the version of the document immediately after an update will be read. WARNING : Severe data loss will occur if this option is chosen and the appropriate settings are not set on your Mongo instance : https://www.mongodb.com/docs/manual/changeStreams/#change-streams-with-document-pre-and-post-images. Default: "Lookup"; must be one of ["Lookup", "Post Image"]

<a id="nestedatt--configuration--database_config"></a>
### Nested Schema for `configuration.database_config`

Optional:

- `mongo_db_atlas_replica_set` (Attributes) MongoDB Atlas-hosted cluster configured as a replica set (see [below for nested schema](#nestedatt--configuration--database_config--mongo_db_atlas_replica_set))
- `self_managed_replica_set` (Attributes) MongoDB self-hosted cluster configured as a replica set (see [below for nested schema](#nestedatt--configuration--database_config--self_managed_replica_set))

<a id="nestedatt--configuration--database_config--mongo_db_atlas_replica_set"></a>
### Nested Schema for `configuration.database_config.mongo_db_atlas_replica_set`

Required:

- `connection_string` (String) The connection string of the cluster that you want to replicate.
- `databases` (List of String) The names of the MongoDB databases that contain the collection(s) to replicate.
- `password` (String, Sensitive) The password associated with this username.
- `username` (String) The username which is used to access the database.

Optional:

- `additional_properties` (String) Parsed as JSON.
- `auth_source` (String) The authentication source where the user information is stored.  See https://www.mongodb.com/docs/manual/reference/connection-string/#mongodb-urioption-urioption.authSource for more details. Default: "admin"
- `schema_enforced` (Boolean) When enabled, syncs will validate and structure records against the stream's schema. Default: true


<a id="nestedatt--configuration--database_config--self_managed_replica_set"></a>
### Nested Schema for `configuration.database_config.self_managed_replica_set`

Required:

- `connection_string` (String) The connection string of the cluster that you want to replicate.  https://www.mongodb.com/docs/manual/reference/connection-string/#find-your-self-hosted-deployment-s-connection-string for more information.
- `databases` (List of String) The names of the MongoDB databases that contain the collection(s) to replicate.

Optional:

- `additional_properties` (String) Parsed as JSON.
- `auth_source` (String) The authentication source where the user information is stored. Default: "admin"
- `password` (String, Sensitive) The password associated with this username.
- `schema_enforced` (Boolean) When enabled, syncs will validate and structure records against the stream's schema. Default: true
- `username` (String) The username which is used to access the database.




<a id="nestedatt--resource_allocation"></a>
### Nested Schema for `resource_allocation`

Read-Only:

- `default` (Attributes) optional resource requirements to run workers (blank for unbounded allocations) (see [below for nested schema](#nestedatt--resource_allocation--default))
- `job_specific` (Attributes List) (see [below for nested schema](#nestedatt--resource_allocation--job_specific))

<a id="nestedatt--resource_allocation--default"></a>
### Nested Schema for `resource_allocation.default`

Read-Only:

- `cpu_limit` (String)
- `cpu_request` (String)
- `ephemeral_storage_limit` (String)
- `ephemeral_storage_request` (String)
- `memory_limit` (String)
- `memory_request` (String)


<a id="nestedatt--resource_allocation--job_specific"></a>
### Nested Schema for `resource_allocation.job_specific`

Read-Only:

- `job_type` (String) enum that describes the different types of jobs that the platform runs.
- `resource_requirements` (Attributes) optional resource requirements to run workers (blank for unbounded allocations) (see [below for nested schema](#nestedatt--resource_allocation--job_specific--resource_requirements))

<a id="nestedatt--resource_allocation--job_specific--resource_requirements"></a>
### Nested Schema for `resource_allocation.job_specific.resource_requirements`

Read-Only:

- `cpu_limit` (String)
- `cpu_request` (String)
- `ephemeral_storage_limit` (String)
- `ephemeral_storage_request` (String)
- `memory_limit` (String)
- `memory_request` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = airbyte_source_mongodb_v2.my_airbyte_source_mongodb_v2
  id = "..."
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import airbyte_source_mongodb_v2.my_airbyte_source_mongodb_v2 "..."
```
